<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Article">

  



<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
    <!-- OneTrust Cookies Consent Notice start for konghq.com -->
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" type="text/javascript" charset="UTF-8" data-domain-script="2c4de954-6bec-4e93-8086-64cb113f151a">
    </script>
    <script type="text/javascript">
    function OptanonWrapper() { }
    </script>
    <!-- OneTrust Cookies Consent Notice end for konghq.com -->

    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-NL48VKT');</script>
    <!-- End Google Tag Manager -->

    <!-- Recaptcha -->
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
  

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Running the Kong Ingress Controller with Istio - v2.3.x | Kong Docs</title>
  <meta name="description" content="Documentation for Kong, the Cloud Connectivity Company for APIs and Microservices.">
  <meta name="author" content="KongHQ">
  <meta property="og:title" content="Running the Kong Ingress Controller with Istio - v2.3.x | Kong Docs">
  <meta property="og:site_name" content="Kong Docs">
  <!-- use share link for facebook -->
  <meta property="og:url" content="https://docs.konghq.com">
  <meta property="og:description" content="Documentation for Kong, the Cloud Connectivity Company for APIs and Microservices.">
  <meta property="og:type" content="website">
  <meta property="og:locale" content="en_US">
  <meta property="og:image" content="https://docs.konghq.com/assets/images/share.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@thekonginc">
  <meta name="twitter:creator" content="@thekonginc">
  <meta name="twitter:url" content="https://docs.konghq.com">
  <meta name="twitter:description" content="Documentation for Kong, the Cloud Connectivity Company for APIs and Microservices.">
  <meta name="twitter:image" content="https://docs.konghq.com/assets/images/share.png">
  <meta property="fb:admins" content="227304446">
  <meta property="fb:admins" content="576641408">
  <meta name="google-site-verification" content="CrU3zp02dNKTe8NSAipL4NCPkrIjDXG8fViTZ-MIzP4">

  

  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "name": "KongHQ",
      "url": "https://docs.konghq.com",
      "logo": "https://docs.konghq.com/assets/images/logo.png",
      "sameAs": [
        "https://www.facebook.com/konginc",
        "https://twitter.com/thekonginc",
        "https://plus.google.com/+mashape"
      ]
    }
  </script>

  <!-- Preload assets -->
  <link rel="dns-prefetch" href="https://cloud.typography.com">
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet">
  <link rel="dns-prefetch" href="https://dev.visualwebsiteoptimizer.com">
  <link rel="dns-prefetch" href="https://cdn.segment.com">

  <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3">

  
    <link rel="canonical" href="https://docs.konghq.com/kubernetes-ingress-controller/2.12.x/guides/getting-started-istio/">
  

  
    <meta name="robots" content="follow,noindex">
  

  <!-- FontAwesome icon font -->
  <script src="https://kit.fontawesome.com/1332a92967.js" crossorigin="anonymous">
  </script>

  
  <script src="/docs.konghq.com/vite/assets/application-MBEAZv6G.js" crossorigin="anonymous" type="module"></script>
<link href="/docs.konghq.com/vite/assets/_commonjsHelpers-4gQjN7DL.js" rel="modulepreload" as="script" crossorigin="anonymous">


  

  

  <link rel="stylesheet" href="/docs.konghq.com/vite/assets/application-T5YiCv-Y.css" media="screen">

  
</head>


  <body id="" data-spy="scroll" data-target="#scroll-sidebar" data-offset="350">

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NL48VKT" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <header class="navbar-v2 closed">
  <a class="skip-main" href="#main">Skip to content</a>
  <!-- uncomment the promo-banner div when adding a new promo banner-->
  <!--also uncomment the promo banner sections in app/assets/stylesheets/header.less and application.js-->
  <!-- <div id="promo-banner">
    <div class="container">
      <div class="closebanner"></div> <strong>2023 API Summit Hackathon: Experiment with AI for APIs (August 28 - September 27) <a
          href="https://konghq.com/conferences/kong-summit/hackathon?utm_medium=website&utm_source=docs-konghq-com&utm_campaign=docs-banner">Learn More &rarr;</a></strong>
    </div>
  </div> -->
  <div class="navbar-content">
    <a href="https://konghq.com" class="navbar-brand col col-xl-auto" target="_blank" rel="noopener noreferrer">
      <img src="/assets/images/logos/kong-logo-blue.svg" alt="Kong Logo" id="kong-logo">
    </a>
    <span class="logo-divider">|</span>
    <a href="/" class="navbar-brand col col-xl-auto">
      <img src="/assets/images/logos/docs-logo-steel.svg" alt="Kong Docs Logo" id="kong-docs-logo">
    </a>

    <div class="separator mobile"></div>
      <div class="search-input-wrapper" id="getkong-algolia-search-input">
    </div>

    <div class="search-results-wrapper"></div>

    <div class="separator"></div>
    <div class="navbar-items" role="navigation" aria-label="Main menu">
      <ul class="navbar-items" role="menubar">
        <li id="top-module-list" aria-haspopup="true" role="menuitem" aria-expanded="false" class="navbar-item main-menu-item with-submenu  active">
          <span tabindex="0" id="docs-link" class="main-menu-item-title">Docs</span>
          <span class="caret"></span>
          <ul class="navbar-item-submenu" role="menu">
            <div class="submenu-section">
              <li role="menuitem" class="docs-dropdown-li">
                <a href="/api/" class="docs-dropdown-li__link" tabindex="-1">
                  <div class="docs-dropdown-li__card">
                    <span class="heading">Explore the API Specs</span>
                    <div class="docs-dropdown-li__card-link">
                      <img src="/assets/images/landing-page/view-all-api-specs.png" alt="View all API Specs">
                      <span class="docs-dropdown-li__card-image">
                        View all API Specs
                        <img src="/assets/images/landing-page/arrow-right.svg" alt="View all API Specs arrow image">
                      </span>
                    </div>
                  </div>
                </a>
              </li>

              <li role="menuitem" class="docs-dropdown-li" tabindex="-1">
                <div class="docs-dropdown-li__section">
                  <div class="docs-dropdown-li__section-title">
                    <span class="heading">Documentation</span>
                  </div>

                  <div class="docs-dropdown-li__section-items">
                    <a class="item item-all" href="/api/" tabindex="-1">
                      <div class="item__description">
                        <div class="item__description-title">API Specs</div>
                      </div>
                    </a>
                    
                      <a class="item" href="/gateway/latest/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong Gateway</div>
                          <div class="item__description-desc">Lightweight, fast, and flexible cloud-native API gateway</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/konnect/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong Konnect</div>
                          <div class="item__description-desc">Single platform for SaaS end-to-end connectivity</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/mesh/latest/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong Mesh</div>
                          <div class="item__description-desc">Enterprise service mesh based on Kuma and Envoy</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/deck/latest/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">decK</div>
                          <div class="item__description-desc">Helps manage Kongâ€™s configuration in a declarative fashion</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/kubernetes-ingress-controller/latest/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong Ingress Controller</div>
                          <div class="item__description-desc">Works inside a Kubernetes cluster and configures Kong to proxy traffic</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/gateway-operator/latest/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong Gateway Operator</div>
                          <div class="item__description-desc">Manage your Kong deployments on Kubernetes using YAML Manifests</div>
                        </div>
                      </a>
                    
                      <a class="item" href="https://docs.insomnia.rest/" tabindex="-1" target="_blank" rel="noopener nofollow noreferrer ">
                        
                        <div class="item__description">
                          <div class="item__description-title">Insomnia</div>
                          <div class="item__description-desc">Collaborative API development platform</div>
                        </div>
                      </a>
                    
                      <a class="item" href="https://kuma.io/docs/" tabindex="-1" target="_blank" rel="noopener nofollow noreferrer ">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kuma</div>
                          <div class="item__description-desc">Open-source distributed control plane with a bundled Envoy Proxy integration</div>
                        </div>
                      </a>
                    
                  </div>
                </div>
              </li>

            </div>
          </ul>
        </li>

        <li role="menuitem" aria-haspopup="true" aria-expanded="false" class="navbar-item main-menu-item with-submenu navbar-item-hub">
          <span id="plugin-link" class="main-menu-item-title" tabindex="0">Plugin Hub</span>
          <span class="caret"></span>
          <ul class="navbar-item-submenu" role="menu">
            <div class="submenu-section">
              <li role="menuitem" class="docs-dropdown-li">
                <a href="/hub/" class="docs-dropdown-li__link" tabindex="-1">
                  <div class="docs-dropdown-li__card">
                    <span class="heading">Explore the Plugin Hub</span>
                    <div class="docs-dropdown-li__card-link">
                      <img src="/assets/images/landing-page/view-all-plugins.svg" alt="View all plugins">
                      <span class="docs-dropdown-li__card-image">
                        View all plugins
                        <img src="/assets/images/landing-page/arrow-right.svg" alt="View all plugins arrow image">
                      </span>
                    </div>
                  </div>
                </a>
              </li>

              <li role="menuitem" class="docs-dropdown-li">
                <div class="docs-dropdown-li__section">
                  <div class="docs-dropdown-li__section-title">
                    <span class="heading">Functionality</span>
                    <a href="/hub/" class="view-all" tabindex="-1">
                      View all
                      <img src="/assets/images/landing-page/arrow-right.svg" alt="View all arrow image">
                    </a>
                  </div>

                  <div class="docs-dropdown-li__section-items">
                    <a class="item item-all" href="/hub/" tabindex="-1">
                      <div class="item__description">
                        <div class="item__description-title">View all plugins</div>
                      </div>
                    </a>

                    
                      <a class="item" href="/hub/?category=authentication" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/lock_person.svg" alt="Authentication's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Authentication</div>
                          <div class="item__description-desc">Protect your services with an authentication layer</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=security" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/shield.svg" alt="Security's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Security</div>
                          <div class="item__description-desc">Protect your services with additional security layer</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=traffic-control" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/route.svg" alt="Traffic Control's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Traffic Control</div>
                          <div class="item__description-desc">Manage, throttle and restrict inbound and outbound API traffic</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=serverless" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/serverless.svg" alt="Serverless's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Serverless</div>
                          <div class="item__description-desc">Invoke serverless functions in combination with other plugins</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=analytics-monitoring" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/bar_chart.svg" alt="Analytics &amp; Monitoring's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Analytics &amp; Monitoring</div>
                          <div class="item__description-desc">Visualize, inspect and monitor APIs and microservices traffic</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=transformations" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/swap_horiz.svg" alt="Transformations's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Transformations</div>
                          <div class="item__description-desc">Transform request and responses on the fly on Kong</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=logging" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/list_alt.svg" alt="Logging's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Logging</div>
                          <div class="item__description-desc">Log request and response data using the best transport for your infrastructure</div>
                        </div>
                      </a>
                    

                  </div>
                </div>
              </li>
            </div>
          </ul>
        </li>
        <li role="menuitem" class="main-menu-item">
          <a href="https://support.konghq.com/" class="navbar-item" target="_blank" rel="noopener nofollow noreferrer ">Support</a>
        </li>
        <li role="menuitem" class="main-menu-item">
          <a href="https://konghq.com/community/" class="navbar-item" target="_blank" rel="noopener noreferrer">Community</a>
        </li>
        <li role="menuitem" class="main-menu-item">
          <a href="https://education.konghq.com" class="navbar-item" target="_blank" rel="noopener nofollow noreferrer ">Kong Academy</a>
        </li>
      </ul>
      <a id="top-cta" href="https://konghq.com/contact-sales?utm_source=docs.konghq.com" class="navbar-button" target="_blank" rel="noopener nofollow noreferrer ">
        Get a Demo
      </a>
      <a id="konnect-cta" href="https://konghq.com/products/kong-konnect/register?utm_medium=referral&amp;utm_source=docs&amp;utm_campaign=gateway-konnect&amp;utm_content=top-nav" class="navbar-button" target="_blank" rel="noopener nofollow noreferrer ">
        Start Free Trial
      </a>
    </div>
    <div id="navbar-menu-toggle-button" class="small-screen-button" aria-label="Toggle navigation">
      <div></div>
      <div></div>
      <div></div>
    </div>
  </div>
</header>


    

<div class="page v2 " data-url="/kubernetes-ingress-controller/2.3.x/guides/getting-started-istio/">
  <div class="page--header-background page--header-background-doc"></div>
  <div class="container">

    <header class="page-header page-header-doc">
      <div class="page-header-product-version">
        <div class="edition">
          Kong Ingress Controller
          
        </div>
        
        <div class="version">
          2.3.x
          
        </div>
        
      </div>
      <div class="page-header--nav">
        <i class="sidebar-toggle"></i>

        
          









  <ul class="breadcrumbs">
    <li class="breadcrumb-item">
      <a href="/">
        <img src="/assets/images/icons/hub-layout/icn-breadcrumbs.svg" alt="Home icon">
      </a>
    </li>
    <li class="breadcrumb-item">
      <a href="/kubernetes-ingress-controller/2.3.x/">Kong Ingress Controller</a>
    </li>

    
    
      

      

      
      

      
      

      
        <li class="breadcrumb-item">
          
          Guides
          
        </li>
      
    
      

      

      
      

      
      

      
    

    
    
    <li class="breadcrumb-item">
      <a href="/kubernetes-ingress-controller/2.3.x/guides/getting-started-istio/">Running the Kong Ingress Controller with Istio</a>
    </li>
  </ul>

        

        

        <div class="github-links">
  <div class="github-links--edit">
    
      <a href="https://github.com/Kong/docs.konghq.com/edit/main/app/_src/kic-v2/guides/getting-started-istio.md" target="_blank" rel="noopener nofollow noreferrer ">
        <img src="/assets/images/icons/third-party/logo-github-white.svg" alt="github-edit-page">Edit this page
      </a>
    
  </div>
  <div class="github-links--issues">
    <a href="https://github.com/Kong/docs.konghq.com/issues" target="_blank" rel="noopener nofollow noreferrer ">
      <img src="/assets/images/icons/documentation/icn-monitoring-white.svg" alt="report-issue">Report an issue</a>
  </div>
</div>


      </div>
    </header>

    

<aside class="docs-sidebar">
  <i class="fa fa-times close-sidebar"></i>

  <div class="sidebar-title-container">
    <div class="docsets-dropdown dropdown">
      <button class="dropdown-button" id="module-dropdown" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" tabindex="0">
        <span>
          Kong Ingress Controller
          
        </span>
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu dropdown-menu-right with-submenu" id="module-list" role="menu" aria-labelledby="module-dropdown" aria-hidden="true">

        <li role="menuitem" tabindex="-1">
          <a href="/gateway/latest/">Kong Gateway</a>
        </li>
        <li role="menuitem" tabindex="-1">
          <a href="/konnect/">Kong Konnect</a>
        </li>
        <li role="menuitem" tabindex="-1">
          <a href="/mesh/latest/">Kong Mesh</a>
        </li>
        <li role="menuitem" tabindex="-1">
          <a href="/hub/">Plugin Hub</a>
        </li>
        <li role="menuitem" tabindex="-1">
          <a href="/deck/latest/">decK</a>
        </li>
        <li role="menuitem" tabindex="-1" class="active">
          <a href="/kubernetes-ingress-controller/latest/" class="active">Kong Ingress Controller</a>
        </li>
        <li role="menuitem" tabindex="-1">
          <a href="/gateway-operator/latest/">Kong Gateway Operator</a>
        </li>
        <li>
          <a href="https://docs.insomnia.rest/" target="_blank" rel="noopener nofollow noreferrer ">Insomnia</a>
        </li>
        <li role="menuitem" tabindex="-1">
          <a href="https://kuma.io/docs/" target="_blank" rel="noopener nofollow noreferrer ">Kuma</a>
        </li>
        <hr>
        <li role="menuitem" tabindex="-1">
          <a href="/contributing/">Docs contribution guidelines</a>
        </li>
      </ul>
    </div>

    
    <div class="versions-dropdown dropdown">
      <button class="dropdown-button" id="version-dropdown" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" tabindex="0">
        <span>
          Version 2.3.x
          
        </span>
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu dropdown-menu-right" id="version-list" role="menu" aria-labelledby="version-dropdown" aria-hidden="true">
          
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/3.0.x" data-version-id="3.0.x">
            3.0.x
             <em>(latest)</em>
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/2.12.x/guides/getting-started-istio/" data-version-id="2.12.x">
            2.12.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/2.11.x/guides/getting-started-istio/" data-version-id="2.11.x">
            2.11.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/2.10.x/guides/getting-started-istio/" data-version-id="2.10.x">
            2.10.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/2.9.x/guides/getting-started-istio/" data-version-id="2.9.x">
            2.9.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/2.8.x/guides/getting-started-istio/" data-version-id="2.8.x">
            2.8.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/2.7.x/guides/getting-started-istio/" data-version-id="2.7.x">
            2.7.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/2.6.x/guides/getting-started-istio/" data-version-id="2.6.x">
            2.6.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/2.5.x/guides/getting-started-istio/" data-version-id="2.5.x">
            2.5.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/2.4.x/guides/getting-started-istio/" data-version-id="2.4.x">
            2.4.x
            
          </a>
        </li>
        
          
          
          
          
        <li class="active" role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/2.3.x/guides/getting-started-istio/" class="active" data-version-id="2.3.x">
            2.3.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/2.2.x/guides/getting-started-istio/" data-version-id="2.2.x">
            2.2.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/2.1.x/guides/getting-started-istio/" data-version-id="2.1.x">
            2.1.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/2.0.x/guides/getting-started-istio/" data-version-id="2.0.x">
            2.0.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/1.3.x/guides/getting-started-istio/" data-version-id="1.3.x">
            1.3.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/1.2.x/guides/getting-started-istio/" data-version-id="1.2.x">
            1.2.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/1.1.x/guides/getting-started-istio/" data-version-id="1.1.x">
            1.1.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/1.0.x/guides/getting-started-istio/" data-version-id="1.0.x">
            1.0.x
            
          </a>
        </li>
        
        
      </ul>
    </div>
    
  </div>

  <ul class="sidebar-container" role="tree" aria-label="Documentation">
    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-1-introduction-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/">
        
  <img src="/assets/images/icons/documentation/icn-kubernetes-color.svg" alt="">


Introduction

      </a>
    
  </span>

  
    <ul class="items" id="id-1-introduction-subtree" role="group" aria-label="Introduction">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/faq/">
        

FAQ

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="https://github.com/Kong/kubernetes-ingress-controller/blob/main/CHANGELOG.md/" target="_blank" rel="noopener nofollow noreferrer ">
        

Changelog

      </a>
    
  </span>

  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-2-concepts-subtree">
    
      
  <img src="/assets/images/icons/documentation/icn-kubernetes-color.svg" alt="">


Concepts


        
          <button class="sidebar-tree-toggle" aria-label="toggle Concepts subtree">
            <i class="fa fa-chevron-down"></i>
          </button>
        
      
  </span>

  
    <ul class="items" id="id-2-concepts-subtree" role="group" aria-label="Concepts">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/concepts/design/">
        

Architecture

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/concepts/custom-resources/">
        

Custom Resources

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/concepts/deployment/">
        

Deployment Methods

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/concepts/k4k8s-with-kong-enterprise/">
        

Kong for Kubernetes with Kong Gateway Enterprise

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/concepts/ha-and-scaling/">
        

High-Availability and Scaling

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/concepts/ingress-classes/">
        

Resource Classes

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/concepts/security/">
        

Security

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/concepts/ingress-versions/">
        

Ingress Resource API Versions

      </a>
    
  </span>

  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-3-deployment-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/deployment/overview/">
        
  <img src="/assets/images/icons/documentation/icn-kubernetes-color.svg" alt="">


Deployment

      </a>
    
  </span>

  
    <ul class="items" id="id-3-deployment-subtree" role="group" aria-label="Deployment">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/deployment/minikube/">
        

Kong Ingress on Minikube

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/deployment/k4k8s/">
        

Kong for Kubernetes

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/deployment/k4k8s-enterprise/">
        

Kong Enterprise for Kubernetes (DB-less)

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/deployment/kong-enterprise/">
        

Kong Enterprise for Kubernetes (DB-backed)

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/deployment/aks/">
        

Kong Ingress on AKS

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/deployment/eks/">
        

Kong Ingress on EKS

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/deployment/gke/">
        

Kong Ingress on GKE

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/deployment/admission-webhook/">
        

Admission Controller

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/deployment/install-gateway-apis/">
        

Installing Gateway APIs

      </a>
    
  </span>

  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-4-guides-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/overview/">
        
  <img src="/assets/images/icons/documentation/icn-kubernetes-color.svg" alt="">


Guides

      </a>
    
  </span>

  
    <ul class="items" id="id-4-guides-subtree" role="group" aria-label="Guides">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/getting-started/">
        

Getting Started with KIC

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/upgrade/">
        

Upgrading from previous versions

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/getting-started-istio/">
        

Getting Started using Istio

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-4-4-using-custom-resources-subtree">
    
      

Using Custom Resources


        
          <button class="sidebar-tree-toggle" aria-label="toggle Using Custom Resources subtree">
            <i class="fa fa-chevron-down"></i>
          </button>
        
      
  </span>

  
    <ul class="items" id="id-4-4-using-custom-resources-subtree" role="group" aria-label="Using Custom Resources">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/using-kongplugin-resource/">
        

Using the Kong(Cluster)Plugin Resource

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/using-kongingress-resource/">
        

Using the KongIngress Resource

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/using-consumer-credential-resource/">
        

Using KongConsumer and Credential Resources

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/using-tcpingress/">
        

Using the TCPIngress Resource

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/using-udpingress/">
        

Using the UDPIngress Resource

      </a>
    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/configure-acl-plugin/">
        

Using the ACL and JWT Plugins

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/cert-manager/">
        

Using cert-manager with Kong

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/configuring-fallback-service/">
        

Configuring a Fallback Service

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/using-external-service/">
        

Using an External Service

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/configuring-https-redirect/">
        

Configuring HTTPS Redirects for Services

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/redis-rate-limiting/">
        

Using Redis for Rate Limiting

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/prometheus-grafana/">
        

Integrate KIC with Prometheus/Grafana

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/configuring-health-checks/">
        

Configuring Circuit-Breaker and Health-Checking

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/setting-up-custom-plugins/">
        

Setting up a Custom Plugin

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/using-ingress-with-grpc/">
        

Using Ingress with gRPC

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/upstream-mtls/">
        

Setting up Upstream mTLS

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/using-tcpingress/">
        

Exposing a TCP-based Service

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/using-udpingress/">
        

Exposing a UDP-based Service

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/using-mtls-auth-plugin/">
        

Using the mTLS Auth Plugin

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/using-oidc-plugin/">
        

Using the OpenID Connect Plugin

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/using-rewrites/">
        

Rewriting Hosts and Paths

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/preserve-client-ip/">
        

Preserving Client IP Address

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/using-gateway-api/">
        

Using Gateway API

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/guides/using-kong-with-knative/">
        

Using Kong with Knative

      </a>
    
  </span>

  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-5-references-subtree">
    
      
  <img src="/assets/images/icons/documentation/icn-kubernetes-color.svg" alt="">


References


        
          <button class="sidebar-tree-toggle" aria-label="toggle References subtree">
            <i class="fa fa-chevron-down"></i>
          </button>
        
      
  </span>

  
    <ul class="items" id="id-5-references-subtree" role="group" aria-label="References">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/references/annotations/">
        

KIC Annotations

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/references/cli-arguments/">
        

CLI Arguments

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/references/custom-resources/">
        

Custom Resource Definitions

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/references/plugin-compatibility/">
        

Plugin Compatibility

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/references/version-compatibility/">
        

Version Compatibility

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/troubleshooting/">
        

Troubleshooting

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.3.x/references/prometheus/">
        

Prometheus Metrics

      </a>
    
  </span>

  
</li>

      
    </ul>
  
</li>

    
  </ul>
</aside>




      <aside class="docs-toc">
        <i class="fa fa-times close-sidebar"></i>
        <i class="fa fa-chevron-right collapse-toc"></i>
        <i class="far fa-list-alt expand-toc"></i>

        <div id="oss-ee-toggle" data-current="Enterprise" style="display: none">
          <span class="oss-ee-toggle-inner">
            <img src="/assets/images/icons/icn-enterprise-black.svg" alt="enterprise-switcher-icon">
            <span>Switch to <span id="switch-to-version">OSS</span></span>
          </span>
        </div>

        
        <div class="docs-toc-title">
<img src="/assets/images/icons/hub-layout/icn-on-this-page.svg" alt="On this page"><a href="#">On this page</a>
</div>
<ul>
  <li>
<a href="#overview" class="active scroll-to">Overview</a>
    <ul>
      <li><a href="#prerequisites" class="scroll-to">Prerequisites</a></li>
      <li><a href="#download-and-verify-istio" class="scroll-to">Download and verify Istio</a></li>
      <li><a href="#deploy-istio" class="scroll-to">Deploy Istio</a></li>
      <li><a href="#create-an-istio-enabled-namespace-for-kong-ingress-controller" class="scroll-to">Create an Istio-enabled namespace for Kong Ingress Controller</a></li>
      <li><a href="#deploy-kong-gateway-and-kong-ingress-controller" class="scroll-to">Deploy Kong Gateway and Kong Ingress Controller</a></li>
      <li><a href="#deploy-bookinfo-example-application" class="scroll-to">Deploy BookInfo example application</a></li>
      <li><a href="#access-bookinfo-externally-through-kong-gateway" class="scroll-to">Access BookInfo externally through Kong Gateway</a></li>
      <li><a href="#configure-rate-limiting-with-a-kong-plugin" class="scroll-to">Configure rate limiting with a Kong plugin</a></li>
      <li><a href="#mesh-network-observability-with-kiali" class="scroll-to">Mesh network observability with Kiali</a></li>
    </ul>
  </li>
</ul>

        
      </aside>

    <div class="page-content-container page-content-container-doc v2 " id="documentation">
      <div class="toggles ">
          <i class="far fa-list-alt toc-sidebar-toggle"></i>
      </div>

      <div class="page-content">
        <div class="content show-anchor-links">
          
              <blockquote id="version-notice" class="important">
                
                You are browsing documentation for an outdated version.
                
                See the <a href="/kubernetes-ingress-controller/2.12.x/guides/getting-started-istio/">latest documentation here</a>.
              </blockquote>
          

          <h1 tabindex="-1" id="main" class="page-content-title">Running the Kong Ingress Controller with Istio
            

            
          </h1>

          

          
          

          <p>This guide walks you through deploying Kong Gateway with Kong Ingress Controller
as the gateway for <a href="https://istio.io" target="_blank" rel="noopener nofollow noreferrer ">Istio</a> as your service mesh solution.</p>

<p>See the <a href="/kubernetes-ingress-controller/2.3.x/references/version-compatibility/#istio">version compatibility reference</a> for the
tested compatible versions of Kong Ingress Controller and Istio.</p>

<h2 id="overview">Overview</h2>

<p><a href="https://istio.io" target="_blank" rel="noopener nofollow noreferrer ">Istio</a> is a popular <a href="https://istio.io/latest/docs/concepts/" target="_blank" rel="noopener nofollow noreferrer ">service mesh</a> that enables <a href="https://istio.io/latest/docs/concepts/traffic-management/" target="_blank" rel="noopener nofollow noreferrer ">traffic
management</a>, <a href="https://istio.io/latest/docs/concepts/security/" target="_blank" rel="noopener nofollow noreferrer ">security</a>, and <a href="https://istio.io/latest/docs/concepts/observability/" target="_blank" rel="noopener nofollow noreferrer ">observability</a>
features for <a href="https://kubernetes.io" target="_blank" rel="noopener nofollow noreferrer ">Kubernetes</a> clusters.</p>

<p>With Kong Gateway and Istio, you can combine the
mesh features of Istio inside your cluster with Kongâ€™s rich feature set
for ingress traffic from outside the cluster.</p>

<p>This guide shows how to:</p>

<ul>
  <li>Install Istio and Kong Gateway with Kong Ingress Controller in your cluster.</li>
  <li>Deploy an example Istio-enabled application.</li>
  <li>Deploy an Ingress customized with a Kong plugin for the example application.</li>
  <li>Make requests to the sample application via Kong and Istio.</li>
  <li>Explore the observability features of Istio to visualize cluster traffic.</li>
</ul>

<h3 id="prerequisites">Prerequisites</h3>

<ul>
  <li>A Kubernetes cluster v1.19 or later</li>
  <li>
<a href="https://kubernetes.io/docs/tasks/tools/#kubectl" target="_blank" rel="noopener nofollow noreferrer ">kubectl</a> v1.19 or later</li>
  <li>
<a href="https://helm.sh/" target="_blank" rel="noopener nofollow noreferrer ">Helm</a> v3.5 or later</li>
  <li>
<a href="https://github.com/curl/curl" target="_blank" rel="noopener nofollow noreferrer ">cURL</a> version 7.x.x</li>
</ul>

<p>You can use a managed cluster from a cloud provider, such as <a href="https://aws.amazon.com/eks/" target="_blank" rel="noopener nofollow noreferrer ">AWS (EKS)</a>,
<a href="https://cloud.google.com/kubernetes-engine/" target="_blank" rel="noopener nofollow noreferrer ">Google Cloud (GKE)</a>, or <a href="https://azure.microsoft.com/services/kubernetes-service/" target="_blank" rel="noopener nofollow noreferrer ">Azure (AKS)</a>, or you can work locally with
tools such as <a href="https://github.com/kubernetes/minikube" target="_blank" rel="noopener nofollow noreferrer ">Minikube</a> or <a href="https://microk8s.io/" target="_blank" rel="noopener nofollow noreferrer ">Microk8s</a>.</p>

<p>Your Kubernetes cluster must provision
  <code class="language-plaintext highlighter-rouge">LoadBalancer</code> type <a href="https://kubernetes.io/docs/concepts/services-networking/service/" target="_blank" rel="noopener nofollow noreferrer ">Services</a>. Cloud providers generally
  automate <code class="language-plaintext highlighter-rouge">LoadBalancer</code> type Service provisioning with their default
  settings, but if you run your cluster elsewhere you might need to check
  the relevant documentation for details. See also the Kubernetes documentation
  for <a href="https://kubernetes.io/docs/tasks/access-application-cluster/create-external-load-balancer/#external-load-balancer-providers" target="_blank" rel="noopener nofollow noreferrer ">external load balancers</a>.</p>

<p>Some of the <code class="language-plaintext highlighter-rouge">kubectl</code> calls in this guide assume your test
  cluster is the current default cluster context. To check, or for more
  information, see the Kubernetes documentation on
  <a href="https://kubernetes.io/docs/tasks/access-application-cluster/configure-access-multiple-clusters/" target="_blank" rel="noopener nofollow noreferrer ">configuring access to multiple clusters</a>.</p>

<h3 id="download-and-verify-istio">Download and verify Istio</h3>

<p>This guide shows how to install with <a href="https://istio.io/latest/docs/setup/install/istioctl/" target="_blank" rel="noopener nofollow noreferrer "><code class="language-plaintext highlighter-rouge">istioctl</code></a>,
because itâ€™s the community recommended method. The <a href="https://istio.io/latest/docs/setup/install/" target="_blank" rel="noopener nofollow noreferrer ">Istio installation guides</a>
explain alternative deployment mechanisms.</p>

<p>You can also explore the
  <a href="https://istio.io/latest/about/faq/#install-method-selection" target="_blank" rel="noopener nofollow noreferrer ">Istio FAQ</a> for more information about the differences
  between methods. However, if you choose another installation method,
  you might need to adjust the examples in this guide.</p>

<ol>
  <li>
    <p>Download the <code class="language-plaintext highlighter-rouge">istioctl</code> command-line utility for your platform:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="go">curl -s -L https://istio.io/downloadIstio | ISTIO_VERSION=1.11.2 sh -
</span></code></pre></div>    </div>

    <p>The response includes instructions to set up the <code class="language-plaintext highlighter-rouge">istioctl</code> program locally and perform
pre-check validation of the Istio installation.</p>
  </li>
  <li>
    <p>Make sure to add <code class="language-plaintext highlighter-rouge">istioctl</code> to your shellâ€™s path:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="gp">export PATH="$</span>PATH:<span class="nv">$PWD</span>/istio-1.11.2/bin<span class="s2">"
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>Verify that <code class="language-plaintext highlighter-rouge">istioctl</code> is working, and run checks on your
Kubernetes cluster to ensure Istio will deploy to it properly:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="go">istioctl x precheck
</span></code></pre></div>    </div>
  </li>
</ol>

<h3 id="deploy-istio">Deploy Istio</h3>

<p>Istio provides <a href="https://istio.io/latest/docs/setup/additional-setup/config-profiles/" target="_blank" rel="noopener nofollow noreferrer ">configuration profiles</a> to let you customize your Istio
deployment, and default profiles are included with the installation. This guide works with
the <code class="language-plaintext highlighter-rouge">demo</code> profile, which is meant for testing and evaluation.</p>

<p>Deploy Istio with the <code class="language-plaintext highlighter-rouge">demo</code> profile:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">istioctl install --set profile=demo -y
</span></code></pre></div></div>

<h3 id="create-an-istio-enabled-namespace-for-kong-ingress-controller">Create an Istio-enabled namespace for Kong Ingress Controller</h3>

<p>To integrate Istioâ€™s mesh functionality in any given Kubernetes
<a href="https://kubernetes.io/docs/concepts/workloads/pods/" target="_blank" rel="noopener nofollow noreferrer ">Pod</a>, a <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/" target="_blank" rel="noopener nofollow noreferrer ">namespace</a> must be <a href="https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/" target="_blank" rel="noopener nofollow noreferrer ">labeled</a>
with the <code class="language-plaintext highlighter-rouge">istio-injection=enabled</code> label to instruct <a href="https://istio.io/latest/docs/ops/deployment/architecture/#istiod" target="_blank" rel="noopener nofollow noreferrer ">IstioD</a> â€“ the main
control program for Istio â€“ to manage the pods and add them to the mesh network.</p>

<ol>
  <li>
    <p>Create the Istio-enabled namespace:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="go">kubectl create namespace kong-istio
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>Enable the namespace for the Istio mesh:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="go">kubectl label namespace kong-istio istio-injection=enabled
</span></code></pre></div>    </div>
  </li>
</ol>

<h3 id="deploy-kong-gateway-and-kong-ingress-controller">Deploy Kong Gateway and Kong Ingress Controller</h3>

<p>The <a href="https://github.com/Kong/charts" target="_blank" rel="noopener nofollow noreferrer ">Kong Helm Chart</a> deploys a Pod that includes containers for
Kong Gateway and Kong Ingress Controller. Hereâ€™s how to deploy it
to the Istio-enabled <code class="language-plaintext highlighter-rouge">kong-istio</code> namespace.</p>

<ol>
  <li>
    <p>Make sure you have the Kong Helm repository configured locally:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="go">helm repo add kong https://charts.konghq.com &amp;&amp; helm repo update
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>Deploy the chart:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="go">helm install -n kong-istio kong-istio kong/kong
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>Verify that Kong containers are deployed and the Istio sidecar container is injected
properly:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="go">kubectl describe pod -n kong-istio -l app.kubernetes.io/instance=kong-istio
</span></code></pre></div>    </div>
    <p>The output should look like:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="go">Events:
  Type     Reason     From               Message
  ----     ------     ----               -------
  Normal   Scheduled  default-scheduler  Successfully assigned kong-istio/kong-istio-kong-8f875f9fd-qsv4p to gke-istio-testing-default-pool-403b2219-l5ns
  Normal   Pulled     kubelet            Container image "docker.io/istio/proxyv2:1.11.2" already present on machine
  Normal   Created    kubelet            Created container istio-init
  Normal   Started    kubelet            Started container istio-init
  Normal   Pulling    kubelet            Pulling image "kong/kubernetes-ingress-controller:1.3"
  Normal   Pulled     kubelet            Successfully pulled image "kong/kubernetes-ingress-controller:1.3" in 2.645390171s
  Normal   Created    kubelet            Created container ingress-controller
  Normal   Started    kubelet            Started container ingress-controller
  Normal   Pulling    kubelet            Pulling image "kong:2.5"
  Normal   Pulled     kubelet            Successfully pulled image "kong:2.5" in 3.982679281s
  Normal   Created    kubelet            Created container proxy
  Normal   Started    kubelet            Started container proxy
  Normal   Pulled     kubelet            Container image "docker.io/istio/proxyv2:1.11.2" already present on machine
  Normal   Created    kubelet            Created container istio-proxy
  Normal   Started    kubelet            Started container istio-proxy
</span></code></pre></div>    </div>

    <p>See also the Kubernetes documentation on <a href="https://kubernetes.io/docs/tasks/debug-application-cluster/debug-application-introspection/#using-kubectl-describe-pod-to-fetch-details-about-pods" target="_blank" rel="noopener nofollow noreferrer ">using kubectl to fetch pod details</a>.</p>
  </li>
</ol>

<h3 id="deploy-bookinfo-example-application">Deploy BookInfo example application</h3>

<p>The Istio <a href="https://istio.io/latest/docs/examples/bookinfo/" target="_blank" rel="noopener nofollow noreferrer ">BookInfo</a> application provides a basic example that lets
you explore and evaluate Istioâ€™s mesh features.</p>

<p>As in previous steps, you create a namespace, add the appropriate label, and
then deploy.</p>

<ol>
  <li>
    <p>Create the namespace:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="go">kubectl create namespace bookinfo
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>Label the namespace for Istio injection:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="go">kubectl label namespace bookinfo istio-injection=enabled
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>Deploy the <code class="language-plaintext highlighter-rouge">BookInfo</code> app from the Istio bundle:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="go">kubectl -n bookinfo apply -f istio-1.11.2/samples/bookinfo/platform/kube/bookinfo.yaml
</span></code></pre></div>    </div>

    <p>The response should look like:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="go">service/details created
serviceaccount/bookinfo-details created
deployment.apps/details-v1 created
service/ratings created
serviceaccount/bookinfo-ratings created
deployment.apps/ratings-v1 created
service/reviews created
serviceaccount/bookinfo-reviews created
deployment.apps/reviews-v1 created
deployment.apps/reviews-v2 created
deployment.apps/reviews-v3 created
service/productpage created
serviceaccount/bookinfo-productpage created
deployment.apps/productpage-v1 created
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>Wait until the application is up:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="go">kubectl -n bookinfo wait --timeout 120s --for=condition=Available deployment productpage-v1
</span></code></pre></div>    </div>
  </li>
</ol>

<h3 id="access-bookinfo-externally-through-kong-gateway">Access BookInfo externally through Kong Gateway</h3>

<p>At this point the BookInfo application is available only internally. Hereâ€™s how
to expose it as a service with <a href="https://kubernetes.io/docs/concepts/services-networking/ingress/" target="_blank" rel="noopener nofollow noreferrer ">Ingress</a>.</p>

<ol>
  <li>
    <p>Save the following as <code class="language-plaintext highlighter-rouge">bookinfo-ingress.yaml</code>:</p>

    <div class="language-yaml highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">networking.k8s.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Ingress</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">productpage</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">bookinfo</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">ingressClassName</span><span class="pi">:</span> <span class="s">kong</span>
  <span class="na">rules</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">http</span><span class="pi">:</span>
      <span class="na">paths</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">path</span><span class="pi">:</span> <span class="s">/</span>
        <span class="na">pathType</span><span class="pi">:</span> <span class="s">ImplementationSpecific</span>
        <span class="na">backend</span><span class="pi">:</span>
          <span class="na">service</span><span class="pi">:</span>
            <span class="na">name</span><span class="pi">:</span> <span class="s">productpage</span>
            <span class="na">port</span><span class="pi">:</span>
              <span class="na">number</span><span class="pi">:</span> <span class="m">9080</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Apply the manifest:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="go">kubectl apply -f bookinfo-ingress.yaml
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>To make HTTP requests using Kong Gateway as ingress, you need the IP address of the
load balancer. Get the <code class="language-plaintext highlighter-rouge">LoadBalancer</code> address and store it in a local <code class="language-plaintext highlighter-rouge">PROXY_IP</code>
environment variable:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="gp">export PROXY_IP=$</span><span class="o">(</span>kubectl <span class="nt">-n</span> kong-istio get svc kong-istio-kong-proxy <span class="nt">-o</span><span class="o">=</span><span class="nv">jsonpath</span><span class="o">=</span><span class="s1">'{.status.loadBalancer.ingress[0].ip}'</span><span class="o">)</span>
</code></pre></div>    </div>

    <p>If youâ€™re running your cluster on AWS, specify <code class="language-plaintext highlighter-rouge">.hostname</code> instead of <code class="language-plaintext highlighter-rouge">.ip</code>. This is because the AWS load balancer
provides only a DNS name. This can also happen with other cluster providers.</p>

    <p>Make sure to check that the value of <code class="language-plaintext highlighter-rouge">$PROXY_IP</code> is the value of the external host.
You can check with <code class="language-plaintext highlighter-rouge">kubectl get svc kong-istio-kong-proxy</code>.</p>
  </li>
  <li>
    <p>Make an external connection request:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="gp">curl -s -v http://$</span>PROXY_IP | <span class="nb">head</span> <span class="nt">-4</span>
</code></pre></div>    </div>

    <p>The response should look like:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="gp">curl -s -v http://$</span>PROXY_IP | <span class="nb">head</span> <span class="nt">-4</span>
<span class="go">*   Trying 127.0.0.1:80...
</span><span class="gp">* Connected to 127.0.0.1 (127.0.0.1) port 80 (#</span>0<span class="o">)</span>
<span class="gp">&gt;</span><span class="w"> </span>GET / HTTP/1.1
<span class="gp">&gt;</span><span class="w"> </span>Host: 127.0.0.1
<span class="gp">&gt;</span><span class="w"> </span>User-Agent: curl/7.76.1
<span class="gp">&gt;</span><span class="w"> </span>Accept: <span class="k">*</span>/<span class="k">*</span>
<span class="gp">&gt;</span><span class="w">
</span><span class="go">* Mark bundle as not supporting multiuse
&lt; HTTP/1.1 200 OK
</span><span class="gp">&lt; content-type: text/html;</span><span class="w"> </span><span class="nv">charset</span><span class="o">=</span>utf-8
<span class="go">&lt; content-length: 1683
&lt; server: istio-envoy
&lt; x-envoy-upstream-service-time: 6
&lt; x-kong-upstream-latency: 4
&lt; x-kong-proxy-latency: 1
&lt; via: kong/2.5.0
&lt; x-envoy-decorator-operation: kong-istio-kong-proxy.kong-istio.svc.cluster.local:80/*
&lt;
{ [1079 bytes data]
</span><span class="gp">* Connection #</span>0 to host 127.0.0.1 left intact
<span class="gp">&lt;!DOCTYPE html&gt;</span><span class="w">
</span><span class="gp">&lt;html&gt;</span><span class="w">
</span><span class="gp">  &lt;head&gt;</span><span class="w">
</span><span class="gp">    &lt;title&gt;</span>Simple Bookstore App&lt;/title&gt;
</code></pre></div>    </div>
  </li>
</ol>

<p>Note the following in the response:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">&lt;title&gt;Simple Bookstore App&lt;/title&gt;</code> - connected to the <code class="language-plaintext highlighter-rouge">BookInfo</code> app as expected.</li>
  <li>
<code class="language-plaintext highlighter-rouge">server: istio-envoy</code> - the Istio mesh network is in use for the <code class="language-plaintext highlighter-rouge">BookInfo</code> product page.</li>
  <li>
<code class="language-plaintext highlighter-rouge">via: kong/2.5.0</code> -  Kong Gateway provides the connection to the backend <code class="language-plaintext highlighter-rouge">BookInfo</code> service.</li>
</ul>

<h3 id="configure-rate-limiting-with-a-kong-plugin">Configure rate limiting with a Kong plugin</h3>

<p>To demonstrate Kong features for Istio enabled services, you can create a <a href="/kubernetes-ingress-controller/2.3.x/guides/using-kongplugin-resource/">KongPlugin</a>
to enforce Kong rate-limiting on ingress requests to the <code class="language-plaintext highlighter-rouge">BookInfo</code>
service. The plugin adds rate limiting to the <code class="language-plaintext highlighter-rouge">BookInfo</code> application and limits outside access to 30 requests per minute.</p>

<ol>
  <li>
    <p>Save the following as <code class="language-plaintext highlighter-rouge">bookinfo-ratelimiter.yaml</code>:</p>

    <div class="language-yaml highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">configuration.konghq.com/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">KongPlugin</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">rate-limit</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">bookinfo</span>
<span class="na">plugin</span><span class="pi">:</span> <span class="s">rate-limiting</span>
<span class="na">config</span><span class="pi">:</span>
  <span class="na">minute</span><span class="pi">:</span> <span class="m">30</span>
  <span class="na">policy</span><span class="pi">:</span> <span class="s">local</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Apply the manifest:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="go">kubectl apply -f bookinfo-ratelimiter.yaml
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>Add an annotation to the Ingress resource to attach rate limiting:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="go">kubectl -n bookinfo patch ingress productpage -p '{"metadata":{"annotations":{"konghq.com/plugins":"rate-limit"}}}'
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>Inspect the headers in the response from the BookInfo product page:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="gp">curl -s -v http://$</span>PROXY_IP 2&gt;&amp;1 | <span class="nb">grep </span>ratelimit
</code></pre></div>    </div>

    <p>The response should look like:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="go">&lt; x-ratelimit-remaining-minute: 26
&lt; x-ratelimit-limit-minute: 30
&lt; ratelimit-remaining: 26
&lt; ratelimit-limit: 30
&lt; ratelimit-reset: 2
</span></code></pre></div>    </div>
  </li>
</ol>

<p>For more examples of Kong features to add to your environment, see the
<a href="/kubernetes-ingress-controller/2.3.x/guides/overview/">available guides</a>.</p>

<h3 id="mesh-network-observability-with-kiali">Mesh network observability with Kiali</h3>

<p>For observability, Istio includes a web console called <a href="https://kiali.io/" target="_blank" rel="noopener nofollow noreferrer ">Kiali</a> that can
provide <a href="https://kiali.io/docs/features/topology/" target="_blank" rel="noopener nofollow noreferrer ">topology</a>, <a href="https://kiali.io/docs/features/health/" target="_blank" rel="noopener nofollow noreferrer ">health</a>, and
<a href="https://kiali.io/docs/features/" target="_blank" rel="noopener nofollow noreferrer ">other features</a> to provide insights
into your application traffic.</p>

<p>You also need a Prometheus metrics server, and Grafana for visualization dashboards.
Istio includes these as add-ons. Hereâ€™s what to do:</p>

<ol>
  <li>
    <p>Install Prometheus:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="go">kubectl apply -f https://raw.githubusercontent.com/istio/istio/release-1.11/samples/addons/prometheus.yaml
</span></code></pre></div>    </div>
    <p>The response should look like:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="go">serviceaccount/prometheus created
configmap/prometheus created
clusterrole.rbac.authorization.k8s.io/prometheus created
clusterrolebinding.rbac.authorization.k8s.io/prometheus created
service/prometheus created
deployment.apps/prometheus created
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>Install <a href="https://grafana.com/" target="_blank" rel="noopener nofollow noreferrer ">Grafana</a>:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="go">kubectl apply -f https://raw.githubusercontent.com/istio/istio/release-1.11/samples/addons/grafana.yaml
</span></code></pre></div>    </div>

    <p>The response should look like:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="go">serviceaccount/grafana created
configmap/grafana created
service/grafana created
deployment.apps/grafana created
configmap/istio-grafana-dashboards created
configmap/istio-services-grafana-dashboards created
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>Install Kiali:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="go">kubectl apply -f https://raw.githubusercontent.com/istio/istio/release-1.11/samples/addons/kiali.yaml
</span></code></pre></div>    </div>

    <p>The response should look like:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="go">serviceaccount/kiali created
configmap/kiali created
clusterrole.rbac.authorization.k8s.io/kiali-viewer created
clusterrole.rbac.authorization.k8s.io/kiali created
clusterrolebinding.rbac.authorization.k8s.io/kiali created
role.rbac.authorization.k8s.io/kiali-controlplane created
rolebinding.rbac.authorization.k8s.io/kiali-controlplane created
service/kiali created
deployment.apps/kiali created
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>Generate traffic for the BookInfo application, to create traffic metrics to view in Kiali:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="gp">COUNT=25 ;</span><span class="w"> </span><span class="k">until</span> <span class="o">[</span> <span class="nv">$COUNT</span> <span class="nt">-le</span> 0 <span class="o">]</span><span class="p">;</span> <span class="k">do </span>curl <span class="nt">-s</span> <span class="nt">-o</span> /dev/null http://<span class="nv">$PROXY_IP</span> <span class="p">;</span> <span class="o">((</span>COUNT--<span class="o">))</span><span class="p">;</span> <span class="k">done</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>In a production environment, youâ€™d access the Kiali dashboard through the Kong
ingress. But this sample version of Kiali is meant for exploring only internal traffic on the
cluster. You can instead use the <a href="https://kubernetes.io/docs/tasks/access-application-cluster/port-forward-access-application-cluster/" target="_blank" rel="noopener nofollow noreferrer ">port-forwarding</a> functionality that <code class="language-plaintext highlighter-rouge">istioctl</code>
provides.</p>

    <p>In a new terminal, run:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="go">istioctl dashboard kiali
</span></code></pre></div>    </div>

    <p>This runs a <code class="language-plaintext highlighter-rouge">port-forward</code> to Kiali in the background and opens it in your web browser.
The response should look like:</p>

    <div class="language-console highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="go">http://localhost:20001/kiali
</span></code></pre></div>    </div>

    <p>If http://localhost:20001/kiali doesnâ€™t open automatically
in your browser, navigate manually to the address.</p>
  </li>
</ol>

<p>Youâ€™re now connected to Kiali and have a window into the traffic moving across
your mesh network. Familiarize yourself with Kiali and graphically view the
topology for your <code class="language-plaintext highlighter-rouge">BookInfo</code> applicationâ€™s web requests:</p>

<ul>
  <li>Choose <em>Workloads</em> from the menu on the left.</li>
  <li>Select <code class="language-plaintext highlighter-rouge">bookinfo</code> in the <em>Namespace</em> drop-down menu.</li>
  <li>Select the <em>productpage-v1</em> service name.</li>
  <li>In the top-right corner change the <code class="language-plaintext highlighter-rouge">Last &lt;time&gt;</code> dropdown to <code class="language-plaintext highlighter-rouge">Last 1h</code>.</li>
  <li>Select the three dots button in the top-right corner of <em>Graph Overview</em> and select <em>Show full graph</em>.</li>
  <li>Select <code class="language-plaintext highlighter-rouge">kong-istio</code> alongside <code class="language-plaintext highlighter-rouge">bookinfo</code> in the <em>Namespace</em> diagram.</li>
</ul>

<p>You should see a connection graph that shows connections from the Kong Gateway
deployed at the edge of your cluster down to the backend BookInfo application.
The graph demonstrates some of the fundamental capabilities of Istio, and you can
explore further with Kiali. For more information, see the
<a href="https://kiali.io/docs/" target="_blank" rel="noopener nofollow noreferrer ">Kiali Documentation</a>.</p>

<p>The <a href="https://istio.io/latest/docs/tasks/" target="_blank" rel="noopener nofollow noreferrer ">Istio Task Documentation</a> also provides guides for other Istio features.</p>



          

        </div>
      </div>
    </div>
    
      <div id="scroll-to-top-button">
        <i class="fas fa-chevron-up"></i>
      </div>
      
        <div class="feedback-widget-container">
  <input id="feedback-widget-checkbox" type="checkbox">
  <label for="feedback-widget-checkbox">
    <img src="/assets/images/icons/feedback-widget.svg" alt="Feedback widget">
  </label>
  <div class="feedback-container">
    <div class="feedback-thankyou">
      Thank you for your feedback.
    </div>
    <div class="feedback-comment">
      <textarea id="feedback-comment-text" rows="3" placeholder="Please let us know what we can improve on this page..."></textarea>
      <div class="feedback-comment-buttons">
        <button id="feedback-comment-button-back">Back</button>
        <button id="feedback-comment-button-submit" class="button-primary">Submit</button>
      </div>
    </div>
    <div class="feedback-options">
      <div class="feedback-options-title">Was this page useful?</div>
      <div class="feedback-options-buttons">
        <i data-feedback-result="yes" class="feedback-options-button far fa-thumbs-up"></i>
        <i data-feedback-result="no" class="feedback-options-button far fa-thumbs-down"></i>
      </div>
    </div>
  </div>
</div>

      
    
  </div>

  <div id="image-modal" data-image-expand-disabled="">
  <div class="image-modal-backdrop"></div>
  <div class="image-container">
    <img src="" alt="">
    <i class="fa fa-times"></i>
  </div>
</div>




  <div class="modal closed" id="modal" role="dialog" aria-hidden="true" aria-labelledby="title" aria-describedby="description">
    <div class="konnect-cta-card">
      <div class="title">
      Too much on your plate?
      <a href="#" class="cta-card-close modal-close" id="modal-close">
          <img src="/assets/images/icons/documentation/close.svg" alt="close cta icon">
        </a>
      </div>
      <div class="description">More features, less infrastructure with Kong Konnect. 1M requests per month for free.</div>
      <a href="https://konghq.com/products/kong-konnect/register?utm_medium=referral&amp;utm_source=docs&amp;utm_campaign=gateway-konnect&amp;utm_campaign=right-nav-card&amp;utm_content=kubernetes-ingress-controller" class="button" target="_blank" rel="noopener nofollow noreferrer ">
      Try it for Free
    </a>
    </div>
  </div>
  <div id="modal-open" class="modal-open"></div>
  <div class="modal-overlay closed" id="modal-overlay"></div>



    <footer class="marketing-footer--light-gray">
  <section>
    <ul class="newsletter">
      <li class="logo-wrapper">
        <div class="logo">
          <img src="/assets/images/logos/kong-logo-blue.svg" alt="Kong">
        </div>
        <div class="footer-title">Powering the API world</div>
        <p>
          Increase developer productivity, security, and performance at scale with the unified platform for API management, service mesh, and ingress controller.
        </p>
        <div class="footer-form-container">
          <form id="subscribe-form" method="POST" action="/assets/javascripts/subscribe.js">
            <input required id="subscribe-input" type="email" name="email" placeholder="Email" aria-required="true" aria-invalid="false">
            <input id="footer-form-button" type="submit" form="subscribe-form" value="Subscribe">
          </form>

          <div id="form-response"></div>
        </div>
      </li>

      <li class="footer-columns">
        <ul class="footer-columns-product-list">
          <li>
            <nav>
              <div class="footer-category">Products</div>
              <ul>
                <li>
                  <a href="https://konghq.com/products/kong-konnect" target="_blank" rel="noopener nofollow noreferrer ">Kong Konnect</a>
                </li>
                <li>
                  <a href="https://konghq.com/products/kong-enterprise" target="_blank" rel="noopener nofollow noreferrer ">Kong Gateway Enterprise</a>
                </li>
                <li>
                  <a href="https://konghq.com/products/kong-gateway" target="_blank" rel="noopener nofollow noreferrer ">Kong Gateway</a>
                </li>
                <li>
                  <a href="https://konghq.com/products/kong-mesh" target="_blank" rel="noopener nofollow noreferrer ">Kong Mesh</a>
                </li>
                <li>
                  <a href="https://konghq.com/products/kong-ingress-controller" target="_blank" rel="noopener nofollow noreferrer ">Kong Ingress Controller</a>
                </li>
                <li>
                  <a href="https://insomnia.rest/" target="_blank" rel="noopener nofollow noreferrer noopener nofollow noreferrer">Kong Insomnia</a>
                </li>
                <li>
                  <a href="https://konghq.com/product-updates" target="_blank" rel="noopener nofollow noreferrer ">Product Updates</a>
                </li>
                <li>
                  <a href="https://konghq.com/contact-sales" target="_blank" rel="noopener nofollow noreferrer ">Get Started</a>
                </li>
              </ul>
            </nav>
          </li>
          <li>
            <nav>
              <div class="footer-category">Documentation</div>
              <ul>
                <li>
                  <a href="/konnect/">Kong Konnect Docs</a>
                </li>
                <li>
                  <a href="/gateway/latest/">Kong Gateway Docs</a>
                </li>
                <li>
                  <a href="/gateway/latest/kong-enterprise/">Kong Gateway Enterprise Docs</a>
                </li>
                <li>
                  <a href="/mesh/latest/">Kong Mesh Docs</a>
                </li>
                <li>
                  <a href="https://docs.insomnia.rest/" target="_blank" rel="noopener nofollow noreferrer noopener nofollow noreferrer">Kong Insomnia Docs</a>
                </li>
                <li>
                  <a href="/hub/">Kong Konnect Plugin Hub</a>
                </li>
              </ul>
            </nav>
          </li>
          <li>
            <nav>
              <div class="footer-category">Open Source</div>
              <ul>
                <li>
                  <a href="https://konghq.com/install/#kong-community" target="_blank" rel="noopener nofollow noreferrer ">Kong Gateway</a>
                </li>
                <li>
                  <a href="https://kuma.io/" target="_blank" rel="noopener nofollow noreferrer noopener nofollow noreferrer">Kuma</a>
                </li>
                <li>
                  <a href="https://insomnia.rest/" target="_blank" rel="noopener nofollow noreferrer noopener nofollow noreferrer">Insomnia</a>
                </li>
                <li>
                  <a href="https://konghq.com/community" target="_blank" rel="noopener nofollow noreferrer ">Kong Community</a>
                </li>
              </ul>
            </nav>
          </li>
          <li>
            <nav>
              <div class="footer-category">Company</div>
              <ul>
                <li>
                  <a href="https://konghq.com/company/about-us" target="_blank" rel="noopener nofollow noreferrer ">About Kong</a>
                </li>
                <li>
                  <a href="https://konghq.com/customers" target="_blank" rel="noopener nofollow noreferrer ">Customers</a>
                </li>
                <li>
                  <a href="https://konghq.com/company/careers" target="_blank" rel="noopener nofollow noreferrer ">Careers</a>
                </li>
                <li>
                  <a href="https://konghq.com/press-room" target="_blank" rel="noopener nofollow noreferrer ">Press</a>
                </li>
                <li>
                  <a href="https://konghq.com/events" target="_blank" rel="noopener nofollow noreferrer ">Events</a>
                </li>
                <li>
                  <a href="https://konghq.com/company/contact-us" target="_blank" rel="noopener nofollow noreferrer ">Contact</a>
                </li>
              </ul>
            </nav>
          </li>
        </ul>
      </li>

    </ul>
  </section>

  <section class="legal">
    <div class="container d-flex">
      <div class="social">
        <div class="social-link">
          <a href="https://www.facebook.com/konghq/" title="Facebook" target="_blank" rel="noopener nofollow noreferrer "><i aria-label="Facebook" class="fa fa-facebook-official" aria-hidden="true"></i></a>
        </div>
        <div class="social-link">
          <a href="https://twitter.com/thekonginc" title="Twitter" target="_blank" rel="noopener nofollow noreferrer "><i aria-label="Twitter" class="fa fa-twitter" aria-hidden="true"></i></a>
        </div>
        <div class="social-link">
          <a href="https://www.meetup.com/topics/kong/all/" title="Meetup" target="_blank" rel="noopener nofollow noreferrer "><i aria-label="Meetup" class="fa fa-meetup" aria-hidden="true"></i></a>
        </div>
        <div class="social-link">
          <a href="https://linkedin.com/company/278819" title="LinkedIn" target="_blank" rel="noopener nofollow noreferrer "><i aria-label="GitHub" class="fa fa-linkedin" aria-hidden="true"></i></a>
        </div>
        <div class="social-link">
          <a href="https://github.com/kong/kong" target="_blank" class="btn-gh" title="GitHub" rel="noopener nofollow noreferrer ">
            <i class="fa fa-github" aria-hidden="true" aria-label="GitHub"></i>
          </a>
        </div>
      </div>
      <ul>
        <li>
          <span class="mashape-footer-content">
            <a href="https://konghq.com/terms" target="_blank" rel="noopener nofollow noreferrer ">Terms</a><b>â€¢</b>
            <a href="https://konghq.com/privacy" target="_blank" rel="noopener nofollow noreferrer ">Privacy</a><b>â€¢</b>
            <a href="https://konghq.com/compliance" target="_blank" rel="noopener nofollow noreferrer ">Trust and Compliance</a>
          </span>
        </li>
      </ul>
      <div>
        <span>Â© Kong Inc. 2024 Â </span>
      </div>
    </div>
  </section>

  <script type="text/javascript">
    function onSubmit(response) {
      document.getElementById("subscription_form").submit();
      document.getElementById("follow_up_subscription_form").submit();
      if (response.length == 0) {
        alert("reCaptcha verification failed");
      }
    }
  </script>
</footer>
 <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<i class=\"fa fa-link\"></i>";
    anchor.title = `${id} Permalink`;
    return anchor;
  };

  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var className =
        ".show-anchor-links h1, .show-anchor-links h2, .show-anchor-links h3, " +
        ".show-anchor-links h4, .show-anchor-links h5, .show-anchor-links h6";
      var headers = document.querySelectorAll(className);

      for (var i = 0; i < headers.length; i++) {
        var header = headers[i];
        if (typeof header.id !== "undefined" && header.id !== "") {
          header.prepend(anchorForId(header.id));
        }
      }
    }
  };
</script>


    
      <script>
        (function stp(){
          if (typeof analytics == "undefined"){
            return setTimeout(stp, 30);
          }
          analytics.page();
        })();
      </script>
    

    <div id="fb-root"></div>
    <script id="github-bjs" src="https://buttons.github.io/buttons.js" async defer></script>

    <script type="text/javascript">
      var _vwo_code = (function() {
        var account_id = 125292,
          settings_tolerance = 2000,
          library_tolerance = 2500,
          use_existing_jquery = true,
          // DO NOT EDIT BELOW THIS LINE
          f = false,
          d = document;
        return {
          use_existing_jquery: function() {
            return use_existing_jquery;
          },
          library_tolerance: function() {
            return library_tolerance;
          },
          finish: function() {
            if (!f) {
              f = true;
              var a = d.getElementById('_vis_opt_path_hides');
              if (a) a.parentNode.removeChild(a);
            }
          },
          finished: function() {
            return f;
          },
          load: function(a) {
            var b = d.createElement('script');
            b.src = a;
            b.type = 'text/javascript';
            b.innerText;
            b.onerror = function() {
              _vwo_code.finish();
            };
            d.getElementsByTagName('head')[0].appendChild(b);
          },
          init: function() {
            settings_timer = setTimeout(
              '_vwo_code.finish()',
              settings_tolerance
            );
            this.load(
              '//dev.visualwebsiteoptimizer.com/j.php?a=' +
                account_id +
                '&u=' +
                encodeURIComponent(d.URL) +
                '&r=' +
                Math.random()
            );
            var a = d.createElement('style'),
              b = '',
              h = d.getElementsByTagName('head')[0];
            a.setAttribute('id', '_vis_opt_path_hides');
            a.setAttribute('type', 'text/css');
            if (a.styleSheet) a.styleSheet.cssText = b;
            else a.appendChild(d.createTextNode(b));
            h.appendChild(a);
            return settings_timer;
          }
        };
      })();
      _vwo_settings_timer = _vwo_code.init();
    </script>

    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>

    
      <script type="text/javascript">
        docsearch({
          appId: '05Y6TLHNFZ',
          apiKey: '80483bfe28d9fd036a11a6f6a06454f8',
          indexName: 'konghq',
          container: '#getkong-algolia-search-input',
          disableUserPersonalization: true,
          placeholder: 'Search the docs...',
          // Override selected event to allow for local environment navigation
          transformItems(items) {
            return items.map((item) => {
              var modifiedUrl = window.location.protocol + '//' + window.location.host + item.url.split('docs.konghq.com')[1];
              return { ...item, url: modifiedUrl };
            });
          },
          translations: {
            button: {
              buttonText: 'Search the docs..',
              buttonAriaLabel: 'Search the docs...'
            }
          },
          resultsFooterComponent({ state }) {
            var facetParameters = {};
            
              facetParameters = {"version[0]":"2.3.x","product[0]":"Kong Ingress Controller"};
            

            var queryParams = new URLSearchParams(facetParameters);
            queryParams.set('query', state.query);

            return {
              // The HTML `tag`
              type: 'a',
              ref: undefined,
              constructor: undefined,
              key: state.query,
              // Its props
              props: {
                href: `/search/?${queryParams.toString()}`,
                target: '_blank',
                // Raw text rendered in the HTML element
                children: 'See more >'
              },
              __v: null,
            };
          },
          
           searchParameters: {
              optionalFilters: ['product:Kong Gateway Operator<score=1>', 'product:Kong Ingress Controller<score=2>'],
              facetFilters: [ 'version:2.3.x']
            }
            
          });
      </script>
    
  </div>
</body>

  

</html>
