<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Article">

  



<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
    <!-- OneTrust Cookies Consent Notice start for konghq.com -->
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" type="text/javascript" charset="UTF-8" data-domain-script="2c4de954-6bec-4e93-8086-64cb113f151a">
    </script>
    <script type="text/javascript">
    function OptanonWrapper() { }
    </script>
    <!-- OneTrust Cookies Consent Notice end for konghq.com -->

    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-NL48VKT');</script>
    <!-- End Google Tag Manager -->

    <!-- Recaptcha -->
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
  

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Debug &amp; Troubleshooting - v2.10.x | Kong Docs</title>
  <meta name="description" content="Documentation for Kong, the Cloud Connectivity Company for APIs and Microservices.">
  <meta name="author" content="KongHQ">
  <meta property="og:title" content="Debug &amp; Troubleshooting - v2.10.x | Kong Docs">
  <meta property="og:site_name" content="Kong Docs">
  <!-- use share link for facebook -->
  <meta property="og:url" content="https://docs.konghq.com">
  <meta property="og:description" content="Documentation for Kong, the Cloud Connectivity Company for APIs and Microservices.">
  <meta property="og:type" content="website">
  <meta property="og:locale" content="en_US">
  <meta property="og:image" content="https://docs.konghq.com/assets/images/share.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@thekonginc">
  <meta name="twitter:creator" content="@thekonginc">
  <meta name="twitter:url" content="https://docs.konghq.com">
  <meta name="twitter:description" content="Documentation for Kong, the Cloud Connectivity Company for APIs and Microservices.">
  <meta name="twitter:image" content="https://docs.konghq.com/assets/images/share.png">
  <meta property="fb:admins" content="227304446">
  <meta property="fb:admins" content="576641408">
  <meta name="google-site-verification" content="CrU3zp02dNKTe8NSAipL4NCPkrIjDXG8fViTZ-MIzP4">

  

  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "name": "KongHQ",
      "url": "https://docs.konghq.com",
      "logo": "https://docs.konghq.com/assets/images/logo.png",
      "sameAs": [
        "https://www.facebook.com/konginc",
        "https://twitter.com/thekonginc",
        "https://plus.google.com/+mashape"
      ]
    }
  </script>

  <!-- Preload assets -->
  <link rel="dns-prefetch" href="https://cloud.typography.com">
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet">
  <link rel="dns-prefetch" href="https://dev.visualwebsiteoptimizer.com">
  <link rel="dns-prefetch" href="https://cdn.segment.com">

  <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3">

  
    <link rel="canonical" href="https://docs.konghq.com/kubernetes-ingress-controller/latest/reference/troubleshooting/">
  

  
    <meta name="robots" content="follow,noindex">
  

  <!-- FontAwesome icon font -->
  <script src="https://kit.fontawesome.com/1332a92967.js" crossorigin="anonymous">
  </script>

  
  <script src="/docs.konghq.com/vite/assets/application-MBEAZv6G.js" crossorigin="anonymous" type="module"></script>
<link href="/docs.konghq.com/vite/assets/_commonjsHelpers-4gQjN7DL.js" rel="modulepreload" as="script" crossorigin="anonymous">


  

  

  <link rel="stylesheet" href="/docs.konghq.com/vite/assets/application-T5YiCv-Y.css" media="screen">

  
</head>


  <body id="" data-spy="scroll" data-target="#scroll-sidebar" data-offset="350">

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NL48VKT" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <header class="navbar-v2 closed">
  <a class="skip-main" href="#main">Skip to content</a>
  <!-- uncomment the promo-banner div when adding a new promo banner-->
  <!--also uncomment the promo banner sections in app/assets/stylesheets/header.less and application.js-->
  <!-- <div id="promo-banner">
    <div class="container">
      <div class="closebanner"></div> <strong>2023 API Summit Hackathon: Experiment with AI for APIs (August 28 - September 27) <a
          href="https://konghq.com/conferences/kong-summit/hackathon?utm_medium=website&utm_source=docs-konghq-com&utm_campaign=docs-banner">Learn More &rarr;</a></strong>
    </div>
  </div> -->
  <div class="navbar-content">
    <a href="https://konghq.com" class="navbar-brand col col-xl-auto" target="_blank" rel="noopener noreferrer">
      <img src="/assets/images/logos/kong-logo-blue.svg" alt="Kong Logo" id="kong-logo">
    </a>
    <span class="logo-divider">|</span>
    <a href="/" class="navbar-brand col col-xl-auto">
      <img src="/assets/images/logos/docs-logo-steel.svg" alt="Kong Docs Logo" id="kong-docs-logo">
    </a>

    <div class="separator mobile"></div>
      <div class="search-input-wrapper" id="getkong-algolia-search-input">
    </div>

    <div class="search-results-wrapper"></div>

    <div class="separator"></div>
    <div class="navbar-items" role="navigation" aria-label="Main menu">
      <ul class="navbar-items" role="menubar">
        <li id="top-module-list" aria-haspopup="true" role="menuitem" aria-expanded="false" class="navbar-item main-menu-item with-submenu  active">
          <span tabindex="0" id="docs-link" class="main-menu-item-title">Docs</span>
          <span class="caret"></span>
          <ul class="navbar-item-submenu" role="menu">
            <div class="submenu-section">
              <li role="menuitem" class="docs-dropdown-li">
                <a href="/api/" class="docs-dropdown-li__link" tabindex="-1">
                  <div class="docs-dropdown-li__card">
                    <span class="heading">Explore the API Specs</span>
                    <div class="docs-dropdown-li__card-link">
                      <img src="/assets/images/landing-page/view-all-api-specs.png" alt="View all API Specs">
                      <span class="docs-dropdown-li__card-image">
                        View all API Specs
                        <img src="/assets/images/landing-page/arrow-right.svg" alt="View all API Specs arrow image">
                      </span>
                    </div>
                  </div>
                </a>
              </li>

              <li role="menuitem" class="docs-dropdown-li" tabindex="-1">
                <div class="docs-dropdown-li__section">
                  <div class="docs-dropdown-li__section-title">
                    <span class="heading">Documentation</span>
                  </div>

                  <div class="docs-dropdown-li__section-items">
                    <a class="item item-all" href="/api/" tabindex="-1">
                      <div class="item__description">
                        <div class="item__description-title">API Specs</div>
                      </div>
                    </a>
                    
                      <a class="item" href="/gateway/latest/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong Gateway</div>
                          <div class="item__description-desc">Lightweight, fast, and flexible cloud-native API gateway</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/konnect/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong Konnect</div>
                          <div class="item__description-desc">Single platform for SaaS end-to-end connectivity</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/mesh/latest/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong Mesh</div>
                          <div class="item__description-desc">Enterprise service mesh based on Kuma and Envoy</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/deck/latest/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">decK</div>
                          <div class="item__description-desc">Helps manage Kongâ€™s configuration in a declarative fashion</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/kubernetes-ingress-controller/latest/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong Ingress Controller</div>
                          <div class="item__description-desc">Works inside a Kubernetes cluster and configures Kong to proxy traffic</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/gateway-operator/latest/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong Gateway Operator</div>
                          <div class="item__description-desc">Manage your Kong deployments on Kubernetes using YAML Manifests</div>
                        </div>
                      </a>
                    
                      <a class="item" href="https://docs.insomnia.rest/" tabindex="-1" target="_blank" rel="noopener nofollow noreferrer ">
                        
                        <div class="item__description">
                          <div class="item__description-title">Insomnia</div>
                          <div class="item__description-desc">Collaborative API development platform</div>
                        </div>
                      </a>
                    
                      <a class="item" href="https://kuma.io/docs/" tabindex="-1" target="_blank" rel="noopener nofollow noreferrer ">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kuma</div>
                          <div class="item__description-desc">Open-source distributed control plane with a bundled Envoy Proxy integration</div>
                        </div>
                      </a>
                    
                  </div>
                </div>
              </li>

            </div>
          </ul>
        </li>

        <li role="menuitem" aria-haspopup="true" aria-expanded="false" class="navbar-item main-menu-item with-submenu navbar-item-hub">
          <span id="plugin-link" class="main-menu-item-title" tabindex="0">Plugin Hub</span>
          <span class="caret"></span>
          <ul class="navbar-item-submenu" role="menu">
            <div class="submenu-section">
              <li role="menuitem" class="docs-dropdown-li">
                <a href="/hub/" class="docs-dropdown-li__link" tabindex="-1">
                  <div class="docs-dropdown-li__card">
                    <span class="heading">Explore the Plugin Hub</span>
                    <div class="docs-dropdown-li__card-link">
                      <img src="/assets/images/landing-page/view-all-plugins.svg" alt="View all plugins">
                      <span class="docs-dropdown-li__card-image">
                        View all plugins
                        <img src="/assets/images/landing-page/arrow-right.svg" alt="View all plugins arrow image">
                      </span>
                    </div>
                  </div>
                </a>
              </li>

              <li role="menuitem" class="docs-dropdown-li">
                <div class="docs-dropdown-li__section">
                  <div class="docs-dropdown-li__section-title">
                    <span class="heading">Functionality</span>
                    <a href="/hub/" class="view-all" tabindex="-1">
                      View all
                      <img src="/assets/images/landing-page/arrow-right.svg" alt="View all arrow image">
                    </a>
                  </div>

                  <div class="docs-dropdown-li__section-items">
                    <a class="item item-all" href="/hub/" tabindex="-1">
                      <div class="item__description">
                        <div class="item__description-title">View all plugins</div>
                      </div>
                    </a>

                    
                      <a class="item" href="/hub/?category=authentication" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/lock_person.svg" alt="Authentication's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Authentication</div>
                          <div class="item__description-desc">Protect your services with an authentication layer</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=security" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/shield.svg" alt="Security's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Security</div>
                          <div class="item__description-desc">Protect your services with additional security layer</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=traffic-control" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/route.svg" alt="Traffic Control's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Traffic Control</div>
                          <div class="item__description-desc">Manage, throttle and restrict inbound and outbound API traffic</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=serverless" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/serverless.svg" alt="Serverless's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Serverless</div>
                          <div class="item__description-desc">Invoke serverless functions in combination with other plugins</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=analytics-monitoring" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/bar_chart.svg" alt="Analytics &amp; Monitoring's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Analytics &amp; Monitoring</div>
                          <div class="item__description-desc">Visualize, inspect and monitor APIs and microservices traffic</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=transformations" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/swap_horiz.svg" alt="Transformations's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Transformations</div>
                          <div class="item__description-desc">Transform request and responses on the fly on Kong</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=logging" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/list_alt.svg" alt="Logging's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Logging</div>
                          <div class="item__description-desc">Log request and response data using the best transport for your infrastructure</div>
                        </div>
                      </a>
                    

                  </div>
                </div>
              </li>
            </div>
          </ul>
        </li>
        <li role="menuitem" class="main-menu-item">
          <a href="https://support.konghq.com/" class="navbar-item" target="_blank" rel="noopener nofollow noreferrer ">Support</a>
        </li>
        <li role="menuitem" class="main-menu-item">
          <a href="https://konghq.com/community/" class="navbar-item" target="_blank" rel="noopener noreferrer">Community</a>
        </li>
        <li role="menuitem" class="main-menu-item">
          <a href="https://education.konghq.com" class="navbar-item" target="_blank" rel="noopener nofollow noreferrer ">Kong Academy</a>
        </li>
      </ul>
      <a id="top-cta" href="https://konghq.com/contact-sales?utm_source=docs.konghq.com" class="navbar-button" target="_blank" rel="noopener nofollow noreferrer ">
        Get a Demo
      </a>
      <a id="konnect-cta" href="https://konghq.com/products/kong-konnect/register?utm_medium=referral&amp;utm_source=docs&amp;utm_campaign=gateway-konnect&amp;utm_content=top-nav" class="navbar-button" target="_blank" rel="noopener nofollow noreferrer ">
        Start Free Trial
      </a>
    </div>
    <div id="navbar-menu-toggle-button" class="small-screen-button" aria-label="Toggle navigation">
      <div></div>
      <div></div>
      <div></div>
    </div>
  </div>
</header>


    

<div class="page v2 " data-url="/kubernetes-ingress-controller/2.10.x/troubleshooting/">
  <div class="page--header-background page--header-background-doc"></div>
  <div class="container">

    <header class="page-header page-header-doc">
      <div class="page-header-product-version">
        <div class="edition">
          Kong Ingress Controller
          
        </div>
        
        <div class="version">
          2.10.x
          
        </div>
        
      </div>
      <div class="page-header--nav">
        <i class="sidebar-toggle"></i>

        
          









  <ul class="breadcrumbs">
    <li class="breadcrumb-item">
      <a href="/">
        <img src="/assets/images/icons/hub-layout/icn-breadcrumbs.svg" alt="Home icon">
      </a>
    </li>
    <li class="breadcrumb-item">
      <a href="/kubernetes-ingress-controller/2.10.x/">Kong Ingress Controller</a>
    </li>

    
    
      

      

      
      

      
      

      
    

    
    
    <li class="breadcrumb-item">
      <a href="/kubernetes-ingress-controller/2.10.x/troubleshooting/">Debug &amp; Troubleshooting</a>
    </li>
  </ul>

        

        

        <div class="github-links">
  <div class="github-links--edit">
    
      <a href="https://github.com/Kong/docs.konghq.com/edit/main/app/_src/kic-v2/troubleshooting.md" target="_blank" rel="noopener nofollow noreferrer ">
        <img src="/assets/images/icons/third-party/logo-github-white.svg" alt="github-edit-page">Edit this page
      </a>
    
  </div>
  <div class="github-links--issues">
    <a href="https://github.com/Kong/docs.konghq.com/issues" target="_blank" rel="noopener nofollow noreferrer ">
      <img src="/assets/images/icons/documentation/icn-monitoring-white.svg" alt="report-issue">Report an issue</a>
  </div>
</div>


      </div>
    </header>

    

<aside class="docs-sidebar">
  <i class="fa fa-times close-sidebar"></i>

  <div class="sidebar-title-container">
    <div class="docsets-dropdown dropdown">
      <button class="dropdown-button" id="module-dropdown" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" tabindex="0">
        <span>
          Kong Ingress Controller
          
        </span>
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu dropdown-menu-right with-submenu" id="module-list" role="menu" aria-labelledby="module-dropdown" aria-hidden="true">

        <li role="menuitem" tabindex="-1">
          <a href="/gateway/latest/">Kong Gateway</a>
        </li>
        <li role="menuitem" tabindex="-1">
          <a href="/konnect/">Kong Konnect</a>
        </li>
        <li role="menuitem" tabindex="-1">
          <a href="/mesh/latest/">Kong Mesh</a>
        </li>
        <li role="menuitem" tabindex="-1">
          <a href="/hub/">Plugin Hub</a>
        </li>
        <li role="menuitem" tabindex="-1">
          <a href="/deck/latest/">decK</a>
        </li>
        <li role="menuitem" tabindex="-1" class="active">
          <a href="/kubernetes-ingress-controller/latest/" class="active">Kong Ingress Controller</a>
        </li>
        <li role="menuitem" tabindex="-1">
          <a href="/gateway-operator/latest/">Kong Gateway Operator</a>
        </li>
        <li>
          <a href="https://docs.insomnia.rest/" target="_blank" rel="noopener nofollow noreferrer ">Insomnia</a>
        </li>
        <li role="menuitem" tabindex="-1">
          <a href="https://kuma.io/docs/" target="_blank" rel="noopener nofollow noreferrer ">Kuma</a>
        </li>
        <hr>
        <li role="menuitem" tabindex="-1">
          <a href="/contributing/">Docs contribution guidelines</a>
        </li>
      </ul>
    </div>

    
    <div class="versions-dropdown dropdown">
      <button class="dropdown-button" id="version-dropdown" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" tabindex="0">
        <span>
          Version 2.10.x
          
        </span>
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu dropdown-menu-right" id="version-list" role="menu" aria-labelledby="version-dropdown" aria-hidden="true">
          
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/3.0.x" data-version-id="3.0.x">
            3.0.x
             <em>(latest)</em>
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/2.12.x/troubleshooting/" data-version-id="2.12.x">
            2.12.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/2.11.x/troubleshooting/" data-version-id="2.11.x">
            2.11.x
            
          </a>
        </li>
        
          
          
          
          
        <li class="active" role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/2.10.x/troubleshooting/" class="active" data-version-id="2.10.x">
            2.10.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/2.9.x/troubleshooting/" data-version-id="2.9.x">
            2.9.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/2.8.x/troubleshooting/" data-version-id="2.8.x">
            2.8.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/2.7.x/troubleshooting/" data-version-id="2.7.x">
            2.7.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/2.6.x/troubleshooting/" data-version-id="2.6.x">
            2.6.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/2.5.x/troubleshooting/" data-version-id="2.5.x">
            2.5.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/2.4.x/troubleshooting/" data-version-id="2.4.x">
            2.4.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/2.3.x/troubleshooting/" data-version-id="2.3.x">
            2.3.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/2.2.x/troubleshooting/" data-version-id="2.2.x">
            2.2.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/2.1.x/troubleshooting/" data-version-id="2.1.x">
            2.1.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/2.0.x/troubleshooting/" data-version-id="2.0.x">
            2.0.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/1.3.x/troubleshooting/" data-version-id="1.3.x">
            1.3.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/1.2.x/troubleshooting/" data-version-id="1.2.x">
            1.2.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/1.1.x/troubleshooting/" data-version-id="1.1.x">
            1.1.x
            
          </a>
        </li>
        
          
          
          
          
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/1.0.x/troubleshooting/" data-version-id="1.0.x">
            1.0.x
            
          </a>
        </li>
        
        
      </ul>
    </div>
    
  </div>

  <ul class="sidebar-container" role="tree" aria-label="Documentation">
    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-1-introduction-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/">
        
  <img src="/assets/images/icons/documentation/icn-kubernetes-color.svg" alt="">


Introduction

      </a>
    
  </span>

  
    <ul class="items" id="id-1-introduction-subtree" role="group" aria-label="Introduction">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/faq/">
        

FAQ

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/support-policy/">
        

Version Support Policy

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/availability-stages/">
        

Stages of Software Availability

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="https://github.com/Kong/kubernetes-ingress-controller/blob/main/CHANGELOG.md/" target="_blank" rel="noopener nofollow noreferrer ">
        

Changelog

      </a>
    
  </span>

  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-2-concepts-subtree">
    
      
  <img src="/assets/images/icons/documentation/icn-kubernetes-color.svg" alt="">


Concepts


        
          <button class="sidebar-tree-toggle" aria-label="toggle Concepts subtree">
            <i class="fa fa-chevron-down"></i>
          </button>
        
      
  </span>

  
    <ul class="items" id="id-2-concepts-subtree" role="group" aria-label="Concepts">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/concepts/design/">
        

Architecture

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/concepts/custom-resources/">
        

Custom Resources

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/concepts/deployment/">
        

Deployment Methods

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/concepts/k4k8s-with-kong-enterprise/">
        

Kong for Kubernetes with Kong Gateway Enterprise

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/concepts/ha-and-scaling/">
        

High-Availability and Scaling

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/concepts/ingress-classes/">
        

Resource Classes

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/concepts/security/">
        

Security

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/concepts/ingress-versions/">
        

Ingress Resource API Versions

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/concepts/gateway-api/">
        

Gateway API

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/concepts/expression-based-router/">
        

Expression Based Router

      </a>
    
  </span>

  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-3-deployment-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/deployment/overview/">
        
  <img src="/assets/images/icons/documentation/icn-kubernetes-color.svg" alt="">


Deployment

      </a>
    
  </span>

  
    <ul class="items" id="id-3-deployment-subtree" role="group" aria-label="Deployment">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/deployment/minikube/">
        

Kong Ingress on Minikube

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/deployment/k4k8s/">
        

Kong for Kubernetes

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/deployment/k4k8s-enterprise/">
        

Kong Enterprise for Kubernetes (DB-less)

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/deployment/kong-enterprise/">
        

Kong Enterprise for Kubernetes (DB-backed)

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/deployment/aks/">
        

Kong Ingress on AKS

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/deployment/eks/">
        

Kong Ingress on EKS

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/deployment/gke/">
        

Kong Ingress on GKE

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/deployment/admission-webhook/">
        

Admission Webhook

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/deployment/install-gateway-apis/">
        

Installing Gateway APIs

      </a>
    
  </span>

  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-4-guides-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/overview/">
        
  <img src="/assets/images/icons/documentation/icn-kubernetes-color.svg" alt="">


Guides

      </a>
    
  </span>

  
    <ul class="items" id="id-4-guides-subtree" role="group" aria-label="Guides">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/getting-started/">
        

Getting Started with KIC

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/upgrade/">
        

Upgrading from previous versions

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/upgrade-kong-3x/">
        

Upgrading to Kong 3.x

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/choose-gateway-image/">
        

Using Kong Gateway Enterprise

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/getting-started-istio/">
        

Getting Started using Istio

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-4-6-using-custom-resources-subtree">
    
      

Using Custom Resources


        
          <button class="sidebar-tree-toggle" aria-label="toggle Using Custom Resources subtree">
            <i class="fa fa-chevron-down"></i>
          </button>
        
      
  </span>

  
    <ul class="items" id="id-4-6-using-custom-resources-subtree" role="group" aria-label="Using Custom Resources">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/using-kongplugin-resource/">
        

Using the KongPlugin Resource

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/using-kongingress-resource/">
        

Using the KongIngress Resource

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/using-consumer-credential-resource/">
        

Using KongConsumer and KongCredential Resources

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/using-tcpingress/">
        

Using the TCPIngress Resource

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/using-udpingress/">
        

Using the UDPIngress Resource

      </a>
    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/configure-acl-plugin/">
        

Using the ACL and JWT Plugins

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/cert-manager/">
        

Using cert-manager with Kong

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/allowing-multiple-authentication-methods/">
        

Allowing Multiple Authentication Methods

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/configuring-fallback-service/">
        

Configuring a Fallback Service

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/using-external-service/">
        

Using an External Service

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/configuring-https-redirect/">
        

Configuring HTTPS Redirects for Services

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/redis-rate-limiting/">
        

Using Redis for Rate Limiting

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/prometheus-grafana/">
        

Integrate KIC with Prometheus/Grafana

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/configuring-health-checks/">
        

Configuring Circuit-Breaker and Health-Checking

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/setting-up-custom-plugins/">
        

Setting up a Custom Plugin

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/upstream-mtls/">
        

Setting up Upstream mTLS

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-4-18-exposing-a-tcp-udp-grpc-service-subtree">
    
      

Exposing a TCP/UDP/gRPC Service


        
          <button class="sidebar-tree-toggle" aria-label="toggle Exposing a TCP/UDP/gRPC Service subtree">
            <i class="fa fa-chevron-down"></i>
          </button>
        
      
  </span>

  
    <ul class="items" id="id-4-18-exposing-a-tcp-udp-grpc-service-subtree" role="group" aria-label="Exposing a TCP/UDP/gRPC Service">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/using-tcpingress/">
        

Exposing a TCP Service

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/using-udpingress/">
        

Exposing a UDP Service

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/using-ingress-with-grpc/">
        

Exposing a gRPC service

      </a>
    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/using-mtls-auth-plugin/">
        

Using the mTLS Auth Plugin

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/using-oidc-plugin/">
        

Using the OpenID Connect Plugin

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/using-rewrites/">
        

Rewriting Hosts and Paths

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/preserve-client-ip/">
        

Preserving Client IP Address

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/using-kong-with-knative/">
        

Using Kong with Knative

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/using-multiple-backends/">
        

Using Multiple Backend Services

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/using-gateway-discovery/">
        

Using Gateway Discovery

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/guides/routing-by-header/">
        

Routing by Header

      </a>
    
  </span>

  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-5-references-subtree">
    
      
  <img src="/assets/images/icons/documentation/icn-kubernetes-color.svg" alt="">


References


        
          <button class="sidebar-tree-toggle" aria-label="toggle References subtree">
            <i class="fa fa-chevron-down"></i>
          </button>
        
      
  </span>

  
    <ul class="items" id="id-5-references-subtree" role="group" aria-label="References">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/references/annotations/">
        

KIC Annotations

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/references/cli-arguments/">
        

CLI Arguments

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/references/custom-resources/">
        

Custom Resource Definitions

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/references/plugin-compatibility/">
        

Plugin Compatibility

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/references/version-compatibility/">
        

Version Compatibility

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/references/supported-router-flavors/">
        

Supported Kong Router Flavors

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/troubleshooting/">
        

Troubleshooting

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/references/kubernetes-events/">
        

Kubernetes Events

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/references/prometheus/">
        

Prometheus Metrics

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/references/feature-gates/">
        

Feature Gates

      </a>
    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/kubernetes-ingress-controller/2.10.x/references/gateway-api-support/">
        

Supported Gateway API Features

      </a>
    
  </span>

  
</li>

      
    </ul>
  
</li>

    
  </ul>
</aside>




      <aside class="docs-toc">
        <i class="fa fa-times close-sidebar"></i>
        <i class="fa fa-chevron-right collapse-toc"></i>
        <i class="far fa-list-alt expand-toc"></i>

        <div id="oss-ee-toggle" data-current="Enterprise" style="display: none">
          <span class="oss-ee-toggle-inner">
            <img src="/assets/images/icons/icn-enterprise-black.svg" alt="enterprise-switcher-icon">
            <span>Switch to <span id="switch-to-version">OSS</span></span>
          </span>
        </div>

        
        <div class="docs-toc-title">
<img src="/assets/images/icons/hub-layout/icn-on-this-page.svg" alt="On this page"><a href="#">On this page</a>
</div>
<ul>
  <li><a href="#debug" class="active scroll-to">Debug</a></li>
  <li><a href="#authentication-to-the-kubernetes-api-server" class="scroll-to">Authentication to the Kubernetes API Server</a></li>
  <li><a href="#service-authentication" class="scroll-to">Service authentication</a></li>
  <li><a href="#discovering-api-server" class="scroll-to">Discovering API server</a></li>
  <li><a href="#service-account" class="scroll-to">Service Account</a></li>
  <li><a href="#kubeconfig" class="scroll-to">Kubeconfig</a></li>
  <li><a href="#dumping-generated-kong-configuration" class="scroll-to">Dumping generated Kong configuration</a></li>
  <li><a href="#inspecting-network-traffic-with-a-tcpdump-sidecar" class="scroll-to">Inspecting network traffic with a tcpdump sidecar</a></li>
  <li><a href="#gathering-profiling-data" class="scroll-to">Gathering profiling data</a></li>
  <li>
<a href="#identify-and-fix-an-invalid-configuration" class="scroll-to">Identify and fix an invalid configuration</a>
    <ul>
      <li><a href="#monitor-for-issues-that-require-manual-fixes" class="scroll-to">Monitor for issues that require manual fixes</a></li>
      <li><a href="#finding-problem-resource-events" class="scroll-to">Finding problem resource Events</a></li>
    </ul>
  </li>
</ul>

        
      </aside>

    <div class="page-content-container page-content-container-doc v2 " id="documentation">
      <div class="toggles ">
          <i class="far fa-list-alt toc-sidebar-toggle"></i>
      </div>

      <div class="page-content">
        <div class="content show-anchor-links">
          
              <blockquote id="version-notice" class="important">
                
                You are browsing documentation for an outdated version.
                
                See the <a href="/kubernetes-ingress-controller/latest/reference/troubleshooting/">latest documentation here</a>.
              </blockquote>
          

          <h1 tabindex="-1" id="main" class="page-content-title">Debug &amp; Troubleshooting
            

            
          </h1>

          

          
          

          <h2 id="debug">Debug</h2>

<p>Using the flag <code class="language-plaintext highlighter-rouge">--v=XX</code> it is possible to increase the level of logging.
In particular:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">--v=3</code> shows details about the service, Ingress rule, and endpoint changes</li>
</ul>

<h2 id="authentication-to-the-kubernetes-api-server">Authentication to the Kubernetes API Server</h2>

<p>A number of components are involved in the authentication process and the first step is to narrow
down the source of the problem, namely whether it is a problem with service authentication or with the kubeconfig file.
Both authentications must work:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>+-------------+   service          +------------+
|             |   authentication   |            |
+  apiserver  +&lt;-------------------+  ingress   |
|             |                    | controller |
+-------------+                    +------------+

</code></pre></div></div>

<h2 id="service-authentication">Service authentication</h2>

<p>The Ingress controller needs information from API server to configure Kong.
Therefore, authentication is required, which can be achieved in two different ways:</p>

<ol>
  <li>
<strong>Service Account</strong>: This is recommended
because nothing has to be configured.
The Ingress controller will use information provided by the system
to communicate with the API server.
See â€˜Service Accountâ€™ section for details.</li>
  <li>
<strong>Kubeconfig file</strong>: In some Kubernetes environments
service accounts are not available.
In this case, a manual configuration is required.
The Ingress controller binary can be started with the <code class="language-plaintext highlighter-rouge">--kubeconfig</code> flag.
The value of the flag is a path to a file specifying how
to connect to the API server. Using the <code class="language-plaintext highlighter-rouge">--kubeconfig</code>
does not require the flag <code class="language-plaintext highlighter-rouge">--apiserver-host</code>.
The format of the file is identical to <code class="language-plaintext highlighter-rouge">~/.kube/config</code>
which is used by <code class="language-plaintext highlighter-rouge">kubectl</code> to connect to the API server.
See â€˜kubeconfigâ€™ section for details.</li>
</ol>

<h2 id="discovering-api-server">Discovering API server</h2>

<p>Using this flag <code class="language-plaintext highlighter-rouge">--apiserver-host=http://localhost:8080</code>,
it is possible to specify an unsecured API server or
reach a remote Kubernetes cluster using
<a href="https://kubernetes.io/docs/tasks/administer-cluster/access-cluster-api/#using-kubectl-proxy" target="_blank" rel="noopener nofollow noreferrer ">kubectl proxy</a>.
Please do not use this approach in production.</p>

<p>In the diagram below you can see the full authentication flow with all options, starting with the browser
on the lower left hand side.</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
Kubernetes                                                  Workstation
+---------------------------------------------------+     +------------------+
|                                                   |     |                  |
|  +-----------+   apiserver        +------------+  |     |  +------------+  |
|  |           |   proxy            |            |  |     |  |            |  |
|  | apiserver |                    |  ingress   |  |     |  |  ingress   |  |
|  |           |                    | controller |  |     |  | controller |  |
|  |           |                    |            |  |     |  |            |  |
|  |           |                    |            |  |     |  |            |  |
|  |           |  service account/  |            |  |     |  |            |  |
|  |           |  kubeconfig        |            |  |     |  |            |  |
|  |           +&lt;-------------------+            |  |     |  |            |  |
|  |           |                    |            |  |     |  |            |  |
|  +------+----+      kubeconfig    +------+-----+  |     |  +------+-----+  |
|         |&lt;--------------------------------------------------------|        |
|                                                   |     |                  |
+---------------------------------------------------+     +------------------+
</code></pre></div></div>

<h2 id="service-account">Service Account</h2>

<p>If using a service account to connect to the API server, Dashboard expects the file
<code class="language-plaintext highlighter-rouge">/var/run/secrets/kubernetes.io/serviceaccount/token</code> to be present. It provides a secret
token that is required to authenticate with the API server.</p>

<p>Verify with the following commands:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># start a container that contains curl</span>
<span class="nv">$ </span>kubectl run <span class="nb">test</span> <span class="nt">--image</span><span class="o">=</span>tutum/curl <span class="nt">--</span> <span class="nb">sleep </span>10000

<span class="c"># check that container is running</span>
<span class="nv">$ </span>kubectl get pods
NAME                   READY     STATUS    RESTARTS   AGE
test-701078429-s5kca   1/1       Running   0          16s

<span class="c"># check if secret exists</span>
<span class="nv">$ </span>kubectl <span class="nb">exec </span>test-701078429-s5kca <span class="nb">ls</span> /var/run/secrets/kubernetes.io/serviceaccount/
ca.crt
namespace
token

<span class="c"># get service IP of master</span>
<span class="nv">$ </span>kubectl get services
NAME         CLUSTER-IP   EXTERNAL-IP   PORT<span class="o">(</span>S<span class="o">)</span>   AGE
kubernetes   10.0.0.1     &lt;none&gt;        443/TCP   1d

<span class="c"># check base connectivity from cluster inside</span>
<span class="nv">$ </span>kubectl <span class="nb">exec </span>test-701078429-s5kca <span class="nt">--</span> curl <span class="nt">-k</span> https://10.0.0.1
Unauthorized

<span class="c"># connect using tokens</span>
<span class="nv">$ TOKEN_VALUE</span><span class="o">=</span><span class="si">$(</span>kubectl <span class="nb">exec </span>test-701078429-s5kca <span class="nt">--</span> <span class="nb">cat</span> /var/run/secrets/kubernetes.io/serviceaccount/token<span class="si">)</span>
<span class="nv">$ </span><span class="nb">echo</span> <span class="nv">$TOKEN_VALUE</span>
eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3Mi....9A
<span class="nv">$ </span>kubectl <span class="nb">exec </span>test-701078429-s5kca <span class="nt">--</span> curl <span class="nt">--cacert</span> /var/run/secrets/kubernetes.io/serviceaccount/ca.crt <span class="nt">-H</span>  <span class="s2">"Authorization: Bearer </span><span class="nv">$TOKEN_VALUE</span><span class="s2">"</span> https://10.0.0.1
<span class="o">{</span>
  <span class="s2">"paths"</span>: <span class="o">[</span>
    <span class="s2">"/api"</span>,
    <span class="s2">"/api/v1"</span>,
    <span class="s2">"/apis"</span>,
    <span class="s2">"/apis/apps"</span>,
    <span class="s2">"/apis/apps/v1alpha1"</span>,
    <span class="s2">"/apis/authentication.k8s.io"</span>,
    <span class="s2">"/apis/authentication.k8s.io/v1beta1"</span>,
    <span class="s2">"/apis/authorization.k8s.io"</span>,
    <span class="s2">"/apis/authorization.k8s.io/v1beta1"</span>,
    <span class="s2">"/apis/autoscaling"</span>,
    <span class="s2">"/apis/autoscaling/v1"</span>,
    <span class="s2">"/apis/batch"</span>,
    <span class="s2">"/apis/batch/v1"</span>,
    <span class="s2">"/apis/batch/v2alpha1"</span>,
    <span class="s2">"/apis/certificates.k8s.io"</span>,
    <span class="s2">"/apis/certificates.k8s.io/v1alpha1"</span>,
    <span class="s2">"/apis/extensions"</span>,
    <span class="s2">"/apis/extensions/v1beta1"</span>,
    <span class="s2">"/apis/policy"</span>,
    <span class="s2">"/apis/policy/v1alpha1"</span>,
    <span class="s2">"/apis/rbac.authorization.k8s.io"</span>,
    <span class="s2">"/apis/rbac.authorization.k8s.io/v1alpha1"</span>,
    <span class="s2">"/apis/storage.k8s.io"</span>,
    <span class="s2">"/apis/storage.k8s.io/v1beta1"</span>,
    <span class="s2">"/healthz"</span>,
    <span class="s2">"/healthz/ping"</span>,
    <span class="s2">"/logs"</span>,
    <span class="s2">"/metrics"</span>,
    <span class="s2">"/swaggerapi/"</span>,
    <span class="s2">"/ui/"</span>,
    <span class="s2">"/version"</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre></div></div>

<p>If it is not working, there are two possible reasons:</p>

<ol>
  <li>
    <p>The contents of the tokens are invalid.
 Find the secret name:</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> kubectl get secrets <span class="nt">--field-selector</span><span class="o">=</span><span class="nb">type</span><span class="o">=</span>kubernetes.io/service-account-token
</code></pre></div>    </div>
    <p>Delete the secret:</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> kubectl delete secret <span class="o">{</span>SECRET_NAME<span class="o">}</span>
</code></pre></div>    </div>

    <p>It will automatically be recreated.</p>
  </li>
  <li>
    <p>You have a non-standard Kubernetes installation
and the file containing the token may not be present.</p>
  </li>
</ol>

<p>The API server will mount a volume containing this file,
but only if the API server is configured to use
the ServiceAccount admission controller.
If you experience this error,
verify that your API server is using the ServiceAccount admission controller.
If you are configuring the API server by hand,
you can set this with the <code class="language-plaintext highlighter-rouge">--admission-control</code> parameter.
Please note that you should use other admission controllers as well.
Before configuring this option, please read about admission controllers.</p>

<p>More information:</p>

<ul>
  <li><a href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/" target="_blank" rel="noopener nofollow noreferrer ">User Guide: Service Accounts</a></li>
  <li><a href="https://kubernetes.io/docs/reference/access-authn-authz/service-accounts-admin/" target="_blank" rel="noopener nofollow noreferrer ">Cluster Administrator Guide: Managing Service Accounts</a></li>
</ul>

<h2 id="kubeconfig">Kubeconfig</h2>

<p>If you want to use a kubeconfig file for authentication,
follow the deploy procedure and
add the flag <code class="language-plaintext highlighter-rouge">--kubeconfig=/etc/kubernetes/kubeconfig.yaml</code> to the deployment.</p>

<h2 id="dumping-generated-kong-configuration">Dumping generated Kong configuration</h2>

<p>If the controller generates configuration that it cannot apply to Kong
successfully, reviewing the generated configuration manually and/or applying it
in a test environment can help locate potential causes.</p>

<p>Under normal operation, the controller does not store generated configuration;
it is only sent to Kongâ€™s Admin API. The <code class="language-plaintext highlighter-rouge">--dump-config</code> flag enables a
diagnostic mode where the controller also saves generated configuration to a
temporary file. To use the diagnostic mode:</p>

<ol>
  <li>
    <p>Set the <code class="language-plaintext highlighter-rouge">--dump-config</code> flag (or <code class="language-plaintext highlighter-rouge">CONTROLLER_DUMP_CONFIG</code> environment
variable) to <code class="language-plaintext highlighter-rouge">true</code>. Optionally set the <code class="language-plaintext highlighter-rouge">--dump-sensitive-config</code> flag to
<code class="language-plaintext highlighter-rouge">true</code> to include un-redacted TLS certificate keys and credentials.</p>

    <p>If youâ€™re deploying with the Helm chart, add the following to your
<code class="language-plaintext highlighter-rouge">values.yaml</code> file:</p>

    <div class="language-yaml highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="na">ingressController</span><span class="pi">:</span>
 <span class="na">env</span><span class="pi">:</span>
   <span class="na">dump_config</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
   <span class="na">dump_sensitive_config</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
</code></pre></div>    </div>
  </li>
  <li>(Optional) Make a change to a Kubernetes resource that you know will
reproduce the issue. If you are unsure what change caused the issue
originally, you can omit this step.</li>
  <li>Port forward to the diagnostic server:
    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>kubectl port-forward <span class="nt">-n</span> CONTROLLER_NAMESPACE CONTROLLER_POD 10256:10256
</code></pre></div>    </div>
  </li>
  <li>Retrieve successfully- and/or unsuccessfully-applied configuration:
    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code>curl <span class="nt">-svo</span> last_good.json localhost:10256/debug/config/successful
curl <span class="nt">-svo</span> last_bad.json localhost:10256/debug/config/failed
</code></pre></div>    </div>
  </li>
</ol>

<p>Once you have dumped configuration, take one of the following
approaches to isolate issues:</p>

<ul>
  <li>If you know of a specific Kubernetes resource change that reproduces the
issue, diffing <code class="language-plaintext highlighter-rouge">last_good.json</code> and <code class="language-plaintext highlighter-rouge">last_bad.json</code> will show the change
the controller is trying to apply unsuccessfully.</li>
  <li>You can apply dumped configuration via the <code class="language-plaintext highlighter-rouge">/config</code> Admin API endpoint
(DB-less mode) or using decK (DB-backed mode) to a test instance not managed
by the ingress controller. This approach lets you review requests
and responses (passing <code class="language-plaintext highlighter-rouge">--verbose 2</code> to decK will show all requests) and
 add debug Kong Lua code when controller requests result in an
unhandled error (500 response).</li>
  <li>
    <p>To run a DB-less Kong Gateway instance with Docker for testing
purposes, run <code class="language-plaintext highlighter-rouge">curl https://get.konghq.com/quickstart | bash -s -- -D</code>.</p>

    <p>Once this image is running, run <code class="language-plaintext highlighter-rouge">curl http://localhost:8001/config @last_bad.json</code>
to try applying the configuration and see any errors.</p>
  </li>
</ul>

<h2 id="inspecting-network-traffic-with-a-tcpdump-sidecar">Inspecting network traffic with a tcpdump sidecar</h2>

<p>Inspecting network traffic allows you to review traffic between the ingress
controller and Kong admin API and/or between the Kong proxy and upstream
applications. You can use this in situations where logged information does not
provide you sufficient data on the contents of requests and you wish to see
exactly what was sent over the network.</p>

<p>Although you cannot install and use tcpdump within the controller
or Kong containers, you can add a tcpdump sidecar to your Podâ€™s containers. The
sidecar will be able to sniff traffic from other containers in the Pod. You can
edit your Deployment (to add the sidecar to all managed Pods) or a single Pod
and add the following under the <code class="language-plaintext highlighter-rouge">containers</code> section of the Pod spec:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">tcpdump</span>
  <span class="na">securityContext</span><span class="pi">:</span>
    <span class="na">runAsUser</span><span class="pi">:</span> <span class="m">0</span>
  <span class="na">image</span><span class="pi">:</span> <span class="s">corfr/tcpdump</span>
  <span class="na">command</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">/bin/sleep</span>
    <span class="pi">-</span> <span class="s">infinity</span>
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl patch <span class="nt">--type</span><span class="o">=</span>json <span class="nt">-n</span> kong deployments.apps ingress-kong <span class="nt">-p</span><span class="o">=</span><span class="s1">'[{
  "op":"add",
  "path":"/spec/template/spec/containers/-",
  "value":{
    "name":"tcpdump",
    "securityContext":{
        "runAsUser":0
    },
    "image":"corfr/tcpdump",
    "command":["/bin/sleep","infinity"]
  }
}]'</span>
</code></pre></div></div>

<p>If you are using the Kong Helm chart, you can alternately add this to the
<code class="language-plaintext highlighter-rouge">sidecarContainers</code> section of values.yaml.</p>

<p>Once the sidecar is running, you can use <code class="language-plaintext highlighter-rouge">kubectl exec -it POD_NAME -c tcpdump</code>
and run a capture. For example, to capture traffic between the controller and
Kong admin API:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcpdump <span class="nt">-npi</span> any <span class="nt">-s0</span> <span class="nt">-w</span> /tmp/capture.pcap host 127.0.0.1 and port 8001
</code></pre></div></div>

<p>or between Kong and an upstream application with endpoints <code class="language-plaintext highlighter-rouge">10.0.0.50</code> and
<code class="language-plaintext highlighter-rouge">10.0.0.51</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tcpdump <span class="nt">-npi</span> any <span class="nt">-s0</span> <span class="nt">-w</span> /tmp/capture.pcap host 10.0.0.50 or host 10.0.0.51
</code></pre></div></div>

<p>Once youâ€™ve replicated the issue, you can stop the capture, exit the
container, and use <code class="language-plaintext highlighter-rouge">kubectl cp</code> to download the capture from the tcpdump
container to a local system for review with
<a href="https://www.wireshark.org/" target="_blank" rel="noopener nofollow noreferrer ">Wireshark</a>.</p>

<p>Note that you will typically need to temporarily disable TLS to inspect
application-layer traffic. If you have access to the serverâ€™s private keys you
can <a href="https://wiki.wireshark.org/TLS#TLS_Decryption" target="_blank" rel="noopener nofollow noreferrer ">decrypt TLS</a>, though this
does not work if the session uses an ephemeral cipher (neither the controller
nor Kong proxy have support for dumping session secrets).</p>

<h2 id="gathering-profiling-data">Gathering profiling data</h2>

<p>The controller provides access to <a href="https://pkg.go.dev/net/http/pprof" target="_blank" rel="noopener nofollow noreferrer ">the Golang
profiler</a>, which provides diagnostic
information on memory and CPU consumption within the program.</p>

<p>To enable profiling and access it, set <code class="language-plaintext highlighter-rouge">CONTROLLER_PROFILING=true</code> in the
controller container environment (<code class="language-plaintext highlighter-rouge">ingressController.env.profiling: true</code> using
the Helm chart), wait for the Deployment to restart, run <code class="language-plaintext highlighter-rouge">kubectl
port-forward &lt;POD_NAME&gt; 10256:10256</code>, and visit <code class="language-plaintext highlighter-rouge">http://localhost:10256/debug/pprof/</code>.</p>

<h2 id="identify-and-fix-an-invalid-configuration">Identify and fix an invalid configuration</h2>
<p>Kubernetes resources can request configuration that Kong Ingress Controller
canâ€™t translate into a valid Kong Gateway configuration. While the
<a href="/kubernetes-ingress-controller/2.10.x/deployment/admission-webhook/">admission webhook</a>
can reject some invalid configurations during creation and the controller can
fix some invalid configurations on its own, some configuration issues require
you to review and fix them. When such issues arise, Kong Ingress Controller
creates Kubernetes Events to help you identify problem resources and understand
how to fix them.</p>

<p>To determine if there are any translation failures that you might want to fix, you
can monitor the <code class="language-plaintext highlighter-rouge">ingress_controller_translation_count</code> <a href="/kubernetes-ingress-controller/2.10.x/references/prometheus/">Prometheus metric</a>.</p>

<h3 id="monitor-for-issues-that-require-manual-fixes">Monitor for issues that require manual fixes</h3>

<p>Kong Ingress Controllerâ€™s <a href="/kubernetes-ingress-controller/2.10.x/references/prometheus">Prometheus metrics</a>
include <code class="language-plaintext highlighter-rouge">ingress_controller_translation_count</code> and
<code class="language-plaintext highlighter-rouge">ingress_controller_configuration_push_count</code> counters. Issues that require
human intervention add <code class="language-plaintext highlighter-rouge">success=false</code> tallies to these counters.</p>

<p>Kong Ingress Controller also generates error logs with a <code class="language-plaintext highlighter-rouge">could not update
kong admin</code> for configuration push failures.</p>

<h3 id="finding-problem-resource-events">Finding problem resource Events</h3>

<p>Once you see a translation or configuration push failure, you can
locate which Kubernetes resources require changes by searching for Events. For
example, this Ingress attempts to create a gRPC route that also uses HTTP
methods, which is impossible:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">networking.k8s.io/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Ingress</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">annotations</span><span class="pi">:</span>
    <span class="na">konghq.com/methods</span><span class="pi">:</span> <span class="s">GET</span>
    <span class="na">konghq.com/protocols</span><span class="pi">:</span> <span class="s">grpcs</span>
    <span class="na">kubernetes.io/ingress.class</span><span class="pi">:</span> <span class="s">kong</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">httpbin</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">rules</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">http</span><span class="pi">:</span>
      <span class="na">paths</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">backend</span><span class="pi">:</span>
          <span class="na">service</span><span class="pi">:</span>
            <span class="na">name</span><span class="pi">:</span> <span class="s">httpbin</span>
            <span class="na">port</span><span class="pi">:</span>
              <span class="na">number</span><span class="pi">:</span> <span class="m">80</span>
        <span class="na">path</span><span class="pi">:</span> <span class="s">/bar</span>
        <span class="na">pathType</span><span class="pi">:</span> <span class="s">Prefix</span>
</code></pre></div></div>

<p>Kong Gateway will reject the route Kong Ingress Controller creates
from this Ingress and return an error. Kong Ingress Controller will process
this error and create a Kubernetes Event linked to the Ingress.</p>

<p>You can quickly find these Events by searching across all namespaces for Events
with the special failure reasons that indicate Kong Ingress Controller
failures:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl get events <span class="nt">-A</span> <span class="nt">--field-selector</span><span class="o">=</span><span class="s1">'reason=KongConfigurationApplyFailed'</span>
</code></pre></div></div>

<p>Response:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>NAMESPACE   LAST SEEN   TYPE      REASON                         OBJECT            MESSAGE
default     35m         Warning   KongConfigurationApplyFailed   ingress/httpbin   invalid methods: cannot set 'methods' when 'protocols' is 'grpc' or 'grpcs'
</code></pre></div></div>

<p>The controller can also create Events with the reason
<code class="language-plaintext highlighter-rouge">KongConfigurationTranslationFailed</code> when it catches issues before sending
configuration to Kong.</p>

<p>The complete Event contains additional information about the problem resource,
the number of times the problem occurred, and when it occurred:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Event</span>
<span class="na">count</span><span class="pi">:</span> <span class="m">1</span>
<span class="na">firstTimestamp</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2023-02-21T22:42:48Z"</span>
<span class="na">involvedObject</span><span class="pi">:</span>
  <span class="na">apiVersion</span><span class="pi">:</span> <span class="s">networking.k8s.io/v1</span>
  <span class="na">kind</span><span class="pi">:</span> <span class="s">Ingress</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">httpbin</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">default</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Event</span>
<span class="na">lastTimestamp</span><span class="pi">:</span> <span class="s2">"</span><span class="s">2023-02-21T22:42:48Z"</span>
<span class="na">message</span><span class="pi">:</span> <span class="s1">'</span><span class="s">invalid</span><span class="nv"> </span><span class="s">methods:</span><span class="nv"> </span><span class="s">cannot</span><span class="nv"> </span><span class="s">set</span><span class="nv"> </span><span class="s">'</span><span class="s1">'</span><span class="s">methods'</span><span class="s1">'</span><span class="nv"> </span><span class="s">when</span><span class="nv"> </span><span class="s">'</span><span class="s1">'</span><span class="s">protocols'</span><span class="s1">'</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">'</span><span class="s1">'</span><span class="s">grpc'</span><span class="s1">'</span>
  <span class="s">or</span><span class="nv"> </span><span class="s">'</span><span class="s1">'</span><span class="s">grpcs'</span><span class="s1">'</span><span class="s">'</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">httpbin.1745f83aefeb8dde</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">default</span>
<span class="na">reason</span><span class="pi">:</span> <span class="s">KongConfigurationApplyFailed</span>
<span class="na">reportingComponent</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
<span class="na">reportingInstance</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
<span class="na">source</span><span class="pi">:</span>
  <span class="na">component</span><span class="pi">:</span> <span class="s">kong-client</span>
<span class="na">type</span><span class="pi">:</span> <span class="s">Warning</span>
</code></pre></div></div>

<p>Kong Ingress Controller creates one Event for every individual problem with a
resource, so you may see multiple Events for a single resource with different
messages. The message describes the reason the resource is invalid. In this
case, itâ€™s because gRPC routes cannot use HTTP methods.</p>

<p>Removing the annotation will clear the issue:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kubectl annotate ingress httpbin konghq.com/methods-
</code></pre></div></div>

<p>Response:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ingress.networking.k8s.io/httpbin annotated
</code></pre></div></div>

<blockquote class="note">
  <p>Clearing issues doesnâ€™t immediately clear the Events. Events do eventually
expire (after an hour, by default), but may be outdated. The Event <code class="language-plaintext highlighter-rouge">count</code>
will stop increasing after the problem is fixed.</p>
</blockquote>



          

        </div>
      </div>
    </div>
    
      <div id="scroll-to-top-button">
        <i class="fas fa-chevron-up"></i>
      </div>
      
        <div class="feedback-widget-container">
  <input id="feedback-widget-checkbox" type="checkbox">
  <label for="feedback-widget-checkbox">
    <img src="/assets/images/icons/feedback-widget.svg" alt="Feedback widget">
  </label>
  <div class="feedback-container">
    <div class="feedback-thankyou">
      Thank you for your feedback.
    </div>
    <div class="feedback-comment">
      <textarea id="feedback-comment-text" rows="3" placeholder="Please let us know what we can improve on this page..."></textarea>
      <div class="feedback-comment-buttons">
        <button id="feedback-comment-button-back">Back</button>
        <button id="feedback-comment-button-submit" class="button-primary">Submit</button>
      </div>
    </div>
    <div class="feedback-options">
      <div class="feedback-options-title">Was this page useful?</div>
      <div class="feedback-options-buttons">
        <i data-feedback-result="yes" class="feedback-options-button far fa-thumbs-up"></i>
        <i data-feedback-result="no" class="feedback-options-button far fa-thumbs-down"></i>
      </div>
    </div>
  </div>
</div>

      
    
  </div>

  <div id="image-modal" data-image-expand-disabled="">
  <div class="image-modal-backdrop"></div>
  <div class="image-container">
    <img src="" alt="">
    <i class="fa fa-times"></i>
  </div>
</div>




  <div class="modal closed" id="modal" role="dialog" aria-hidden="true" aria-labelledby="title" aria-describedby="description">
    <div class="konnect-cta-card">
      <div class="title">
      Too much on your plate?
      <a href="#" class="cta-card-close modal-close" id="modal-close">
          <img src="/assets/images/icons/documentation/close.svg" alt="close cta icon">
        </a>
      </div>
      <div class="description">More features, less infrastructure with Kong Konnect. 1M requests per month for free.</div>
      <a href="https://konghq.com/products/kong-konnect/register?utm_medium=referral&amp;utm_source=docs&amp;utm_campaign=gateway-konnect&amp;utm_campaign=right-nav-card&amp;utm_content=kubernetes-ingress-controller" class="button" target="_blank" rel="noopener nofollow noreferrer ">
      Try it for Free
    </a>
    </div>
  </div>
  <div id="modal-open" class="modal-open"></div>
  <div class="modal-overlay closed" id="modal-overlay"></div>



    <footer class="marketing-footer--light-gray">
  <section>
    <ul class="newsletter">
      <li class="logo-wrapper">
        <div class="logo">
          <img src="/assets/images/logos/kong-logo-blue.svg" alt="Kong">
        </div>
        <div class="footer-title">Powering the API world</div>
        <p>
          Increase developer productivity, security, and performance at scale with the unified platform for API management, service mesh, and ingress controller.
        </p>
        <div class="footer-form-container">
          <form id="subscribe-form" method="POST" action="/assets/javascripts/subscribe.js">
            <input required id="subscribe-input" type="email" name="email" placeholder="Email" aria-required="true" aria-invalid="false">
            <input id="footer-form-button" type="submit" form="subscribe-form" value="Subscribe">
          </form>

          <div id="form-response"></div>
        </div>
      </li>

      <li class="footer-columns">
        <ul class="footer-columns-product-list">
          <li>
            <nav>
              <div class="footer-category">Products</div>
              <ul>
                <li>
                  <a href="https://konghq.com/products/kong-konnect" target="_blank" rel="noopener nofollow noreferrer ">Kong Konnect</a>
                </li>
                <li>
                  <a href="https://konghq.com/products/kong-enterprise" target="_blank" rel="noopener nofollow noreferrer ">Kong Gateway Enterprise</a>
                </li>
                <li>
                  <a href="https://konghq.com/products/kong-gateway" target="_blank" rel="noopener nofollow noreferrer ">Kong Gateway</a>
                </li>
                <li>
                  <a href="https://konghq.com/products/kong-mesh" target="_blank" rel="noopener nofollow noreferrer ">Kong Mesh</a>
                </li>
                <li>
                  <a href="https://konghq.com/products/kong-ingress-controller" target="_blank" rel="noopener nofollow noreferrer ">Kong Ingress Controller</a>
                </li>
                <li>
                  <a href="https://insomnia.rest/" target="_blank" rel="noopener nofollow noreferrer noopener nofollow noreferrer">Kong Insomnia</a>
                </li>
                <li>
                  <a href="https://konghq.com/product-updates" target="_blank" rel="noopener nofollow noreferrer ">Product Updates</a>
                </li>
                <li>
                  <a href="https://konghq.com/contact-sales" target="_blank" rel="noopener nofollow noreferrer ">Get Started</a>
                </li>
              </ul>
            </nav>
          </li>
          <li>
            <nav>
              <div class="footer-category">Documentation</div>
              <ul>
                <li>
                  <a href="/konnect/">Kong Konnect Docs</a>
                </li>
                <li>
                  <a href="/gateway/latest/">Kong Gateway Docs</a>
                </li>
                <li>
                  <a href="/gateway/latest/kong-enterprise/">Kong Gateway Enterprise Docs</a>
                </li>
                <li>
                  <a href="/mesh/latest/">Kong Mesh Docs</a>
                </li>
                <li>
                  <a href="https://docs.insomnia.rest/" target="_blank" rel="noopener nofollow noreferrer noopener nofollow noreferrer">Kong Insomnia Docs</a>
                </li>
                <li>
                  <a href="/hub/">Kong Konnect Plugin Hub</a>
                </li>
              </ul>
            </nav>
          </li>
          <li>
            <nav>
              <div class="footer-category">Open Source</div>
              <ul>
                <li>
                  <a href="https://konghq.com/install/#kong-community" target="_blank" rel="noopener nofollow noreferrer ">Kong Gateway</a>
                </li>
                <li>
                  <a href="https://kuma.io/" target="_blank" rel="noopener nofollow noreferrer noopener nofollow noreferrer">Kuma</a>
                </li>
                <li>
                  <a href="https://insomnia.rest/" target="_blank" rel="noopener nofollow noreferrer noopener nofollow noreferrer">Insomnia</a>
                </li>
                <li>
                  <a href="https://konghq.com/community" target="_blank" rel="noopener nofollow noreferrer ">Kong Community</a>
                </li>
              </ul>
            </nav>
          </li>
          <li>
            <nav>
              <div class="footer-category">Company</div>
              <ul>
                <li>
                  <a href="https://konghq.com/company/about-us" target="_blank" rel="noopener nofollow noreferrer ">About Kong</a>
                </li>
                <li>
                  <a href="https://konghq.com/customers" target="_blank" rel="noopener nofollow noreferrer ">Customers</a>
                </li>
                <li>
                  <a href="https://konghq.com/company/careers" target="_blank" rel="noopener nofollow noreferrer ">Careers</a>
                </li>
                <li>
                  <a href="https://konghq.com/press-room" target="_blank" rel="noopener nofollow noreferrer ">Press</a>
                </li>
                <li>
                  <a href="https://konghq.com/events" target="_blank" rel="noopener nofollow noreferrer ">Events</a>
                </li>
                <li>
                  <a href="https://konghq.com/company/contact-us" target="_blank" rel="noopener nofollow noreferrer ">Contact</a>
                </li>
              </ul>
            </nav>
          </li>
        </ul>
      </li>

    </ul>
  </section>

  <section class="legal">
    <div class="container d-flex">
      <div class="social">
        <div class="social-link">
          <a href="https://www.facebook.com/konghq/" title="Facebook" target="_blank" rel="noopener nofollow noreferrer "><i aria-label="Facebook" class="fa fa-facebook-official" aria-hidden="true"></i></a>
        </div>
        <div class="social-link">
          <a href="https://twitter.com/thekonginc" title="Twitter" target="_blank" rel="noopener nofollow noreferrer "><i aria-label="Twitter" class="fa fa-twitter" aria-hidden="true"></i></a>
        </div>
        <div class="social-link">
          <a href="https://www.meetup.com/topics/kong/all/" title="Meetup" target="_blank" rel="noopener nofollow noreferrer "><i aria-label="Meetup" class="fa fa-meetup" aria-hidden="true"></i></a>
        </div>
        <div class="social-link">
          <a href="https://linkedin.com/company/278819" title="LinkedIn" target="_blank" rel="noopener nofollow noreferrer "><i aria-label="GitHub" class="fa fa-linkedin" aria-hidden="true"></i></a>
        </div>
        <div class="social-link">
          <a href="https://github.com/kong/kong" target="_blank" class="btn-gh" title="GitHub" rel="noopener nofollow noreferrer ">
            <i class="fa fa-github" aria-hidden="true" aria-label="GitHub"></i>
          </a>
        </div>
      </div>
      <ul>
        <li>
          <span class="mashape-footer-content">
            <a href="https://konghq.com/terms" target="_blank" rel="noopener nofollow noreferrer ">Terms</a><b>â€¢</b>
            <a href="https://konghq.com/privacy" target="_blank" rel="noopener nofollow noreferrer ">Privacy</a><b>â€¢</b>
            <a href="https://konghq.com/compliance" target="_blank" rel="noopener nofollow noreferrer ">Trust and Compliance</a>
          </span>
        </li>
      </ul>
      <div>
        <span>Â© Kong Inc. 2024 Â </span>
      </div>
    </div>
  </section>

  <script type="text/javascript">
    function onSubmit(response) {
      document.getElementById("subscription_form").submit();
      document.getElementById("follow_up_subscription_form").submit();
      if (response.length == 0) {
        alert("reCaptcha verification failed");
      }
    }
  </script>
</footer>
 <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<i class=\"fa fa-link\"></i>";
    anchor.title = `${id} Permalink`;
    return anchor;
  };

  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var className =
        ".show-anchor-links h1, .show-anchor-links h2, .show-anchor-links h3, " +
        ".show-anchor-links h4, .show-anchor-links h5, .show-anchor-links h6";
      var headers = document.querySelectorAll(className);

      for (var i = 0; i < headers.length; i++) {
        var header = headers[i];
        if (typeof header.id !== "undefined" && header.id !== "") {
          header.prepend(anchorForId(header.id));
        }
      }
    }
  };
</script>


    
      <script>
        (function stp(){
          if (typeof analytics == "undefined"){
            return setTimeout(stp, 30);
          }
          analytics.page();
        })();
      </script>
    

    <div id="fb-root"></div>
    <script id="github-bjs" src="https://buttons.github.io/buttons.js" async defer></script>

    <script type="text/javascript">
      var _vwo_code = (function() {
        var account_id = 125292,
          settings_tolerance = 2000,
          library_tolerance = 2500,
          use_existing_jquery = true,
          // DO NOT EDIT BELOW THIS LINE
          f = false,
          d = document;
        return {
          use_existing_jquery: function() {
            return use_existing_jquery;
          },
          library_tolerance: function() {
            return library_tolerance;
          },
          finish: function() {
            if (!f) {
              f = true;
              var a = d.getElementById('_vis_opt_path_hides');
              if (a) a.parentNode.removeChild(a);
            }
          },
          finished: function() {
            return f;
          },
          load: function(a) {
            var b = d.createElement('script');
            b.src = a;
            b.type = 'text/javascript';
            b.innerText;
            b.onerror = function() {
              _vwo_code.finish();
            };
            d.getElementsByTagName('head')[0].appendChild(b);
          },
          init: function() {
            settings_timer = setTimeout(
              '_vwo_code.finish()',
              settings_tolerance
            );
            this.load(
              '//dev.visualwebsiteoptimizer.com/j.php?a=' +
                account_id +
                '&u=' +
                encodeURIComponent(d.URL) +
                '&r=' +
                Math.random()
            );
            var a = d.createElement('style'),
              b = '',
              h = d.getElementsByTagName('head')[0];
            a.setAttribute('id', '_vis_opt_path_hides');
            a.setAttribute('type', 'text/css');
            if (a.styleSheet) a.styleSheet.cssText = b;
            else a.appendChild(d.createTextNode(b));
            h.appendChild(a);
            return settings_timer;
          }
        };
      })();
      _vwo_settings_timer = _vwo_code.init();
    </script>

    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>

    
      <script type="text/javascript">
        docsearch({
          appId: '05Y6TLHNFZ',
          apiKey: '80483bfe28d9fd036a11a6f6a06454f8',
          indexName: 'konghq',
          container: '#getkong-algolia-search-input',
          disableUserPersonalization: true,
          placeholder: 'Search the docs...',
          // Override selected event to allow for local environment navigation
          transformItems(items) {
            return items.map((item) => {
              var modifiedUrl = window.location.protocol + '//' + window.location.host + item.url.split('docs.konghq.com')[1];
              return { ...item, url: modifiedUrl };
            });
          },
          translations: {
            button: {
              buttonText: 'Search the docs..',
              buttonAriaLabel: 'Search the docs...'
            }
          },
          resultsFooterComponent({ state }) {
            var facetParameters = {};
            
              facetParameters = {"version[0]":"2.10.x","product[0]":"Kong Ingress Controller"};
            

            var queryParams = new URLSearchParams(facetParameters);
            queryParams.set('query', state.query);

            return {
              // The HTML `tag`
              type: 'a',
              ref: undefined,
              constructor: undefined,
              key: state.query,
              // Its props
              props: {
                href: `/search/?${queryParams.toString()}`,
                target: '_blank',
                // Raw text rendered in the HTML element
                children: 'See more >'
              },
              __v: null,
            };
          },
          
           searchParameters: {
              optionalFilters: ['product:Kong Gateway Operator<score=1>', 'product:Kong Ingress Controller<score=2>'],
              facetFilters: [ 'version:2.10.x']
            }
            
          });
      </script>
    
  </div>
</body>

  

</html>
