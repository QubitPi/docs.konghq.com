<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Article">

  

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
    <!-- OneTrust Cookies Consent Notice start for konghq.com -->
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" type="text/javascript" charset="UTF-8" data-domain-script="2c4de954-6bec-4e93-8086-64cb113f151a">
    </script>
    <script type="text/javascript">
    function OptanonWrapper() { }
    </script>
    <!-- OneTrust Cookies Consent Notice end for konghq.com -->

    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-NL48VKT');</script>
    <!-- End Google Tag Manager -->
  

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>MeshGlobalRateLimit Policy (beta) - Kong Mesh - v2.2.x | Kong Docs</title>
  <meta name="description" content="Documentation for Kong, the Cloud Connectivity Company for APIs and Microservices.">
  <meta name="author" content="KongHQ">
  <meta property="og:title" content="MeshGlobalRateLimit Policy (beta) - Kong Mesh - v2.2.x | Kong Docs">
  <meta property="og:site_name" content="Kong Docs">
  <!-- use share link for facebook -->
  <meta property="og:url" content="https://docs.konghq.com">
  <meta property="og:description" content="Documentation for Kong, the Cloud Connectivity Company for APIs and Microservices.">
  <meta property="og:type" content="website">
  <meta property="og:locale" content="en_US">
  <meta property="og:image" content="https://docs.konghq.com/assets/images/share.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@thekonginc">
  <meta name="twitter:creator" content="@thekonginc">
  <meta name="twitter:url" content="https://docs.konghq.com">
  <meta name="twitter:description" content="Documentation for Kong, the Cloud Connectivity Company for APIs and Microservices.">
  <meta name="twitter:image" content="https://docs.konghq.com/assets/images/share.png">
  <meta property="fb:admins" content="227304446">
  <meta property="fb:admins" content="576641408">
  <meta name="google-site-verification" content="CrU3zp02dNKTe8NSAipL4NCPkrIjDXG8fViTZ-MIzP4">

  

  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "name": "KongHQ",
      "url": "https://docs.konghq.com",
      "logo": "https://docs.konghq.com/assets/images/logo.png",
      "sameAs": [
        "https://www.facebook.com/konginc",
        "https://twitter.com/thekonginc",
        "https://plus.google.com/+mashape"
      ]
    }
  </script>

  <!-- Preload assets -->
  <link rel="dns-prefetch" href="https://cloud.typography.com">
  <link rel="dns-prefetch" href="https://dev.visualwebsiteoptimizer.com">
  <link rel="dns-prefetch" href="https://cdn.segment.com">

  <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3">

  
    <link rel="canonical" href="https://docs.konghq.com/mesh/latest/features/meshglobalratelimit/">
  

  
    <meta name="robots" content="follow,noindex">
  

  <!-- FontAwesome icon font -->
  <script src="https://kit.fontawesome.com/1332a92967.js" crossorigin="anonymous">
  </script>

  
  <script src="/vite/assets/application-DqmI9sc2.js" crossorigin="anonymous" type="module"></script>
<link href="/vite/assets/_commonjsHelpers-Cpj98o6Y.js" rel="modulepreload" as="script" crossorigin="anonymous">


  

  

  <link rel="stylesheet" href="/vite/assets/application-CrIf7Il_.css" media="screen">

  
</head>


  <body id="" data-spy="scroll" data-target="#scroll-sidebar" data-offset="350">

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NL48VKT" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <header class="navbar-v2 closed">
  <a class="skip-main" href="#main">Skip to content</a>
  <!-- uncomment the promo-banner div when adding a new promo banner-->
  <!--also uncomment the promo banner sections in app/assets/stylesheets/header.less and application.js-->
  <!-- <div id="promo-banner">
    <div class="container">
      <div class="closebanner"></div> <strong>2024 API Summit Hackathon: Experiment with API Innovation & AI. Submit by Sept 11 &nbsp;&mdash;<a href="https://konghq.com/conferences/kong-summit/hackathon?utm_medium=website&utm_source=docs-konghq-com&utm_campaign=docs-banner">Enter Now &rarr;</a> </strong>
    </div>
  </div> -->
  <div class="navbar-content">
    <a href="https://konghq.com" class="navbar-brand col col-xl-auto" target="_blank" rel="noopener noreferrer">
      <img src="/assets/images/logos/konglogo-dark-theme.svg" alt="Kong Logo" id="kong-logo">
    </a>
    <span class="logo-divider">|</span>
    <a href="/" class="navbar-brand col col-xl-auto">
      <img src="/assets/images/logos/docslogo-dark-theme.svg" alt="Kong Docs Logo" id="kong-docs-logo">
    </a>

    <div class="separator mobile"></div>
      <div class="search-input-wrapper" id="getkong-algolia-search-input">
    </div>

    <div class="search-results-wrapper"></div>

    <div class="navbar-items" role="navigation" aria-label="Main menu">
      <ul class="navbar-items" role="menubar">
        <li id="top-module-list" aria-haspopup="true" role="menuitem" aria-expanded="false" class="navbar-item main-menu-item with-submenu  active">
          <span tabindex="0" id="docs-link" class="main-menu-item-title">Docs</span>
          <span class="caret"></span>
          <ul class="navbar-item-submenu" role="menu">
            <div class="submenu-section">
              <li role="menuitem" class="docs-dropdown-li">
                <a href="/api/" class="docs-dropdown-li__link" tabindex="-1">
                  <div class="docs-dropdown-li__card">
                    <span class="heading">Explore the API Specs</span>
                    <div class="docs-dropdown-li__card-link">
                      <img src="/assets/images/landing-page/view-all-api-specs.png" alt="View all API Specs">
                      <span class="docs-dropdown-li__card-image">
                        View all API Specs
                        <img src="/assets/images/landing-page/arrow-right.svg" alt="View all API Specs arrow image">
                      </span>
                    </div>
                  </div>
                </a>
              </li>

              <li role="menuitem" class="docs-dropdown-li" tabindex="-1">
                <div class="docs-dropdown-li__section">
                  <div class="docs-dropdown-li__section-title">
                    <span class="heading">Documentation</span>
                  </div>

                  <div class="docs-dropdown-li__section-items">
                    <a class="item item-all" href="/api/" tabindex="-1">
                      <div class="item__description">
                        <div class="item__description-title">API Specs</div>
                      </div>
                    </a>
                    
                      <a class="item" href="/gateway/latest/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong Gateway</div>
                          <div class="item__description-desc">Lightweight, fast, and flexible cloud-native API gateway</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/konnect/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong Konnect</div>
                          <div class="item__description-desc">Single platform for SaaS end-to-end connectivity</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/gateway/latest/ai-gateway/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong AI Gateway</div>
                          <div class="item__description-desc">Multi-LLM AI Gateway for GenAI infrastructure</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/mesh/latest/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong Mesh</div>
                          <div class="item__description-desc">Enterprise service mesh based on Kuma and Envoy</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/deck/latest/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">decK</div>
                          <div class="item__description-desc">Helps manage Kong’s configuration in a declarative fashion</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/kubernetes-ingress-controller/latest/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong Ingress Controller</div>
                          <div class="item__description-desc">Works inside a Kubernetes cluster and configures Kong to proxy traffic</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/gateway-operator/latest/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong Gateway Operator</div>
                          <div class="item__description-desc">Manage your Kong deployments on Kubernetes using YAML Manifests</div>
                        </div>
                      </a>
                    
                      <a class="item" href="https://docs.insomnia.rest/" tabindex="-1" target="_blank" rel="noopener nofollow noreferrer ">
                        
                        <div class="item__description">
                          <div class="item__description-title">Insomnia</div>
                          <div class="item__description-desc">Collaborative API development platform</div>
                        </div>
                      </a>
                    
                  </div>
                </div>
              </li>

            </div>
          </ul>
        </li>

        <li role="menuitem" aria-haspopup="true" aria-expanded="false" class="navbar-item main-menu-item with-submenu navbar-item-hub">
          <span id="plugin-link" class="main-menu-item-title" tabindex="0">Plugin Hub</span>
          <span class="caret"></span>
          <ul class="navbar-item-submenu" role="menu">
            <div class="submenu-section">
              <li role="menuitem" class="docs-dropdown-li">
                <a href="/hub/" class="docs-dropdown-li__link" tabindex="-1">
                  <div class="docs-dropdown-li__card">
                    <span class="heading">Explore the Plugin Hub</span>
                    <div class="docs-dropdown-li__card-link">
                      <img src="/assets/images/landing-page/view-all-plugins.svg" alt="View all plugins">
                      <span class="docs-dropdown-li__card-image">
                        View all plugins
                        <img src="/assets/images/landing-page/arrow-right.svg" alt="View all plugins arrow image">
                      </span>
                    </div>
                  </div>
                </a>
              </li>

              <li role="menuitem" class="docs-dropdown-li">
                <div class="docs-dropdown-li__section">
                  <div class="docs-dropdown-li__section-title">
                    <span class="heading">Functionality</span>
                    <a href="/hub/" class="view-all" tabindex="-1">
                      View all
                      <img src="/assets/images/landing-page/arrow-right.svg" alt="View all arrow image">
                    </a>
                  </div>

                  <div class="docs-dropdown-li__section-items">
                    <a class="item item-all" href="/hub/" tabindex="-1">
                      <div class="item__description">
                        <div class="item__description-title">View all plugins</div>
                      </div>
                    </a>

                    
                      <a class="item" href="/hub/?category=ai" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/ai.svg" alt="AI's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">AI</div>
                          <div class="item__description-desc">Govern, secure, and control AI traffic with multi-LLM AI Gateway plugins</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=authentication" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/lock_person.svg" alt="Authentication's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Authentication</div>
                          <div class="item__description-desc">Protect your services with an authentication layer</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=security" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/shield.svg" alt="Security's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Security</div>
                          <div class="item__description-desc">Protect your services with additional security layer</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=traffic-control" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/route.svg" alt="Traffic Control's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Traffic Control</div>
                          <div class="item__description-desc">Manage, throttle and restrict inbound and outbound API traffic</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=serverless" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/serverless.svg" alt="Serverless's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Serverless</div>
                          <div class="item__description-desc">Invoke serverless functions in combination with other plugins</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=analytics-monitoring" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/bar_chart.svg" alt="Analytics &amp; Monitoring's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Analytics &amp; Monitoring</div>
                          <div class="item__description-desc">Visualize, inspect and monitor APIs and microservices traffic</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=transformations" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/swap_horiz.svg" alt="Transformations's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Transformations</div>
                          <div class="item__description-desc">Transform request and responses on the fly on Kong</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=logging" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/list_alt.svg" alt="Logging's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Logging</div>
                          <div class="item__description-desc">Log request and response data using the best transport for your infrastructure</div>
                        </div>
                      </a>
                    

                  </div>
                </div>
              </li>
            </div>
          </ul>
        </li>
        <li role="menuitem" class="main-menu-item">
          <a href="https://support.konghq.com/" class="navbar-item" target="_blank" rel="noopener nofollow noreferrer ">Support</a>
        </li>
        <li role="menuitem" class="main-menu-item">
          <a href="https://konghq.com/community/" class="navbar-item" target="_blank" rel="noopener noreferrer">Community</a>
        </li>
        <li role="menuitem" class="main-menu-item">
          <a href="https://education.konghq.com" class="navbar-item" target="_blank" rel="noopener nofollow noreferrer ">Kong Academy</a>
        </li>
      </ul>
      <a id="top-cta" href="https://konghq.com/contact-sales?utm_source=docs.konghq.com" class="navbar-button" target="_blank" rel="noopener nofollow noreferrer ">
        Get a Demo
      </a>
      <a id="konnect-cta" href="https://konghq.com/products/kong-konnect/register?utm_medium=referral&amp;utm_source=docs&amp;utm_campaign=gateway-konnect&amp;utm_content=top-nav" class="navbar-button" target="_blank" rel="noopener nofollow noreferrer ">
        Start Free Trial
      </a>
    </div>
    <div id="navbar-menu-toggle-button" class="small-screen-button" aria-label="Toggle navigation">
      <div></div>
      <div></div>
      <div></div>
    </div>
  </div>
</header>


    

<div class="page v2 " data-url="/mesh/2.2.x/features/meshglobalratelimit/">
  <div class="page--header-background page--header-background-doc"></div>
  <div class="container">

    <header class="page-header page-header-doc">
      <div class="page-header-product-version">
        <div class="edition">
          Kong Mesh
          
        </div>
        
        <div class="version">
          2.2.x
          
          
        </div>
        
      </div>
      <div class="page-header--nav">
        <i class="sidebar-toggle"></i>

        
          









  <ul class="breadcrumbs">
    <li class="breadcrumb-item">
      <a href="/">
        <img src="/assets/images/icons/hub-layout/icn-breadcrumbs.svg" alt="Home icon">
      </a>
    </li>
    <li class="breadcrumb-item">
      <a href="/mesh/2.2.x/">Kong Mesh</a>
    </li>

    
    
      

      

      
      

      
      

      
        <li class="breadcrumb-item">
          
          <a href="/mesh/2.2.x/features/">Features</a>
          
        </li>
      
    
      

      

      
      

      
      

      
    

    
    
    <li class="breadcrumb-item">
      <a href="/mesh/2.2.x/features/meshglobalratelimit/">MeshGlobalRateLimit Policy (beta)</a>
    </li>
  </ul>

        

        

        <div class="github-links">
  <div class="github-links--edit">
    
      <a href="https://github.com/Kong/docs.konghq.com/edit/main/app/_src/mesh/features/meshglobalratelimit.md" target="_blank" rel="noopener nofollow noreferrer ">
        <img src="/assets/images/icons/third-party/logo-github-white.svg" alt="github-edit-page">Edit this page
      </a>
    
  </div>
  <div class="github-links--issues">
    <a href="https://github.com/Kong/docs.konghq.com/issues" target="_blank" rel="noopener nofollow noreferrer ">
      <img src="/assets/images/icons/documentation/icn-monitoring-white.svg" alt="report-issue">Report an issue</a>
  </div>
</div>


      </div>
    </header>

    

<aside class="docs-sidebar">
  <i class="fa fa-times close-sidebar"></i>

  <div class="sidebar-title-container">
    <div class="docsets-dropdown dropdown">
      <button class="dropdown-button" id="module-dropdown" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" tabindex="0">
        <span>
          Kong Mesh
          
        </span>
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu dropdown-menu-right with-submenu" id="module-list" role="menu" aria-labelledby="module-dropdown" aria-hidden="true">

        <li role="menuitem" tabindex="-1">
          <a href="/gateway/latest/">Kong Gateway</a>
        </li>
        <li role="menuitem" tabindex="-1">
          <a href="/konnect/">Kong Konnect</a>
        </li>
        <li role="menuitem" tabindex="-1" class="active">
          <a href="/mesh/latest/" class="active">Kong Mesh</a>
        </li>
        <li role="menuitem" tabindex="-1">
          <a href="/hub/?category=ai">Kong AI Gateway</a>
        </li>
        <li role="menuitem" tabindex="-1">
          <a href="/hub/">Plugin Hub</a>
        </li>
        <li role="menuitem" tabindex="-1">
          <a href="/deck/latest/">decK</a>
        </li>
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/latest/">Kong Ingress Controller</a>
        </li>
        <li role="menuitem" tabindex="-1">
          <a href="/gateway-operator/latest/">Kong Gateway Operator</a>
        </li>
        <li>
          <a href="https://docs.insomnia.rest/" target="_blank" rel="noopener nofollow noreferrer ">Insomnia</a>
        </li>
        <li role="menuitem" tabindex="-1">
          <a href="https://kuma.io/docs/" target="_blank" rel="noopener nofollow noreferrer ">Kuma</a>
        </li>
        <hr>
        <li role="menuitem" tabindex="-1">
          <a href="/contributing/">Docs contribution guidelines</a>
        </li>
      </ul>
    </div>

    
    <div class="versions-dropdown dropdown">
      <button class="dropdown-button" id="version-dropdown" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" tabindex="0">
        <span>
          Version 2.2.x
          
          
        </span>
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu dropdown-menu-right" id="version-list" role="menu" aria-labelledby="version-dropdown" aria-hidden="true">
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/dev/features/meshglobalratelimit/" data-version-id="2.9.x">
              <em>dev</em>
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/2.8.x/features/meshglobalratelimit/" data-version-id="2.8.x">
              2.8.x <em>(latest)</em>
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/2.7.x/features/meshglobalratelimit/" data-version-id="2.7.x">
              2.7.x (LTS)
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/2.6.x/features/meshglobalratelimit/" data-version-id="2.6.x">
              2.6.x
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/2.5.x/features/meshglobalratelimit/" data-version-id="2.5.x">
              2.5.x
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/2.4.x/features/meshglobalratelimit/" data-version-id="2.4.x">
              2.4.x
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/2.3.x/features/meshglobalratelimit/" data-version-id="2.3.x">
              2.3.x
            </a>
          </li>
        
          <li class="active" role="menuitem" tabindex="-1">
            <a href="/mesh/2.2.x/features/meshglobalratelimit/" class="active" data-version-id="2.2.x">
              2.2.x
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/2.1.x/" data-version-id="2.1.x">
              2.1.x
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/2.0.x/" data-version-id="2.0.x">
              2.0.x
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/1.9.x/" data-version-id="1.9.x">
              1.9.x
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/1.8.x/" data-version-id="1.8.x">
              1.8.x
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/1.7.x/" data-version-id="1.7.x">
              1.7.x
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/1.6.x/" data-version-id="1.6.x">
              1.6.x
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/1.5.x/" data-version-id="1.5.x">
              1.5.x
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/1.4.x/" data-version-id="1.4.x">
              1.4.x
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/1.3.x/" data-version-id="1.3.x">
              1.3.x
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/1.2.x/" data-version-id="1.2.x">
              1.2.x
            </a>
          </li>
        
        
      </ul>
    </div>
    
  </div>

  <ul class="sidebar-container" role="tree" aria-label="Documentation">
    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-1-introduction-subtree">
    
      
  <img src="/assets/images/icons/documentation/icn-flag.svg" alt="">


Introduction

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Introduction subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-1-introduction-subtree" role="group" aria-label="Introduction">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/introduction/about-service-meshes/">
        

About service meshes

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/">
        

Overview of Kong Mesh

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/introduction/how-kong-mesh-works/">
        

How Kong Mesh works

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/introduction/architecture/">
        

Architecture

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/availability-stages/">
        

Stages of software availability

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/support-policy/">
        

Version support policy

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/introduction/kuma-requirements/">
        

Mesh requirements

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/changelog/">
        

Release notes

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/gettingstarted/">
        
  <img src="/assets/images/icons/documentation/icn-quickstart-color.svg" alt="">


Getting Started

      </a>
    

    
  </span>

  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-3-kong-mesh-in-production-subtree">
    
      
  <img src="/assets/images/icons/documentation/icn-deployment-color.svg" alt="">


Kong Mesh in Production

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Kong Mesh in Production subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-3-kong-mesh-in-production-subtree" role="group" aria-label="Kong Mesh in Production">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/">
        

Overview

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-3-2-deployment-topologies-subtree">
    
      

Deployment topologies

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Deployment topologies subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-3-2-deployment-topologies-subtree" role="group" aria-label="Deployment topologies">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/deployment/">
        

Overview

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/deployment/stand-alone/">
        

Standalone deployment

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/deployment/multi-zone/">
        

Multi-zone deployment

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/install-kumactl/">
        

Install kumactl

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/use-mesh/">
        

Use Kong Mesh

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-3-5-control-plane-deployment-subtree">
    
      

Control plane deployment

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Control plane deployment subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-3-5-control-plane-deployment-subtree" role="group" aria-label="Control plane deployment">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/cp-deployment/license/">
        

Kong Mesh license

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/cp-deployment/stand-alone/">
        

Deploy a standalone control plane

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/cp-deployment/multi-zone/">
        

Deploy a multi-zone global control plane

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/cp-deployment/zone-ingress/">
        

Zone Ingress

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/cp-deployment/zoneegress/">
        

Zone Egress

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/cp-deployment/zoneproxy-auth/">
        

Configure zone proxy authentication

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/reference/kuma-cp/">
        

Control plane configuration reference

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/cp-deployment/systemd/">
        

Systemd

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/mesh/">
        

Create multiple service meshes in a cluster

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-3-7-data-plane-configuration-subtree">
    
      

Data plane configuration

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Data plane configuration subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-3-7-data-plane-configuration-subtree" role="group" aria-label="Data plane configuration">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/dp-config/dpp/">
        

Data plane proxy

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/dp-config/dpp-on-kubernetes/">
        

Configure the data plane on Kubernetes

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/dp-config/dpp-on-universal/">
        

Configure the data plane on Universal

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/dp-config/cni/">
        

Configure the Kong Mesh CNI

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/dp-config/transparent-proxying/">
        

Configure transparent proxying

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/dp-config/ipv6/">
        

IPv6 support

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-3-8-secure-your-deployment-subtree">
    
      

Secure your deployment

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Secure your deployment subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-3-8-secure-your-deployment-subtree" role="group" aria-label="Secure your deployment">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/secure-deployment/secrets/">
        

Manage secrets

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/secure-deployment/api-server-auth/">
        

Authentication with the API server

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/secure-deployment/dp-auth/">
        

Authentication with the data plane proxy

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/secure-deployment/dp-membership/">
        

Configure data plane proxy membership

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/secure-deployment/certificates/">
        

Secure access accross services

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/rbac/">
        

Kong Mesh RBAC

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/fips-support/">
        

FIPS support

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/gui/">
        

Kong Mesh user interface

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-3-10-upgrades-and-tuning-subtree">
    
      

Upgrades and tuning

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Upgrades and tuning subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-3-10-upgrades-and-tuning-subtree" role="group" aria-label="Upgrades and tuning">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/upgrades-tuning/upgrades/">
        

Upgrade Kong Mesh

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/upgrades-tuning/fine-tuning/">
        

Performance fine-tuning

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-4-deploy-subtree">
    
      
  <img src="/assets/images/icons/documentation/icn-manager-color.svg" alt="">


Deploy

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Deploy subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-4-deploy-subtree" role="group" aria-label="Deploy">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/quickstart/kubernetes/">
        

Explore Kong Mesh with the Kubernetes demo app

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/quickstart/universal/">
        

Explore Kong Mesh with the Universal demo app

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-5-explore-subtree">
    
      
  <img src="/assets/images/icons/documentation/icn-solution-guide.svg" alt="">


Explore

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Explore subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-5-explore-subtree" role="group" aria-label="Explore">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-5-1-gateway-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/gateway/">
        

Gateway

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Gateway subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-5-1-gateway-subtree" role="group" aria-label="Gateway">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/gateway/#delegated">
        

Delegated

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/gateway/#builtin">
        

Builtin

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-5-2-cli-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/cli/">
        

CLI

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle CLI subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-5-2-cli-subtree" role="group" aria-label="CLI">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/cli/#kumactl">
        

kumactl

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-5-3-observability-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/observability/">
        

Observability

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Observability subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-5-3-observability-subtree" role="group" aria-label="Observability">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/observability/#demo-setup">
        

Demo setup

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/observability/#control-plane-observability">
        

Control plane metrics

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/observability/#configuring-prometheus">
        

Configuring Prometheus

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/observability/#configuring-grafana">
        

Configuring Grafana

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/observability/#configuring-datadog">
        

Configuring Datadog

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/observability/#observability-in-multi-zone">
        

Observability in multi-zone

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-5-4-inspect-api-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/inspect-api/">
        

Inspect API

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Inspect API subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-5-4-inspect-api-subtree" role="group" aria-label="Inspect API">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/inspect-api/#matched-policies">
        

Matched policies

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/inspect-api/#affected-data-plane-proxies">
        

Affected data plane proxies

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/inspect-api/#envoy-proxy-configuration">
        

Envoy proxy configuration

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-5-5-kubernetes-gateway-api-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/gateway-api/">
        

Kubernetes Gateway API

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Kubernetes Gateway API subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-5-5-kubernetes-gateway-api-subtree" role="group" aria-label="Kubernetes Gateway API">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/gateway-api/#installation">
        

Installation

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/gateway-api/#usage">
        

Usage

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/gateway-api/#tls-termination">
        

TLS termination

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/gateway-api/#customization">
        

Customization

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/gateway-api/#multi-mesh">
        

Multi-mesh

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/gateway-api/#multi-zone">
        

Multi-zone

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/gateway-api/#how-it-works">
        

How it works

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-6-networking-subtree">
    
      
  <img src="/assets/images/icons/documentation/icn-brain-color.svg" alt="">


Networking

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Networking subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-6-networking-subtree" role="group" aria-label="Networking">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/networking/service-discovery/">
        

Service Discovery

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-6-2-dns-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/networking/dns/">
        

DNS

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle DNS subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-6-2-dns-subtree" role="group" aria-label="DNS">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/networking/dns/#how-it-works">
        

How it works

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/networking/dns/#installation">
        

Installation

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/networking/dns/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/networking/dns/#usage">
        

Usage

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-6-3-non-mesh-traffic-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/networking/non-mesh-traffic/">
        

Non-mesh traffic

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Non-mesh traffic subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-6-3-non-mesh-traffic-subtree" role="group" aria-label="Non-mesh traffic">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/networking/non-mesh-traffic/#incoming">
        

Incoming

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/networking/non-mesh-traffic/#outgoing">
        

Outgoing

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/networking/transparent-proxying/">
        

Transparent Proxying

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-7-monitor-manage-subtree">
    
      
  <img src="/assets/images/icons/konnect/icn-analytics-nav.svg" alt="">


Monitor &amp; manage

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Monitor &amp; manage subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-7-monitor-manage-subtree" role="group" aria-label="Monitor &amp; manage">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-7-1-dataplane-health-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/documentation/health/">
        

Dataplane Health

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Dataplane Health subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-7-1-dataplane-health-subtree" role="group" aria-label="Dataplane Health">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/documentation/health/#circuit-breaker-policy">
        

Circuit Breaker Policy

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/documentation/health/#kubernetes-and-universal-service-probes">
        

Kubernetes and Universal Service Probes

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/documentation/health/#health-check-policy">
        

Health Check Policy

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-7-2-control-plane-configuration-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/documentation/configuration/">
        

Control Plane Configuration

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Control Plane Configuration subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-7-2-control-plane-configuration-subtree" role="group" aria-label="Control Plane Configuration">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/documentation/configuration/#modifying-the-configuration">
        

Modifying the configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/documentation/configuration/#inspecting-the-configuration">
        

Inspecting the configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/documentation/configuration/#store">
        

Store

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-policies-subtree">
    
      
  <img src="/assets/images/icons/documentation/icn-documentation-small.svg" alt="">


Policies

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Policies subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-policies-subtree" role="group" aria-label="Policies">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/introduction/">
        

Introduction

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/general-notes-about-kong-mesh-policies/">
        

General notes about Kong Mesh policies

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/applying-policies/">
        

Applying Policies

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/how-kong-mesh-chooses-the-right-policy-to-apply/">
        

How Kong Mesh chooses the right policy to apply

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/targetref/">
        

Understanding TargetRef policies

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/protocol-support-in-kong-mesh/">
        

Protocol support in Kong Mesh

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-7-mutual-tls-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/mutual-tls/">
        

Mutual TLS

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Mutual TLS subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-7-mutual-tls-subtree" role="group" aria-label="Mutual TLS">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/mutual-tls/#usage-of-builtin-ca">
        

Usage of "builtin" CA

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/mutual-tls/#usage-of-provided-ca">
        

Usage of "provided" CA

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/mutual-tls/#permissive-mtls">
        

Permissive mTLS

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/mutual-tls/#certificate-rotation">
        

Certificate Rotation

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-8-traffic-permissions-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-permissions/">
        

Traffic Permissions

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Traffic Permissions subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-8-traffic-permissions-subtree" role="group" aria-label="Traffic Permissions">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-permissions/#usage">
        

Usage

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-permissions/#access-to-external-services">
        

Access to External Services

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-9-traffic-route-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-route/">
        

Traffic Route

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Traffic Route subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-9-traffic-route-subtree" role="group" aria-label="Traffic Route">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-route/#usage">
        

Usage

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-10-traffic-metrics-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-metrics/">
        

Traffic Metrics

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Traffic Metrics subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-10-traffic-metrics-subtree" role="group" aria-label="Traffic Metrics">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-metrics/#expose-metrics-from-data-plane-proxies">
        

Expose metrics from data plane proxies

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-metrics/#expose-metrics-from-applications">
        

Expose metrics from applications

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-metrics/#override-prometheus-settings-per-data-plane-proxy">
        

Override Prometheus settings per data plane proxy

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-metrics/#filter-envoy-metrics">
        

Filter Envoy metrics

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-metrics/#secure-data-plane-proxy-metrics">
        

Secure data plane proxy metrics

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-11-traffic-trace-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-trace/">
        

Traffic Trace

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Traffic Trace subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-11-traffic-trace-subtree" role="group" aria-label="Traffic Trace">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-trace/#add-a-tracing-backend-to-the-mesh">
        

Add a tracing backend to the mesh

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-trace/#add-traffictrace-resource">
        

Add TrafficTrace resource

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-12-traffic-log-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-log/">
        

Traffic Log

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Traffic Log subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-12-traffic-log-subtree" role="group" aria-label="Traffic Log">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-log/#add-a-logging-backend">
        

Add a logging backend

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-log/#add-a-trafficlog-resource">
        

Add a TrafficLog resource

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-log/#logging-external-services">
        

Logging external services

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-log/#builtin-gateway-support">
        

Builtin Gateway support

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-log/#access-log-format">
        

Access Log Format

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-13-locality-aware-load-balancing-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/locality-aware/">
        

Locality-aware Load Balancing

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Locality-aware Load Balancing subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-13-locality-aware-load-balancing-subtree" role="group" aria-label="Locality-aware Load Balancing">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/locality-aware/#enabling-locality-aware-load-balancing">
        

Enabling locality-aware load balancing

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-14-fault-injection-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/fault-injection/">
        

Fault Injection

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Fault Injection subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-14-fault-injection-subtree" role="group" aria-label="Fault Injection">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/fault-injection/#usage">
        

Usage

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/fault-injection/#matching">
        

Matching

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-15-health-check-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/health-check/">
        

Health Check

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Health Check subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-15-health-check-subtree" role="group" aria-label="Health Check">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/health-check/#usage">
        

Usage

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/health-check/#matching">
        

Matching

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-16-circuit-breaker-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/circuit-breaker/">
        

Circuit Breaker

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Circuit Breaker subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-16-circuit-breaker-subtree" role="group" aria-label="Circuit Breaker">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/circuit-breaker/#usage">
        

Usage

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/circuit-breaker/#matching">
        

Matching

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/circuit-breaker/#builtin-gateway-support">
        

Builtin Gateway support

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/circuit-breaker/#non-mesh-traffic">
        

Non-mesh traffic

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-17-external-service-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/external-services/">
        

External Service

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle External Service subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-17-external-service-subtree" role="group" aria-label="External Service">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/external-services/#usage">
        

Usage

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/external-services/#builtin-gateway-support">
        

Builtin Gateway support

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-18-retry-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/retry/">
        

Retry

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Retry subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-18-retry-subtree" role="group" aria-label="Retry">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/retry/#usage">
        

Usage

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/retry/#matching">
        

Matching

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/retry/#builtin-gateway-support">
        

Builtin Gateway support

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-19-timeout-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/timeout/">
        

Timeout

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Timeout subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-19-timeout-subtree" role="group" aria-label="Timeout">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/timeout/#usage">
        

Usage

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/timeout/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/timeout/#default-general-purpose-timeout-policy">
        

Default general-purpose Timeout policy

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/timeout/#matching">
        

Matching

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/timeout/#builtin-gateway-support">
        

Builtin Gateway support

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/timeout/#inbound-timeouts">
        

Inbound timeouts

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/timeout/#non-mesh-traffic">
        

Non-mesh traffic

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-20-rate-limit-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/rate-limit/">
        

Rate Limit

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Rate Limit subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-20-rate-limit-subtree" role="group" aria-label="Rate Limit">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/rate-limit/#usage">
        

Usage

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/rate-limit/#matching-destinations">
        

Matching destinations

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/rate-limit/#builtin-gateway-support">
        

Builtin Gateway support

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-21-virtual-outbound-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/virtual-outbound/">
        

Virtual Outbound

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Virtual Outbound subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-21-virtual-outbound-subtree" role="group" aria-label="Virtual Outbound">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/virtual-outbound/#examples">
        

Examples

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-22-meshgateway-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshgateway/">
        

MeshGateway

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshGateway subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-22-meshgateway-subtree" role="group" aria-label="MeshGateway">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshgateway/#tls-termination">
        

TLS Termination

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-23-meshgatewayroute-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshgatewayroute/">
        

MeshGatewayRoute

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshGatewayRoute subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-23-meshgatewayroute-subtree" role="group" aria-label="MeshGatewayRoute">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshgatewayroute/#listener-tags">
        

Listener tags

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshgatewayroute/#matching">
        

Matching

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshgatewayroute/#filters">
        

Filters

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshgatewayroute/#reference">
        

Reference

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshgatewayinstance/">
        

MeshGatewayInstance

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-25-service-health-probes-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/service-health-probes/">
        

Service Health Probes

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Service Health Probes subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-25-service-health-probes-subtree" role="group" aria-label="Service Health Probes">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/service-health-probes/#kubernetes">
        

Kubernetes

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/service-health-probes/#universal-probes">
        

Universal probes

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-26-meshaccesslog-beta-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshaccesslog/">
        

MeshAccessLog (Beta)

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshAccessLog (Beta) subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-26-meshaccesslog-beta-subtree" role="group" aria-label="MeshAccessLog (Beta)">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshaccesslog/#targetref-support-matrix">
        

TargetRef support matrix

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshaccesslog/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshaccesslog/#examples">
        

Examples

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-27-meshcircuitbreaker-beta-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshcircuitbreaker/">
        

MeshCircuitBreaker (Beta)

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshCircuitBreaker (Beta) subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-27-meshcircuitbreaker-beta-subtree" role="group" aria-label="MeshCircuitBreaker (Beta)">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshcircuitbreaker/#targetref-support-matrix">
        

TargetRef support matrix

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshcircuitbreaker/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshcircuitbreaker/#examples">
        

Examples

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-28-meshfaultinjection-beta-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshfaultinjection/">
        

MeshFaultInjection (Beta)

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshFaultInjection (Beta) subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-28-meshfaultinjection-beta-subtree" role="group" aria-label="MeshFaultInjection (Beta)">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshfaultinjection/#targetref-support-matrix">
        

TargetRef support matrix

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshfaultinjection/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshfaultinjection/#examples">
        

Examples

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-29-meshhealthcheck-beta-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshhealthcheck/">
        

MeshHealthCheck (Beta)

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshHealthCheck (Beta) subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-29-meshhealthcheck-beta-subtree" role="group" aria-label="MeshHealthCheck (Beta)">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshhealthcheck/#targetref-support-matrix">
        

TargetRef support matrix

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshhealthcheck/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshhealthcheck/#examples">
        

Examples

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-30-meshhttproute-beta-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshhttproute/">
        

MeshHTTPRoute (Beta)

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshHTTPRoute (Beta) subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-30-meshhttproute-beta-subtree" role="group" aria-label="MeshHTTPRoute (Beta)">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshhttproute/#targetref-support-matrix">
        

TargetRef support matrix

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshhttproute/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshhttproute/#examples">
        

Examples

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshhttproute/#merging">
        

Merging

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-31-meshproxypatch-beta-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshproxypatch/">
        

MeshProxyPatch (Beta)

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshProxyPatch (Beta) subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-31-meshproxypatch-beta-subtree" role="group" aria-label="MeshProxyPatch (Beta)">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshproxypatch/#targetref-support-matrix">
        

TargetRef support matrix

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshproxypatch/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshproxypatch/#examples">
        

Examples

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshproxypatch/#merging">
        

Merging

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-32-meshratelimit-beta-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshratelimit/">
        

MeshRateLimit (Beta)

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshRateLimit (Beta) subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-32-meshratelimit-beta-subtree" role="group" aria-label="MeshRateLimit (Beta)">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshratelimit/#targetref-support-matrix">
        

TargetRef support matrix

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshratelimit/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshratelimit/#examples">
        

Examples

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-33-meshretry-beta-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshretry/">
        

MeshRetry (Beta)

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshRetry (Beta) subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-33-meshretry-beta-subtree" role="group" aria-label="MeshRetry (Beta)">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshretry/#targetref-support-matrix">
        

TargetRef support matrix

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshretry/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshretry/#examples">
        

Examples

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-34-meshtimeout-beta-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshtimeout/">
        

MeshTimeout (Beta)

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshTimeout (Beta) subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-34-meshtimeout-beta-subtree" role="group" aria-label="MeshTimeout (Beta)">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshtimeout/#targetref-support-matrix">
        

TargetRef support matrix

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshtimeout/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshtimeout/#examples">
        

Examples

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-35-meshtrace-beta-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshtrace/">
        

MeshTrace (Beta)

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshTrace (Beta) subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-35-meshtrace-beta-subtree" role="group" aria-label="MeshTrace (Beta)">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshtrace/#targetref-support-matrix">
        

TargetRef support matrix

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshtrace/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshtrace/#examples">
        

Examples

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-36-meshtrafficpermission-beta-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshtrafficpermission/">
        

MeshTrafficPermission (Beta)

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshTrafficPermission (Beta) subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-36-meshtrafficpermission-beta-subtree" role="group" aria-label="MeshTrafficPermission (Beta)">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshtrafficpermission/#targetref-support-matrix">
        

TargetRef support matrix

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshtrafficpermission/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshtrafficpermission/#examples">
        

Examples

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-37-meshloadbalancingstrategy-beta-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshloadbalancingstrategy/">
        

MeshLoadBalancingStrategy (Beta)

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshLoadBalancingStrategy (Beta) subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-37-meshloadbalancingstrategy-beta-subtree" role="group" aria-label="MeshLoadBalancingStrategy (Beta)">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshloadbalancingstrategy/#targetref-support-matrix">
        

TargetRef support matrix

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshloadbalancingstrategy/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshloadbalancingstrategy/#examples">
        

Examples

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/opa/">
        

OPA policy

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/meshopa/">
        

MeshOPA (beta)

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/meshglobalratelimit/">
        

MeshGlobalRateLimit (beta)

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-9-enterprise-features-subtree">
    
      
  <img src="/assets/images/icons/documentation/icn-enterprise-blue.svg" alt="">


Enterprise Features

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Enterprise Features subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-9-enterprise-features-subtree" role="group" aria-label="Enterprise Features">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/">
        

Overview

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/vault/">
        

HashiCorp Vault CA

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/acmpca/">
        

Amazon ACM Private CA

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/cert-manager/">
        

cert-manager Private CA

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/opa/">
        

OPA policy support

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/meshopa/">
        

MeshOPA (beta)

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/kds-auth/">
        

Multi-zone authentication

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/fips-support/">
        

FIPS support

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/ca-rotation/">
        

Certificate Authority rotation

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/rbac/">
        

Role-Based Access Control

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/ubi-images/">
        

UBI Images

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/windows/">
        

Windows Support

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/installation/ecs/">
        

ECS Support

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/access-audit/">
        

Auditing

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/meshglobalratelimit/">
        

MeshGlobalRateLimit (beta)

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-10-reference-subtree">
    
      
  <img src="/assets/images/icons/documentation/icn-references-color.svg" alt="">


Reference

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Reference subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-10-reference-subtree" role="group" aria-label="Reference">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/reference/http-api/">
        

HTTP API

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/reference/kubernetes-annotations/">
        

Kubernetes annotations and labels

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/reference/data-collection/">
        

Kuma data collection

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/reference/kuma-cp/">
        

Control plane configuration reference

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/reference/proxy-template/">
        

Envoy proxy template

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-11-community-subtree">
    
      
  <img src="/assets/images/icons/documentation/icn-references-color.svg" alt="">


Community

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Community subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-11-community-subtree" role="group" aria-label="Community">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="https://kuma.io/community/" target="_blank" rel="noopener nofollow noreferrer ">
        

Contribute to Kuma

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

    
  </ul>
</aside>




      <aside class="docs-toc">
        <i class="fa fa-times close-sidebar"></i>
        <i class="fa fa-chevron-right collapse-toc"></i>
        <i class="far fa-list-alt expand-toc"></i>

        <div id="oss-ee-toggle" data-current="Enterprise" style="display: none">
          <span class="oss-ee-toggle-inner">
            <img src="/assets/images/icons/icn-enterprise-black.svg" alt="enterprise-switcher-icon">
            <span>Switch to <span id="switch-to-version">OSS</span></span>
          </span>
        </div>

        
        <div class="docs-toc-title">
<img src="/assets/images/icons/hub-layout/icn-on-this-page.svg" alt="On this page"><a href="#">On this page</a>
</div>
<ul>
  <li><a href="#what-is-global-rate-limiting" class="active scroll-to">What is global rate limiting</a></li>
  <li>
<a href="#how-global-rate-limit-works" class="scroll-to">How Global Rate limit works</a>
    <ul>
      <li><a href="#architecture-overview" class="scroll-to">Architecture overview</a></li>
      <li><a href="#request-flow" class="scroll-to">Request flow</a></li>
      <li><a href="#ratelimit-service-configuration" class="scroll-to">Ratelimit service configuration</a></li>
      <li><a href="#rate-limiting-algorithm" class="scroll-to">Rate limiting algorithm</a></li>
      <li><a href="#multi-zone-deployment" class="scroll-to">Multi-zone deployment</a></li>
    </ul>
  </li>
  <li><a href="#targetref-support-matrix" class="scroll-to">TargetRef support matrix</a></li>
  <li>
<a href="#configuration" class="scroll-to">Configuration</a>
    <ul>
      <li><a href="#full-example" class="scroll-to">Full example</a></li>
      <li><a href="#configure-a-reusable-ratelimit-service-backend" class="scroll-to">Configure a reusable ratelimit service backend</a></li>
      <li><a href="#combining-meshratelimit-with-meshglobalratelimit" class="scroll-to">Combining MeshRateLimit with MeshGlobalRateLimit</a></li>
      <li><a href="#external-service-support" class="scroll-to">External service support</a></li>
    </ul>
  </li>
  <li>
<a href="#ratelimit-service" class="scroll-to">Ratelimit service</a>
    <ul>
      <li><a href="#deployment" class="scroll-to">Deployment</a></li>
      <li><a href="#how-to-read-limits-configuration" class="scroll-to">How to read limits configuration</a></li>
      <li><a href="#performance-improvements" class="scroll-to">Performance improvements</a></li>
    </ul>
  </li>
  <li>
<a href="#example-ratelimit-setup" class="scroll-to">Example Ratelimit setup</a>
    <ul>
      <li><a href="#prerequisites" class="scroll-to">Prerequisites</a></li>
      <li><a href="#example" class="scroll-to">Example</a></li>
    </ul>
  </li>
  <li><a href="#all-policy-options" class="scroll-to">All policy options</a></li>
</ul>

        
      </aside>

    <div class="page-content-container page-content-container-doc v2 " id="documentation">
      <div class="toggles ">
          <i class="far fa-list-alt toc-sidebar-toggle"></i>
      </div>

      <div class="page-content">
        <div class="content show-anchor-links">
          
            
              <blockquote id="version-notice" class="important">
                You are browsing documentation for an older version.
            
                See the <a href="/mesh/latest/features/meshglobalratelimit/">latest documentation here</a>.
              </blockquote>
          

          <h1 tabindex="-1" id="main" class="page-content-title">MeshGlobalRateLimit Policy (beta)
            

            
              <a href="https://konghq.com/pricing" class="badge enterprise" aria-label="available with Kong Gateway Enterprise subscription" target="_blank" rel="noopener nofollow noreferrer ">
              </a>
            
          </h1>

          

          
          
            <blockquote class="important">
              This feature is released as <a href="/gateway/latest/availability-stages/#beta">beta</a> and should not be depended upon in a production environment.

              
            </blockquote>
          

          <p>This policy adds Global Rate Limit support for Kong Mesh.</p>

<h2 id="what-is-global-rate-limiting">What is global rate limiting</h2>

<p>Rate limiting is a mechanism used to control the number of requests received by a service in a time unit. 
For example, you can limit your service to receive only 100 requests per second. 
Typical rate limit use cases include the following:</p>
<ul>
  <li>Protecting your service from DoS (Denial of Service) attack</li>
  <li>Limiting your API usage</li>
  <li>Controlling traffic throughput</li>
</ul>

<p>All rate limit algorithms are based on some form of request counting. In Kong Mesh, there are two rate limiting mechanisms: 
local and global rate limit.</p>

<p>Local rate limit is applied per service instance. Because of this, counters can be stored in memory and rate limit 
decisions can be made instantaneously. Local rate limiting should be enough in most cases (for example, DoS protection and controlling traffic throughput).
You can find more information about local rate limit and how to configure it in <a href="/mesh/2.2.x/policies/meshratelimit">MeshRateLimit docs</a>.</p>

<p>There are some cases when local rate limit won’t solve your problems. For example, you may want to limit the number of requests that non-paying users can 
make to your public API. To do that, you must coordinate request counting between service instances, which the global rate limit can help you with.
Global rate limit moves counters from data plane proxy to distributed cache. Because of this, you can configure longer time units (like
week, month, or year) which will be immune to your service restarts.</p>

<h2 id="how-global-rate-limit-works">How Global Rate limit works</h2>

<p>Global rate limiting is a more complex than local rate limit. It needs an additional service that will manage the global counters.</p>

<h3 id="architecture-overview">Architecture overview</h3>

<center>
  <img src="/assets/images/docs/mesh/ratelimit-service.png">
</center>
<blockquote>
  <p>Figure 1: Diagram of how the global rate limit interacts with two services (Service A and Service B), , and Redis.</p>
</blockquote>

<p>Global rate limit adds two components to your Kong Mesh deployment. You need the ratelimit service that will manage your counters and 
highly available in-memory data store where you will store your counters. Kong Mesh uses <a href="https://redis.io/" target="_blank" rel="noopener nofollow noreferrer ">Redis</a> for this.</p>

<h3 id="request-flow">Request flow</h3>

<p>Let’s assume that we have configured rate limiting for <strong>Service B</strong> from our diagram. If any service/gateway makes requests to <strong>Service B</strong>,
its data plane proxy will make a request to the ratelimit service to check if the request can be forwarded to <strong>Service B</strong>. The ratelimit service then
checks if the counter for this service is below limits. If it is below limits, it updates the counter and allows the request to pass. If counters are above
limits, deny response is returned.</p>

<blockquote class="note">
  <p><strong>Note</strong>: Configuring global rate limit will increase your service response times because it needs additional requests to the ratelimit service and Redis.</p>
</blockquote>

<h3 id="ratelimit-service-configuration">Ratelimit service configuration</h3>

<p>Besides the basic service configuration that is provided on startup, the ratelimit service needs a limits configuration. Limits configuration
is loaded dynamically from the control plane. Ratelimit service uses xDS protocol for this, which is the same protocol that the data plane proxy
uses for communicating with the control plane. The control plane will periodically compute any new limits configuration and send it to ratelimit service.</p>

<h3 id="rate-limiting-algorithm">Rate limiting algorithm</h3>

<p>The ratelimit service uses a fixed window algorithm. It allocates a new counter for each time unit. Let’s assume that we have configured limits to 
10 requests per minute. At the beginning of each minute, ratelimit service will create a new counter.</p>

<center>
  <img src="/assets/images/docs/mesh/ratelimit-algorithm.png">
</center>
<blockquote>
  <p>Figure 2: Diagram showing how rate limit counters are placed on timeline and how request is qualified for specific time window.</p>
</blockquote>

<p>When a new request arrives, it updates the counters in the window based on the request timestamp. Be aware of the following when configuring counters:</p>

<ul>
  <li>The counter can be depleted at the beginning of the window.</li>
  <li>The first counter can be depleted at the end of the window and the second can be depleted at the beginning of the window.</li>
</ul>

<p>The first scenario can be problematic for long time units like hours and days. Because the limit is reached at the beginning of the time window,
your service will not serve any requests for the rest of the time window. To solve this issue, you can split your limit from 60 per hour to 
one per minute.</p>

<p>The second scenario could result in requests burst around the window switch. In this scenario, when you configure the ratelimit to 100 requests per minute
you could end up receiving 200 request in a couple of seconds.</p>

<h3 id="multi-zone-deployment">Multi-zone deployment</h3>

<p>When it comes to multi-zone deployments, you should deploy the ratelimit service in every zone. As for Redis, you have two options:</p>

<center>
  <img src="/assets/images/docs/mesh/ratelimit-service-multizone-multi-redis.png">
</center>
<blockquote>
  <p>Figure 3: Diagram of multi-zone ratelimit setup with Redis per zone.</p>
</blockquote>

<p>The first option is to deploy Redis in every zone. In this setup, limits will be applied per zone. Since each zone will have its own counters cache, 
requests will be faster, and it will be easier to distribute your system geographically.</p>

<center>
  <img src="/assets/images/docs/mesh/ratelimit-service-multizone-single-redis.png">
</center>
<blockquote>
  <p>Figure 4: Diagram of multi-zone ratelimit setup with global Redis.</p>
</blockquote>

<p>The second option is to deploy a single Redis datastore for all your zones. In this setup, the rate limit will be truly global. When deploying a single Redis datastore, remember that if your zones are distributed geographically requests to Redis can become slower which could drastically 
increase response times of service you are rate limiting.</p>

<!-- ### Securing communication between ratelimit service and Control Plane

Communication between the ratelimit service and control plane is encrypted. In addition, zone token authorization is used on Universal and  service account authorization is used on Kubernetes.

TODO: document how to generate and use zone token on universal.-->

<h2 id="targetref-support-matrix">TargetRef support matrix</h2>

<table>
  <thead>
    <tr>
      <th>TargetRef type</th>
      <th>Top level</th>
      <th>To</th>
      <th>From</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Mesh</td>
      <td>✅</td>
      <td>❌</td>
      <td>✅</td>
    </tr>
    <tr>
      <td>MeshSubset</td>
      <td>❌</td>
      <td>❌</td>
      <td>❌</td>
    </tr>
    <tr>
      <td>MeshService</td>
      <td>✅</td>
      <td>❌</td>
      <td>❌</td>
    </tr>
    <tr>
      <td>MeshServiceSubset</td>
      <td>❌</td>
      <td>❌</td>
      <td>❌</td>
    </tr>
    <tr>
      <td>MeshGatewayRoute</td>
      <td>❌</td>
      <td>❌</td>
      <td>❌</td>
    </tr>
  </tbody>
</table>

<p>To learn more about the information in this table, see the <a href="/mesh/2.2.x/policies/targetref">matching docs</a>.</p>

<h2 id="configuration">Configuration</h2>

<p>In the following sections, you can find examples for the <code class="language-plaintext highlighter-rouge">MeshGlobalRateLimit</code> configuration.</p>

<h3 id="full-example">Full example</h3>

<div class="navtabs  ">
  <div class="navtab-titles" role="tablist">
  
    
    <div data-slug="kubernetes" data-navtab-id="navtab-591d5524-45d1-4a2f-bd63-dbe5f2c0b8b5-0" class="navtab-title" role="tab" aria-controls="navtab-id-0" tabindex="0">
      Kubernetes
    </div>
  
    
    <div data-slug="universal" data-navtab-id="navtab-591d5524-45d1-4a2f-bd63-dbe5f2c0b8b5-1" class="navtab-title" role="tab" aria-controls="navtab-id-1" tabindex="0">
      Universal
    </div>
  
  </div>
  <div class="navtab-contents">
  
    
    <div data-panel="kubernetes" data-navtab-content="navtab-591d5524-45d1-4a2f-bd63-dbe5f2c0b8b5-0" class="navtab-content" role="tabpanel" id="navtab-id-0" tabindex="0" aria-labelledby="navtab-id-0">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">kuma.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">MeshGlobalRateLimit</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">demo-rate-limit</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">kong-mesh-system</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">targetRef</span><span class="pi">:</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshService</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">demo-app_kuma-demo_svc_5000</span>
  <span class="na">from</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span>
        <span class="na">kind</span><span class="pi">:</span> <span class="s">Mesh</span>
      <span class="na">default</span><span class="pi">:</span>
        <span class="na">http</span><span class="pi">:</span>
          <span class="na">requestRate</span><span class="pi">:</span>
            <span class="na">num</span><span class="pi">:</span> <span class="m">100</span>
            <span class="na">interval</span><span class="pi">:</span> <span class="s">1s</span> <span class="c1"># only 1s, 1m, 1h, 24h can be specified</span>
          <span class="na">onRateLimit</span><span class="pi">:</span>
            <span class="na">status</span><span class="pi">:</span> <span class="m">423</span>
            <span class="na">headers</span><span class="pi">:</span>
              <span class="na">set</span><span class="pi">:</span>
                <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">x-kuma-rate-limited"</span>
                  <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
              <span class="na">add</span><span class="pi">:</span>
                <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">x-kuma-header"</span>
                  <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
        <span class="na">mode</span><span class="pi">:</span> <span class="s">Limit</span> <span class="c1"># allowed: Limit, Shadow</span>
        <span class="na">backend</span><span class="pi">:</span>
          <span class="na">rateLimitService</span><span class="pi">:</span>
            <span class="na">url</span><span class="pi">:</span> <span class="s">http://kong-mesh-ratelimit-service.kong-mesh-system:10003</span>
            <span class="na">timeout</span><span class="pi">:</span> <span class="s">25ms</span>
</code></pre></div></div>


    </div>
  
    
    <div data-panel="universal" data-navtab-content="navtab-591d5524-45d1-4a2f-bd63-dbe5f2c0b8b5-1" class="navtab-content" role="tabpanel" id="navtab-id-1" tabindex="0" aria-labelledby="navtab-id-1">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">type</span><span class="pi">:</span> <span class="s">MeshGlobalRateLimit</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">demo-rate-limit</span>
<span class="na">mesh</span><span class="pi">:</span> <span class="s">default</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">targetRef</span><span class="pi">:</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshService</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">demo-app</span>
  <span class="na">from</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span>
        <span class="na">kind</span><span class="pi">:</span> <span class="s">Mesh</span>
      <span class="na">default</span><span class="pi">:</span>
        <span class="na">http</span><span class="pi">:</span>
          <span class="na">requestRate</span><span class="pi">:</span>
            <span class="na">num</span><span class="pi">:</span> <span class="m">100</span>
            <span class="na">interval</span><span class="pi">:</span> <span class="s">1s</span> <span class="c1"># only 1s, 1m, 1h, 24h can be specified</span>
          <span class="na">onRateLimit</span><span class="pi">:</span>
            <span class="na">status</span><span class="pi">:</span> <span class="m">423</span>
            <span class="na">headers</span><span class="pi">:</span>
              <span class="na">set</span><span class="pi">:</span>
                <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">x-kuma-rate-limited"</span>
                  <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
              <span class="na">add</span><span class="pi">:</span>
                <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">x-kuma-header"</span>
                  <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
        <span class="na">mode</span><span class="pi">:</span> <span class="s">Limit</span> <span class="c1"># allowed: Limit, Shadow</span>
        <span class="na">backend</span><span class="pi">:</span>
          <span class="na">rateLimitService</span><span class="pi">:</span>
            <span class="na">url</span><span class="pi">:</span> <span class="s">http://kong-mesh-ratelimit-service:10003</span>
            <span class="na">timeout</span><span class="pi">:</span> <span class="s">25ms</span>
</code></pre></div></div>


    </div>
  
  </div>
</div>

<h4 id="applying-configuration-to-the-data-plane-proxy-and-the-ratelimit-service">Applying configuration to the data plane proxy and the ratelimit service</h4>

<p>After applying your policy, the control plane builds two configurations, one for the data plane proxy and one for the ratelimit service. The ratelimit service configuration 
is built from you service name and <code class="language-plaintext highlighter-rouge">requestRate</code> policy parameter. The rest of the policy is translated to data plane proxy configuration.</p>

<h3 id="configure-a-reusable-ratelimit-service-backend">Configure a reusable ratelimit service backend</h3>

<p>To simplify your per service configuration, you can configure the ratelimit service backend for the whole mesh.</p>

<div class="navtabs  ">
  <div class="navtab-titles" role="tablist">
  
    
    <div data-slug="kubernetes" data-navtab-id="navtab-455e3108-1fb5-4421-9b71-b2962740d6a8-0" class="navtab-title" role="tab" aria-controls="navtab-id-0" tabindex="0">
      Kubernetes
    </div>
  
    
    <div data-slug="universal" data-navtab-id="navtab-455e3108-1fb5-4421-9b71-b2962740d6a8-1" class="navtab-title" role="tab" aria-controls="navtab-id-1" tabindex="0">
      Universal
    </div>
  
  </div>
  <div class="navtab-contents">
  
    
    <div data-panel="kubernetes" data-navtab-content="navtab-455e3108-1fb5-4421-9b71-b2962740d6a8-0" class="navtab-content" role="tabpanel" id="navtab-id-0" tabindex="0" aria-labelledby="navtab-id-0">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">kuma.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">MeshGlobalRateLimit</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">ratelimit-backend</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">kong-mesh-system</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">targetRef</span><span class="pi">:</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">Mesh</span>
  <span class="na">from</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span>
        <span class="na">kind</span><span class="pi">:</span> <span class="s">Mesh</span>
      <span class="na">default</span><span class="pi">:</span>
        <span class="na">http</span><span class="pi">:</span>
          <span class="na">onRateLimit</span><span class="pi">:</span>
            <span class="na">status</span><span class="pi">:</span> <span class="m">423</span>
            <span class="na">headers</span><span class="pi">:</span>
              <span class="na">set</span><span class="pi">:</span>
                <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">x-kuma-rate-limited"</span>
                  <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
        <span class="na">mode</span><span class="pi">:</span> <span class="s">Limit</span>
        <span class="na">backend</span><span class="pi">:</span>
          <span class="na">rateLimitService</span><span class="pi">:</span>
            <span class="na">url</span><span class="pi">:</span> <span class="s">http://kong-mesh-ratelimit-service.kong-mesh-system:10003</span>
            <span class="na">timeout</span><span class="pi">:</span> <span class="s">25ms</span>
</code></pre></div></div>


    </div>
  
    
    <div data-panel="universal" data-navtab-content="navtab-455e3108-1fb5-4421-9b71-b2962740d6a8-1" class="navtab-content" role="tabpanel" id="navtab-id-1" tabindex="0" aria-labelledby="navtab-id-1">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">type</span><span class="pi">:</span> <span class="s">MeshGlobalRateLimit</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">ratelimit-backend</span>
<span class="na">mesh</span><span class="pi">:</span> <span class="s">default</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">targetRef</span><span class="pi">:</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">Mesh</span>
  <span class="na">from</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span>
        <span class="na">kind</span><span class="pi">:</span> <span class="s">Mesh</span>
      <span class="na">default</span><span class="pi">:</span>
        <span class="na">http</span><span class="pi">:</span>
          <span class="na">onRateLimit</span><span class="pi">:</span>
            <span class="na">status</span><span class="pi">:</span> <span class="m">423</span>
            <span class="na">headers</span><span class="pi">:</span>
              <span class="na">set</span><span class="pi">:</span>
                <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s2">"</span><span class="s">x-kuma-rate-limited"</span>
                  <span class="na">value</span><span class="pi">:</span> <span class="s2">"</span><span class="s">true"</span>
        <span class="na">mode</span><span class="pi">:</span> <span class="s">Limit</span>
        <span class="na">backend</span><span class="pi">:</span>
          <span class="na">rateLimitService</span><span class="pi">:</span>
            <span class="na">url</span><span class="pi">:</span> <span class="s">http://kong-mesh-ratelimit-service:10003</span>
            <span class="na">timeout</span><span class="pi">:</span> <span class="s">25ms</span>
</code></pre></div></div>


    </div>
  
  </div>
</div>

<p>Then you only have to configure limits for each service:</p>

<div class="navtabs  ">
  <div class="navtab-titles" role="tablist">
  
    
    <div data-slug="kubernetes" data-navtab-id="navtab-3ef6cc70-6709-4c18-91e0-e0e1e5e462e2-0" class="navtab-title" role="tab" aria-controls="navtab-id-0" tabindex="0">
      Kubernetes
    </div>
  
    
    <div data-slug="universal" data-navtab-id="navtab-3ef6cc70-6709-4c18-91e0-e0e1e5e462e2-1" class="navtab-title" role="tab" aria-controls="navtab-id-1" tabindex="0">
      Universal
    </div>
  
  </div>
  <div class="navtab-contents">
  
    
    <div data-panel="kubernetes" data-navtab-content="navtab-3ef6cc70-6709-4c18-91e0-e0e1e5e462e2-0" class="navtab-content" role="tabpanel" id="navtab-id-0" tabindex="0" aria-labelledby="navtab-id-0">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">kuma.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">MeshGlobalRateLimit</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">demo-rate-limit</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">kong-mesh-system</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">targetRef</span><span class="pi">:</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshService</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">demo-app_kuma-demo_svc_5000</span>
  <span class="na">from</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span>
        <span class="na">kind</span><span class="pi">:</span> <span class="s">Mesh</span>
      <span class="na">default</span><span class="pi">:</span>
        <span class="na">http</span><span class="pi">:</span>
          <span class="na">requestRate</span><span class="pi">:</span>
              <span class="na">num</span><span class="pi">:</span> <span class="m">100</span>
              <span class="na">interval</span><span class="pi">:</span> <span class="s">1s</span>    
</code></pre></div></div>


    </div>
  
    
    <div data-panel="universal" data-navtab-content="navtab-3ef6cc70-6709-4c18-91e0-e0e1e5e462e2-1" class="navtab-content" role="tabpanel" id="navtab-id-1" tabindex="0" aria-labelledby="navtab-id-1">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">type</span><span class="pi">:</span> <span class="s">MeshGlobalRateLimit</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">demo-rate-limit</span>
<span class="na">mesh</span><span class="pi">:</span> <span class="s">default</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">targetRef</span><span class="pi">:</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshService</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">demo-app</span>
  <span class="na">from</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span>
        <span class="na">kind</span><span class="pi">:</span> <span class="s">Mesh</span>
      <span class="na">default</span><span class="pi">:</span>
        <span class="na">http</span><span class="pi">:</span>
          <span class="na">requestRate</span><span class="pi">:</span>
              <span class="na">num</span><span class="pi">:</span> <span class="m">100</span>
              <span class="na">interval</span><span class="pi">:</span> <span class="s">1s</span>
</code></pre></div></div>


    </div>
  
  </div>
</div>

<h3 id="combining-meshratelimit-with-meshglobalratelimit">Combining MeshRateLimit with MeshGlobalRateLimit</h3>

<p>You can combine MeshRateLimit and MeshGlobalRateLimit policies. By doing this, you can specify a local limit that is more strict than the global rate limit.
When the local rate limit is reached, the data plane proxy will stop sending requests to ratelimit service.</p>

<p>This could lower network traffic between the data plane proxy and the ratelimit service. Also, it can protect your ratelimit service from a DDoS “attack” by your services. 
Moreover, this could be used to more evenly distribute traffic to the ratelimit service and mitigate the problem of depleting whole limit at the beginning of the counter window.
This is described in the <a href="/mesh/2.2.x/features/meshglobalratelimit/#rate-limiting-algorithm">previous section</a>.</p>

<div class="navtabs  ">
  <div class="navtab-titles" role="tablist">
  
    
    <div data-slug="kubernetes" data-navtab-id="navtab-720bf9b1-7c73-4413-b835-f84ad89922cc-0" class="navtab-title" role="tab" aria-controls="navtab-id-0" tabindex="0">
      Kubernetes
    </div>
  
    
    <div data-slug="universal" data-navtab-id="navtab-720bf9b1-7c73-4413-b835-f84ad89922cc-1" class="navtab-title" role="tab" aria-controls="navtab-id-1" tabindex="0">
      Universal
    </div>
  
  </div>
  <div class="navtab-contents">
  
    
    <div data-panel="kubernetes" data-navtab-content="navtab-720bf9b1-7c73-4413-b835-f84ad89922cc-0" class="navtab-content" role="tabpanel" id="navtab-id-0" tabindex="0" aria-labelledby="navtab-id-0">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">kuma.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">MeshRateLimit</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">demo-local-rate-limit</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">kuma-system</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">targetRef</span><span class="pi">:</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshService</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">demo-app_kuma-demo_svc_5000</span>
  <span class="na">from</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span>
        <span class="na">kind</span><span class="pi">:</span> <span class="s">Mesh</span>
      <span class="na">default</span><span class="pi">:</span>
        <span class="na">local</span><span class="pi">:</span>
          <span class="na">http</span><span class="pi">:</span>
            <span class="na">requestRate</span><span class="pi">:</span>
              <span class="na">num</span><span class="pi">:</span> <span class="m">10</span>
              <span class="na">interval</span><span class="pi">:</span> <span class="s">10s</span>
<span class="nn">---</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">kuma.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">MeshGlobalRateLimit</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">demo-global-rate-limit</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">kong-mesh-system</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">targetRef</span><span class="pi">:</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshService</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">demo-app_kuma-demo_svc_5000</span>
  <span class="na">from</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span>
        <span class="na">kind</span><span class="pi">:</span> <span class="s">Mesh</span>
      <span class="na">default</span><span class="pi">:</span>
        <span class="na">http</span><span class="pi">:</span>
          <span class="na">requestRate</span><span class="pi">:</span>
            <span class="na">num</span><span class="pi">:</span> <span class="m">60</span>
            <span class="na">interval</span><span class="pi">:</span> <span class="s">1m</span>
</code></pre></div></div>


    </div>
  
    
    <div data-panel="universal" data-navtab-content="navtab-720bf9b1-7c73-4413-b835-f84ad89922cc-1" class="navtab-content" role="tabpanel" id="navtab-id-1" tabindex="0" aria-labelledby="navtab-id-1">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">type</span><span class="pi">:</span> <span class="s">MeshRateLimit</span>
<span class="na">mesh</span><span class="pi">:</span> <span class="s">default</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">demo-local-rate-limit</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">targetRef</span><span class="pi">:</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshService</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">demo-app</span>
  <span class="na">from</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span>
        <span class="na">kind</span><span class="pi">:</span> <span class="s">Mesh</span>
      <span class="na">default</span><span class="pi">:</span>
        <span class="na">local</span><span class="pi">:</span>
          <span class="na">http</span><span class="pi">:</span>
            <span class="na">requestRate</span><span class="pi">:</span>
              <span class="na">num</span><span class="pi">:</span> <span class="m">10</span>
              <span class="na">interval</span><span class="pi">:</span> <span class="s">10s</span>
<span class="nn">---</span>
<span class="na">type</span><span class="pi">:</span> <span class="s">MeshGlobalRateLimit</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">demo-global-rate-limit</span>
<span class="na">mesh</span><span class="pi">:</span> <span class="s">default</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">targetRef</span><span class="pi">:</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshService</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">demo-app</span>
  <span class="na">from</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span>
        <span class="na">kind</span><span class="pi">:</span> <span class="s">Mesh</span>
      <span class="na">default</span><span class="pi">:</span>
        <span class="na">http</span><span class="pi">:</span>
          <span class="na">requestRate</span><span class="pi">:</span>
            <span class="na">num</span><span class="pi">:</span> <span class="m">60</span>
            <span class="na">interval</span><span class="pi">:</span> <span class="s">1m</span>
</code></pre></div></div>


    </div>
  
  </div>
</div>

<h3 id="external-service-support">External service support</h3>

<p>To rate limit requests to <a href="/mesh/2.2.x/policies/external-services">External Service</a> you must deploy <a href="/mesh/2.2.x/production/cp-deployment/zoneegress/">ZoneEgress</a>.</p>

<p>After deploying Zone Egress, you must enable mTLS in your mesh and configure zone egress routing. Here’s an example mesh configuration:</p>

<div class="navtabs  ">
  <div class="navtab-titles" role="tablist">
  
    
    <div data-slug="kubernetes" data-navtab-id="navtab-8706f3a7-88c2-4371-85c4-448c9bc79e1e-0" class="navtab-title" role="tab" aria-controls="navtab-id-0" tabindex="0">
      Kubernetes
    </div>
  
    
    <div data-slug="universal" data-navtab-id="navtab-8706f3a7-88c2-4371-85c4-448c9bc79e1e-1" class="navtab-title" role="tab" aria-controls="navtab-id-1" tabindex="0">
      Universal
    </div>
  
  </div>
  <div class="navtab-contents">
  
    
    <div data-panel="kubernetes" data-navtab-content="navtab-8706f3a7-88c2-4371-85c4-448c9bc79e1e-0" class="navtab-content" role="tabpanel" id="navtab-id-0" tabindex="0" aria-labelledby="navtab-id-0">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">kuma.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Mesh</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">default</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">routing</span><span class="pi">:</span>
    <span class="na">zoneEgress</span><span class="pi">:</span> <span class="kc">true</span>
  <span class="na">mtls</span><span class="pi">:</span>
    <span class="na">enabledBackend</span><span class="pi">:</span> <span class="s">ca-1</span>
    <span class="na">backends</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">ca-1</span>
        <span class="na">type</span><span class="pi">:</span> <span class="s">builtin</span>
</code></pre></div></div>


    </div>
  
    
    <div data-panel="universal" data-navtab-content="navtab-8706f3a7-88c2-4371-85c4-448c9bc79e1e-1" class="navtab-content" role="tabpanel" id="navtab-id-1" tabindex="0" aria-labelledby="navtab-id-1">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">type</span><span class="pi">:</span> <span class="s">Mesh</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">default</span>
<span class="na">routing</span><span class="pi">:</span>
  <span class="na">zoneEgress</span><span class="pi">:</span> <span class="kc">true</span>
<span class="na">mtls</span><span class="pi">:</span>
  <span class="na">enabledBackend</span><span class="pi">:</span> <span class="s">ca-1</span>
  <span class="na">backends</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">ca-1</span>
      <span class="na">type</span><span class="pi">:</span> <span class="s">builtin</span>
</code></pre></div></div>


    </div>
  
  </div>
</div>

<p>After configuring your mesh, you can create your external service:</p>

<div class="navtabs  ">
  <div class="navtab-titles" role="tablist">
  
    
    <div data-slug="kubernetes" data-navtab-id="navtab-bc55e9c7-21f3-4544-92b5-bd35ad5079fc-0" class="navtab-title" role="tab" aria-controls="navtab-id-0" tabindex="0">
      Kubernetes
    </div>
  
    
    <div data-slug="universal" data-navtab-id="navtab-bc55e9c7-21f3-4544-92b5-bd35ad5079fc-1" class="navtab-title" role="tab" aria-controls="navtab-id-1" tabindex="0">
      Universal
    </div>
  
  </div>
  <div class="navtab-contents">
  
    
    <div data-panel="kubernetes" data-navtab-content="navtab-bc55e9c7-21f3-4544-92b5-bd35ad5079fc-0" class="navtab-content" role="tabpanel" id="navtab-id-0" tabindex="0" aria-labelledby="navtab-id-0">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">kuma.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">ExternalService</span>
<span class="na">mesh</span><span class="pi">:</span> <span class="s">default</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">httpbin</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">tags</span><span class="pi">:</span>
    <span class="na">kuma.io/service</span><span class="pi">:</span> <span class="s">httpbin</span>
    <span class="na">kuma.io/protocol</span><span class="pi">:</span> <span class="s">http</span> 
  <span class="na">networking</span><span class="pi">:</span>
    <span class="na">address</span><span class="pi">:</span> <span class="s">httpbin.org:443</span>
    <span class="na">tls</span><span class="pi">:</span>
      <span class="na">enabled</span><span class="pi">:</span> <span class="kc">true</span>
</code></pre></div></div>


    </div>
  
    
    <div data-panel="universal" data-navtab-content="navtab-bc55e9c7-21f3-4544-92b5-bd35ad5079fc-1" class="navtab-content" role="tabpanel" id="navtab-id-1" tabindex="0" aria-labelledby="navtab-id-1">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">type</span><span class="pi">:</span> <span class="s">ExternalService</span>
<span class="na">mesh</span><span class="pi">:</span> <span class="s">default</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">httpbin</span>
<span class="na">tags</span><span class="pi">:</span>
  <span class="na">kuma.io/service</span><span class="pi">:</span> <span class="s">httpbin</span>
  <span class="na">kuma.io/protocol</span><span class="pi">:</span> <span class="s">http</span>
<span class="na">networking</span><span class="pi">:</span>
  <span class="na">address</span><span class="pi">:</span> <span class="s">httpbin.org:443</span>
  <span class="na">tls</span><span class="pi">:</span>
    <span class="na">enabled</span><span class="pi">:</span> <span class="kc">true</span>
</code></pre></div></div>


    </div>
  
  </div>
</div>

<p>When applying policies, external services are treated as normal mesh services, so we configure MeshGlobalRateLimit like this:</p>

<div class="navtabs  ">
  <div class="navtab-titles" role="tablist">
  
    
    <div data-slug="kubernetes" data-navtab-id="navtab-946e7417-e6d1-43b7-8204-c27e91a7af09-0" class="navtab-title" role="tab" aria-controls="navtab-id-0" tabindex="0">
      Kubernetes
    </div>
  
    
    <div data-slug="universal" data-navtab-id="navtab-946e7417-e6d1-43b7-8204-c27e91a7af09-1" class="navtab-title" role="tab" aria-controls="navtab-id-1" tabindex="0">
      Universal
    </div>
  
  </div>
  <div class="navtab-contents">
  
    
    <div data-panel="kubernetes" data-navtab-content="navtab-946e7417-e6d1-43b7-8204-c27e91a7af09-0" class="navtab-content" role="tabpanel" id="navtab-id-0" tabindex="0" aria-labelledby="navtab-id-0">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">kuma.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">MeshGlobalRateLimit</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">httpbin-rate-limit</span>
  <span class="na">namespace</span><span class="pi">:</span> <span class="s">kong-mesh-system</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">targetRef</span><span class="pi">:</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshService</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">httpbin</span>
  <span class="na">from</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span>
        <span class="na">kind</span><span class="pi">:</span> <span class="s">Mesh</span>
      <span class="na">default</span><span class="pi">:</span>
        <span class="na">http</span><span class="pi">:</span>
          <span class="na">requestRate</span><span class="pi">:</span>
              <span class="na">num</span><span class="pi">:</span> <span class="m">100</span>
              <span class="na">interval</span><span class="pi">:</span> <span class="s">1s</span>    
</code></pre></div></div>


    </div>
  
    
    <div data-panel="universal" data-navtab-content="navtab-946e7417-e6d1-43b7-8204-c27e91a7af09-1" class="navtab-content" role="tabpanel" id="navtab-id-1" tabindex="0" aria-labelledby="navtab-id-1">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">type</span><span class="pi">:</span> <span class="s">MeshGlobalRateLimit</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">httpbin-rate-limit</span>
<span class="na">mesh</span><span class="pi">:</span> <span class="s">default</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">targetRef</span><span class="pi">:</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshService</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">httpbin</span>
  <span class="na">from</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span>
        <span class="na">kind</span><span class="pi">:</span> <span class="s">Mesh</span>
      <span class="na">default</span><span class="pi">:</span>
        <span class="na">http</span><span class="pi">:</span>
          <span class="na">requestRate</span><span class="pi">:</span>
              <span class="na">num</span><span class="pi">:</span> <span class="m">100</span>
              <span class="na">interval</span><span class="pi">:</span> <span class="s">1s</span>
</code></pre></div></div>


    </div>
  
  </div>
</div>

<h2 id="ratelimit-service">Ratelimit service</h2>

<p>Kong Mesh is using the Envoy Rate Limit service reference implementation. You can read the <a href="https://github.com/envoyproxy/ratelimit" target="_blank" rel="noopener nofollow noreferrer ">source code and documentation</a> from the Envoy Proxy GitHub repository.</p>

<h3 id="deployment">Deployment</h3>

<p>On Universal, you must deploy Redis and the ratelimit service on your own. On Kubernetes, you can use Kong Mesh Helm charts 
to deploy ratelimit service, but you still need to deploy Redis on your own.</p>

<h3 id="how-to-read-limits-configuration">How to read limits configuration</h3>

<p>When you expose debug port on the ratelimit service, you can get access to the limits configuration at the <code class="language-plaintext highlighter-rouge">/rlconfig</code> path.
Here is an example configuration:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>default.kuma.io/service_demo-app_kuma-demo_svc_5000: unit=SECOND requests_per_unit=10, shadow_mode: false
</code></pre></div></div>

<p>This configuration follows this pattern:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mesh.descriptorKey_descriptorValue
</code></pre></div></div>
<p>The descriptor key will always be <code class="language-plaintext highlighter-rouge">kuma.io/service</code>, and the descriptor value will be your mesh service name. 
Therefore, we can deduct that this configuration will apply to <code class="language-plaintext highlighter-rouge">demo-app_kuma-demo_svc_5000</code> service in the <code class="language-plaintext highlighter-rouge">default</code>
mesh. For the second part of the configuration, we have information about the request limit and unit to which 
this limit will be applied. Shadow mode specifies if request should be limited after reaching the configured limit. If <code class="language-plaintext highlighter-rouge">shadow_mode</code> is set 
to <code class="language-plaintext highlighter-rouge">true</code>, the ratelimit service will not deny requests to your service, it will only update the ratelimit service metrics.</p>

<h3 id="performance-improvements">Performance improvements</h3>

<p>Ratelimit service offers two mechanisms for tweaking its performance. <a href="https://github.com/envoyproxy/ratelimit#local-cache" target="_blank" rel="noopener nofollow noreferrer ">Local cache for depleted counters</a> and <a href="https://github.com/envoyproxy/ratelimit#pipelining" target="_blank" rel="noopener nofollow noreferrer ">Redis query pipelining</a>. 
You should refer to <a href="https://github.com/envoyproxy/ratelimit#overview" target="_blank" rel="noopener nofollow noreferrer ">ratelimit service documentation</a> for more concrete documentation and setup.</p>

<h2 id="example-ratelimit-setup">Example Ratelimit setup</h2>

<h3 id="prerequisites">Prerequisites</h3>

<ul>
  <li>A Kubernetes cluster to run the demo on</li>
  <li>
<code class="language-plaintext highlighter-rouge">Helm</code> installed</li>
  <li>
<code class="language-plaintext highlighter-rouge">kumactl</code> installed locally</li>
</ul>

<h3 id="example">Example</h3>

<p>The following example shows how to deploy and test a sample <code class="language-plaintext highlighter-rouge">MeshGlobalRateLimit</code> policy on Kubernetes, using the kuma-demo application.</p>

<ol>
  <li>
    <p>First, we need to deploy Redis in our Kubernetes cluster:</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> helm repo add bitnami https://charts.bitnami.com/bitnami
 helm <span class="nb">install</span> <span class="nt">--create-namespace</span> <span class="nt">--namespace</span> kong-mesh-system redis bitnami/redis
</code></pre></div>    </div>
  </li>
  <li>
    <p>Redis should be now installed, and you should have secret with the Redis password. You can check if it is present:</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> kubectl <span class="nt">-n</span> kong-mesh-system get secret redis 
</code></pre></div>    </div>
  </li>
  <li>
    <p>Next, you need to create value files that will be used for control plane installation:</p>

    <div class="language-plaintext highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> echo "ratelimit:
   enabled: true
   exposeDebugPort: true
   redis:
     address: redis-master
     port: 6379
   secrets:
     redisAuth:
       Secret: redis
       Key: redis-password
       Env: REDIS_AUTH" &gt; values.yaml
</code></pre></div>    </div>
  </li>
  <li>
    <p>Now we can deploy our control plane:</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> kumactl <span class="nb">install </span>control-plane <span class="nt">--values</span> values.yaml | kubectl apply <span class="nt">-f</span> -
</code></pre></div>    </div>
  </li>
  <li>
    <p>We now have our control plane with ratelimit setup, so we can install the demo app:</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> kumactl <span class="nb">install </span>demo | k apply <span class="nt">-f</span> -
</code></pre></div>    </div>
  </li>
  <li>
    <p>After deploying the demo app, you can apply a sample policy:</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nb">echo</span> <span class="s2">"apiVersion: kuma.io/v1alpha1
 kind: MeshGlobalRateLimit
 metadata:
   name: demo-rate-limit
   namespace: kong-mesh-system
 spec:
   targetRef:
     kind: MeshService
     name: demo-app_kuma-demo_svc_5000
   from:
     - targetRef:
         kind: Mesh
       default:
         http:
           requestRate:
             num: 10
             interval: 1m
           onRateLimit:
             status: 423
         backend:
           rateLimitService:
             url: http://kong-mesh-ratelimit-service.kong-mesh-system:10003
             timeout: 1s"</span> | kubectl apply <span class="nt">-f</span> -
</code></pre></div>    </div>
  </li>
  <li>
    <p>We are all set up. Now you can try making few requests to the external IP of your gateway and you will see an error after reaching limits. You can find the IP with command:</p>

    <div class="language-bash highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> kubectl <span class="nt">-n</span> kuma-demo get service demo-app-gateway
</code></pre></div>    </div>

    <p>You can configure more with this demo, such as changing limits or trying out other examples from this documentation.</p>
    <h2 id="all-policy-options">All policy options</h2>
  </li>
</ol>

<div id="markdown_html"></div>

<script defer src="https://cdnjs.cloudflare.com/ajax/libs/showdown/1.9.0/showdown.min.js"></script>

<script defer src="https://brianwendt.github.io/json-schema-md-doc/lib/JSONSchemaMarkdown.js"></script>

<script type="text/javascript">
const data = {"description":"Spec is the specification of the Kuma MeshGlobalRateLimit resource.","properties":{"from":{"description":"From list makes a match between clients and corresponding configurations","items":{"properties":{"default":{"description":"Default is a configuration specific to the group of clients referenced in 'targetRef'","properties":{"backend":{"description":"Backend defines location of rate limit backend service.","properties":{"rateLimitService":{"properties":{"limitOnServiceFail":{"description":"LimitOnServiceFail will pass limit requests if ratelimit service is not reachable","type":"boolean"},"timeout":{"description":"Timeout for rate limit request made form Data Plane Proxy to rate limit service.","type":"string"},"url":{"description":"Url defines address of rate limit service.","type":"string"}},"required":["timeout","url"],"type":"object"}},"required":["rateLimitService"],"type":"object"},"http":{"properties":{"disabled":{"description":"Define if rate limiting should be disabled.","type":"boolean"},"onRateLimit":{"description":"Describes the actions to take on a rate limit event","properties":{"headers":{"description":"The Headers to be added to the HTTP response on a rate limit event","properties":{"add":{"items":{"properties":{"name":{"maxLength":256,"minLength":1,"pattern":"^[a-z0-9!#$%&'*+\\-.^_\\x60|~]+$","type":"string"},"value":{"type":"string"}},"required":["name","value"],"type":"object"},"maxItems":16,"type":"array","x-kubernetes-list-map-keys":["name"],"x-kubernetes-list-type":"map"},"set":{"items":{"properties":{"name":{"maxLength":256,"minLength":1,"pattern":"^[a-z0-9!#$%&'*+\\-.^_\\x60|~]+$","type":"string"},"value":{"type":"string"}},"required":["name","value"],"type":"object"},"maxItems":16,"type":"array","x-kubernetes-list-map-keys":["name"],"x-kubernetes-list-type":"map"}},"type":"object"},"status":{"description":"The HTTP status code to be set on a rate limit event","format":"int32","type":"integer"}},"type":"object"},"requestRate":{"description":"Defines how many requests are allowed per interval.","properties":{"interval":{"description":"The interval the number of units is accounted for. Only 1s, 1m, 1h or 24h can be configured.","type":"string"},"num":{"description":"Number of units per interval (depending on usage it can be a number of requests, or a number of connections).","format":"int32","type":"integer"}},"required":["interval","num"],"type":"object"}},"type":"object"},"mode":{"description":"Mode defines rate limit behavior when limits are reached. Possible options: Limit and Shadow. Setting Shadow will not block over the limit requests but will update metrics. This is useful for testing rate limit configuration.","enum":["Limit","Shadow"],"type":"string"}},"required":["backend","http"],"type":"object"},"targetRef":{"description":"TargetRef is a reference to the resource that represents a group of clients.","properties":{"kind":{"description":"Kind of the referenced resource","enum":["Mesh","MeshSubset","MeshService","MeshServiceSubset","MeshGatewayRoute"],"type":"string"},"mesh":{"description":"Mesh is reserved for future use to identify cross mesh resources.","type":"string"},"name":{"description":"Name of the referenced resource. Can only be used with kinds: `MeshService`, `MeshServiceSubset` and `MeshGatewayRoute`","type":"string"},"tags":{"additionalProperties":{"type":"string"},"description":"Tags used to select a subset of proxies by tags. Can only be used with kinds `MeshSubset` and `MeshServiceSubset`","type":"object"}},"type":"object"}},"required":["targetRef"],"type":"object"},"type":"array"},"targetRef":{"description":"TargetRef is a reference to the resource the policy takes an effect on. The resource could be either a real store object or virtual resource defined inplace.","properties":{"kind":{"description":"Kind of the referenced resource","enum":["Mesh","MeshSubset","MeshService","MeshServiceSubset","MeshGatewayRoute"],"type":"string"},"mesh":{"description":"Mesh is reserved for future use to identify cross mesh resources.","type":"string"},"name":{"description":"Name of the referenced resource. Can only be used with kinds: `MeshService`, `MeshServiceSubset` and `MeshGatewayRoute`","type":"string"},"tags":{"additionalProperties":{"type":"string"},"description":"Tags used to select a subset of proxies by tags. Can only be used with kinds `MeshSubset` and `MeshServiceSubset`","type":"object"}},"type":"object"}},"required":["targetRef"],"type":"object"};
document.addEventListener("DOMContentLoaded", function() {
  function removeNewlinesFromDescriptions(obj) {
    for (const key in obj) {
      if (typeof obj[key] === 'object') {
        // Recursively process nested objects
        removeNewlinesFromDescriptions(obj[key]);
      } else if (key === 'description' && typeof obj[key] === 'string') {
        // Replace newlines in description values
        obj[key] = obj[key].replace(/\n/g, '');
      }
    }
  }

  // create an instance of JSONSchemaMarkdown
  const Doccer = new JSONSchemaMarkdown();
  // don't include the path of the field in the output
  Doccer.writePath = function() {};
  // remove new lines in description
  removeNewlinesFromDescriptions(data)

  Doccer.load(data);
  Doccer.generate();

  const converter = new showdown.Converter();
  // use the converter to make html from the markdown
  document.getElementById("markdown_html").innerHTML = converter.makeHtml(Doccer.markdown);
});
</script>



          

        </div>
      </div>
    </div>
    
      <div id="scroll-to-top-button">
        <i class="fas fa-chevron-up"></i>
      </div>
      
        <div class="feedback-widget-container">
  <input id="feedback-widget-checkbox" type="checkbox">
  <label for="feedback-widget-checkbox">
    <img src="/assets/images/icons/feedback-widget.svg" alt="Feedback widget">
  </label>
  <div class="feedback-container">
    <div class="feedback-thankyou">
      Thank you for your feedback.
    </div>
    <div class="feedback-comment">
      <textarea id="feedback-comment-text" rows="3" placeholder="Please let us know what we can improve on this page..."></textarea>
      <div class="feedback-comment-buttons">
        <button id="feedback-comment-button-back">Back</button>
        <button id="feedback-comment-button-submit" class="button-primary">Submit</button>
      </div>
    </div>
    <div class="feedback-options">
      <div class="feedback-options-title">Was this page useful?</div>
      <div class="feedback-options-buttons">
        <i data-feedback-result="yes" class="feedback-options-button far fa-thumbs-up"></i>
        <i data-feedback-result="no" class="feedback-options-button far fa-thumbs-down"></i>
      </div>
    </div>
  </div>
</div>

      
    
  </div>

  <div id="image-modal" data-image-expand-disabled="">
  <div class="image-modal-backdrop"></div>
  <div class="image-container">
    <img src="" alt="">
    <i class="fa fa-times"></i>
  </div>
</div>




  <div class="modal closed" id="modal" role="dialog" aria-hidden="true" aria-labelledby="title" aria-describedby="description">
    <div class="konnect-cta-card">
      <div class="title">
      Too much on your plate?
      <a href="#" class="cta-card-close modal-close" id="modal-close">
          <img src="/assets/images/icons/documentation/close.svg" alt="close cta icon">
        </a>
      </div>
      <div class="description">More features, less infrastructure with Kong Konnect. 1M requests per month for free.</div>
      <a href="https://konghq.com/products/kong-konnect/register?utm_medium=referral&amp;utm_source=docs&amp;utm_campaign=gateway-konnect&amp;utm_campaign=right-nav-card&amp;utm_content=mesh" class="button" target="_blank" rel="noopener nofollow noreferrer ">
      Try it for Free
    </a>
    </div>
  </div>
  <div id="modal-open" class="modal-open"></div>
  <div class="modal-overlay closed" id="modal-overlay"></div>


    <footer class="marketing-footer--light-gray">
  <section>
    <ul class="newsletter">
      <li class="logo-wrapper">
        <div class="logo">
          <img src="/assets/images/logos/konglogo-light-theme-primary.svg" alt="Kong">
        </div>
        <div class="footer-title">Powering the API world</div>
        <p>
          Increase developer productivity, security, and performance at scale with the unified platform for API management, service mesh, and ingress controller.
        </p>
        <div class="footer-form-container">
          <form id="subscribe-form" method="POST" action="/assets/javascripts/subscribe.js">
            <input required id="subscribe-input" type="email" name="email" placeholder="Email" aria-required="true" aria-invalid="false">
            <input id="footer-form-button" type="submit" form="subscribe-form" value="Subscribe">
          </form>

          <div id="form-response"></div>
        </div>
      </li>

      <li class="footer-columns">
        <ul class="footer-columns-product-list">
          <li>
            <nav>
              <div class="footer-category">Products</div>
              <ul>
                <li>
                  <a href="https://konghq.com/products/kong-konnect" target="_blank" rel="noopener nofollow noreferrer ">Kong Konnect</a>
                </li>
                <li>
                  <a href="https://konghq.com/products/kong-enterprise" target="_blank" rel="noopener nofollow noreferrer ">Kong Gateway Enterprise</a>
                </li>
                <li>
                  <a href="https://konghq.com/products/kong-gateway" target="_blank" rel="noopener nofollow noreferrer ">Kong Gateway</a>
                </li>
                <li>
                  <a href="https://konghq.com/products/kong-mesh" target="_blank" rel="noopener nofollow noreferrer ">Kong Mesh</a>
                </li>
                <li>
                  <a href="https://konghq.com/products/kong-ingress-controller" target="_blank" rel="noopener nofollow noreferrer ">Kong Ingress Controller</a>
                </li>
                <li>
                  <a href="https://insomnia.rest/" target="_blank" rel="noopener nofollow noreferrer noopener nofollow noreferrer">Kong Insomnia</a>
                </li>
                <li>
                  <a href="https://konghq.com/product-updates" target="_blank" rel="noopener nofollow noreferrer ">Product Updates</a>
                </li>
                <li>
                  <a href="https://konghq.com/contact-sales" target="_blank" rel="noopener nofollow noreferrer ">Get Started</a>
                </li>
              </ul>
            </nav>
          </li>
          <li>
            <nav>
              <div class="footer-category">Documentation</div>
              <ul>
                <li>
                  <a href="/konnect/">Kong Konnect Docs</a>
                </li>
                <li>
                  <a href="/gateway/latest/">Kong Gateway Docs</a>
                </li>
                <li>
                  <a href="/gateway/latest/kong-enterprise/">Kong Gateway Enterprise Docs</a>
                </li>
                <li>
                  <a href="/mesh/latest/">Kong Mesh Docs</a>
                </li>
                <li>
                  <a href="https://docs.insomnia.rest/" target="_blank" rel="noopener nofollow noreferrer noopener nofollow noreferrer">Kong Insomnia Docs</a>
                </li>
                <li>
                  <a href="/hub/">Kong Konnect Plugin Hub</a>
                </li>
              </ul>
            </nav>
          </li>
          <li>
            <nav>
              <div class="footer-category">Open Source</div>
              <ul>
                <li>
                  <a href="https://konghq.com/install/#kong-community" target="_blank" rel="noopener nofollow noreferrer ">Kong Gateway</a>
                </li>
                <li>
                  <a href="https://kuma.io/" target="_blank" rel="noopener nofollow noreferrer noopener nofollow noreferrer">Kuma</a>
                </li>
                <li>
                  <a href="https://insomnia.rest/" target="_blank" rel="noopener nofollow noreferrer noopener nofollow noreferrer">Insomnia</a>
                </li>
                <li>
                  <a href="https://konghq.com/community" target="_blank" rel="noopener nofollow noreferrer ">Kong Community</a>
                </li>
              </ul>
            </nav>
          </li>
          <li>
            <nav>
              <div class="footer-category">Company</div>
              <ul>
                <li>
                  <a href="https://konghq.com/company/about-us" target="_blank" rel="noopener nofollow noreferrer ">About Kong</a>
                </li>
                <li>
                  <a href="https://konghq.com/customers" target="_blank" rel="noopener nofollow noreferrer ">Customers</a>
                </li>
                <li>
                  <a href="https://konghq.com/company/careers" target="_blank" rel="noopener nofollow noreferrer ">Careers</a>
                </li>
                <li>
                  <a href="https://konghq.com/press-room" target="_blank" rel="noopener nofollow noreferrer ">Press</a>
                </li>
                <li>
                  <a href="https://konghq.com/events" target="_blank" rel="noopener nofollow noreferrer ">Events</a>
                </li>
                <li>
                  <a href="https://konghq.com/company/contact-us" target="_blank" rel="noopener nofollow noreferrer ">Contact</a>
                </li>
              </ul>
            </nav>
          </li>
        </ul>
      </li>

    </ul>
  </section>

  <section class="legal">
    <div class="container d-flex">
      <div class="social">
        <div class="social-link">
          <a href="https://www.facebook.com/konghq/" title="Facebook" target="_blank" rel="noopener nofollow noreferrer "><i aria-label="Facebook" class="fa fa-facebook-official" aria-hidden="true"></i></a>
        </div>
        <div class="social-link">
          <a href="https://twitter.com/thekonginc" title="Twitter" target="_blank" rel="noopener nofollow noreferrer "><i aria-label="Twitter" class="fa fa-twitter" aria-hidden="true"></i></a>
        </div>
        <div class="social-link">
          <a href="https://www.meetup.com/topics/kong/all/" title="Meetup" target="_blank" rel="noopener nofollow noreferrer "><i aria-label="Meetup" class="fa fa-meetup" aria-hidden="true"></i></a>
        </div>
        <div class="social-link">
          <a href="https://linkedin.com/company/278819" title="LinkedIn" target="_blank" rel="noopener nofollow noreferrer "><i aria-label="GitHub" class="fa fa-linkedin" aria-hidden="true"></i></a>
        </div>
        <div class="social-link">
          <a href="https://github.com/kong/kong" target="_blank" class="btn-gh" title="GitHub" rel="noopener nofollow noreferrer ">
            <i class="fa fa-github" aria-hidden="true" aria-label="GitHub"></i>
          </a>
        </div>
      </div>
      <ul>
        <li>
          <span class="mashape-footer-content">
            <a href="https://konghq.com/legal/terms-of-use" target="_blank" rel="noopener nofollow noreferrer ">Terms</a><b>•</b>
            <a href="https://konghq.com/legal/privacy-policy" target="_blank" rel="noopener nofollow noreferrer ">Privacy</a><b>•</b>
            <a href="https://konghq.com/compliance" target="_blank" rel="noopener nofollow noreferrer ">Trust and Compliance</a>
          </span>
        </li>
      </ul>
      <div>
        <span>© Kong Inc. 2024  </span>
      </div>
    </div>
  </section>
</footer>
 <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<i class=\"fa fa-link\"></i>";
    anchor.title = `${id} Permalink`;
    return anchor;
  };

  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var className =
        ".show-anchor-links h1, .show-anchor-links h2, .show-anchor-links h3, " +
        ".show-anchor-links h4, .show-anchor-links h5, .show-anchor-links h6";
      var headers = document.querySelectorAll(className);

      for (var i = 0; i < headers.length; i++) {
        var header = headers[i];
        if (typeof header.id !== "undefined" && header.id !== "") {
          header.prepend(anchorForId(header.id));
        }
      }
    }
  };
</script>


    
      <script>
        (function stp(){
          if (typeof analytics == "undefined"){
            return setTimeout(stp, 30);
          }
          analytics.page();
        })();
      </script>
    

    <div id="fb-root"></div>
    <script id="github-bjs" src="https://buttons.github.io/buttons.js" async defer></script>

    <script type="text/javascript">
      var _vwo_code = (function() {
        var account_id = 125292,
          settings_tolerance = 2000,
          library_tolerance = 2500,
          use_existing_jquery = true,
          // DO NOT EDIT BELOW THIS LINE
          f = false,
          d = document;
        return {
          use_existing_jquery: function() {
            return use_existing_jquery;
          },
          library_tolerance: function() {
            return library_tolerance;
          },
          finish: function() {
            if (!f) {
              f = true;
              var a = d.getElementById('_vis_opt_path_hides');
              if (a) a.parentNode.removeChild(a);
            }
          },
          finished: function() {
            return f;
          },
          load: function(a) {
            var b = d.createElement('script');
            b.src = a;
            b.type = 'text/javascript';
            b.innerText;
            b.onerror = function() {
              _vwo_code.finish();
            };
            d.getElementsByTagName('head')[0].appendChild(b);
          },
          init: function() {
            settings_timer = setTimeout(
              '_vwo_code.finish()',
              settings_tolerance
            );
            this.load(
              '//dev.visualwebsiteoptimizer.com/j.php?a=' +
                account_id +
                '&u=' +
                encodeURIComponent(d.URL) +
                '&r=' +
                Math.random()
            );
            var a = d.createElement('style'),
              b = '',
              h = d.getElementsByTagName('head')[0];
            a.setAttribute('id', '_vis_opt_path_hides');
            a.setAttribute('type', 'text/css');
            if (a.styleSheet) a.styleSheet.cssText = b;
            else a.appendChild(d.createTextNode(b));
            h.appendChild(a);
            return settings_timer;
          }
        };
      })();
      _vwo_settings_timer = _vwo_code.init();
    </script>

    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>

    
      <script type="text/javascript">
        docsearch({
          appId: '05Y6TLHNFZ',
          apiKey: '80483bfe28d9fd036a11a6f6a06454f8',
          indexName: 'konghq',
          container: '#getkong-algolia-search-input',
          disableUserPersonalization: true,
          placeholder: 'Search the docs...',
          // Override selected event to allow for local environment navigation
          transformItems(items) {
            return items.map((item) => {
              var modifiedUrl = window.location.protocol + '//' + window.location.host + item.url.split('docs.konghq.com')[1];
              return { ...item, url: modifiedUrl };
            });
          },
          translations: {
            button: {
              buttonText: 'Search the docs..',
              buttonAriaLabel: 'Search the docs...'
            }
          },
          resultsFooterComponent({ state }) {
            var facetParameters = {};
            
              facetParameters = {"version[0]":"2.2.x","product[0]":"Kong Mesh"};
            

            var queryParams = new URLSearchParams(facetParameters);
            queryParams.set('query', state.query);

            return {
              // The HTML `tag`
              type: 'a',
              ref: undefined,
              constructor: undefined,
              key: state.query,
              // Its props
              props: {
                href: `/search/?${queryParams.toString()}`,
                target: '_blank',
                // Raw text rendered in the HTML element
                children: 'See more >'
              },
              __v: null,
            };
          },
          
           searchParameters: {
              optionalFilters: ['product:Kong Mesh<score=1>'],
              facetFilters: [ 'version:2.2.x']
            }
            
          });
      </script>
    
  </div>
</body>

  

</html>
