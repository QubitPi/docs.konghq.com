<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Article">

  

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
    <!-- OneTrust Cookies Consent Notice start for konghq.com -->
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" type="text/javascript" charset="UTF-8" data-domain-script="2c4de954-6bec-4e93-8086-64cb113f151a">
    </script>
    <script type="text/javascript">
    function OptanonWrapper() { }
    </script>
    <!-- OneTrust Cookies Consent Notice end for konghq.com -->

    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-NL48VKT');</script>
    <!-- End Google Tag Manager -->
  

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Role-Based Access Control - Kong Mesh - v2.2.x | Kong Docs</title>
  <meta name="description" content="Documentation for Kong, the Cloud Connectivity Company for APIs and Microservices.">
  <meta name="author" content="KongHQ">
  <meta property="og:title" content="Role-Based Access Control - Kong Mesh - v2.2.x | Kong Docs">
  <meta property="og:site_name" content="Kong Docs">
  <!-- use share link for facebook -->
  <meta property="og:url" content="https://docs.konghq.com">
  <meta property="og:description" content="Documentation for Kong, the Cloud Connectivity Company for APIs and Microservices.">
  <meta property="og:type" content="website">
  <meta property="og:locale" content="en_US">
  <meta property="og:image" content="https://docs.konghq.com/assets/images/share.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@thekonginc">
  <meta name="twitter:creator" content="@thekonginc">
  <meta name="twitter:url" content="https://docs.konghq.com">
  <meta name="twitter:description" content="Documentation for Kong, the Cloud Connectivity Company for APIs and Microservices.">
  <meta name="twitter:image" content="https://docs.konghq.com/assets/images/share.png">
  <meta property="fb:admins" content="227304446">
  <meta property="fb:admins" content="576641408">
  <meta name="google-site-verification" content="CrU3zp02dNKTe8NSAipL4NCPkrIjDXG8fViTZ-MIzP4">

  

  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "name": "KongHQ",
      "url": "https://docs.konghq.com",
      "logo": "https://docs.konghq.com/assets/images/logo.png",
      "sameAs": [
        "https://www.facebook.com/konginc",
        "https://twitter.com/thekonginc",
        "https://plus.google.com/+mashape"
      ]
    }
  </script>

  <!-- Preload assets -->
  <link rel="dns-prefetch" href="https://cloud.typography.com">
  <link rel="dns-prefetch" href="https://dev.visualwebsiteoptimizer.com">
  <link rel="dns-prefetch" href="https://cdn.segment.com">

  <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3">

  
    <link rel="canonical" href="https://docs.konghq.com/mesh/latest/features/rbac/">
  

  
    <meta name="robots" content="follow,noindex">
  

  <!-- FontAwesome icon font -->
  <script src="https://kit.fontawesome.com/1332a92967.js" crossorigin="anonymous">
  </script>

  
  <script src="/vite/assets/application-DqmI9sc2.js" crossorigin="anonymous" type="module"></script>
<link href="/vite/assets/_commonjsHelpers-Cpj98o6Y.js" rel="modulepreload" as="script" crossorigin="anonymous">


  

  

  <link rel="stylesheet" href="/vite/assets/application-CrIf7Il_.css" media="screen">

  
</head>


  <body id="" data-spy="scroll" data-target="#scroll-sidebar" data-offset="350">

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NL48VKT" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <header class="navbar-v2 closed">
  <a class="skip-main" href="#main">Skip to content</a>
  <!-- uncomment the promo-banner div when adding a new promo banner-->
  <!--also uncomment the promo banner sections in app/assets/stylesheets/header.less and application.js-->
  <!-- <div id="promo-banner">
    <div class="container">
      <div class="closebanner"></div> <strong>2024 API Summit Hackathon: Experiment with API Innovation & AI. Submit by Sept 11 &nbsp;&mdash;<a href="https://konghq.com/conferences/kong-summit/hackathon?utm_medium=website&utm_source=docs-konghq-com&utm_campaign=docs-banner">Enter Now &rarr;</a> </strong>
    </div>
  </div> -->
  <div class="navbar-content">
    <a href="https://konghq.com" class="navbar-brand col col-xl-auto" target="_blank" rel="noopener noreferrer">
      <img src="/assets/images/logos/konglogo-dark-theme.svg" alt="Kong Logo" id="kong-logo">
    </a>
    <span class="logo-divider">|</span>
    <a href="/" class="navbar-brand col col-xl-auto">
      <img src="/assets/images/logos/docslogo-dark-theme.svg" alt="Kong Docs Logo" id="kong-docs-logo">
    </a>

    <div class="separator mobile"></div>
      <div class="search-input-wrapper" id="getkong-algolia-search-input">
    </div>

    <div class="search-results-wrapper"></div>

    <div class="navbar-items" role="navigation" aria-label="Main menu">
      <ul class="navbar-items" role="menubar">
        <li id="top-module-list" aria-haspopup="true" role="menuitem" aria-expanded="false" class="navbar-item main-menu-item with-submenu  active">
          <span tabindex="0" id="docs-link" class="main-menu-item-title">Docs</span>
          <span class="caret"></span>
          <ul class="navbar-item-submenu" role="menu">
            <div class="submenu-section">
              <li role="menuitem" class="docs-dropdown-li">
                <a href="/api/" class="docs-dropdown-li__link" tabindex="-1">
                  <div class="docs-dropdown-li__card">
                    <span class="heading">Explore the API Specs</span>
                    <div class="docs-dropdown-li__card-link">
                      <img src="/assets/images/landing-page/view-all-api-specs.png" alt="View all API Specs">
                      <span class="docs-dropdown-li__card-image">
                        View all API Specs
                        <img src="/assets/images/landing-page/arrow-right.svg" alt="View all API Specs arrow image">
                      </span>
                    </div>
                  </div>
                </a>
              </li>

              <li role="menuitem" class="docs-dropdown-li" tabindex="-1">
                <div class="docs-dropdown-li__section">
                  <div class="docs-dropdown-li__section-title">
                    <span class="heading">Documentation</span>
                  </div>

                  <div class="docs-dropdown-li__section-items">
                    <a class="item item-all" href="/api/" tabindex="-1">
                      <div class="item__description">
                        <div class="item__description-title">API Specs</div>
                      </div>
                    </a>
                    
                      <a class="item" href="/gateway/latest/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong Gateway</div>
                          <div class="item__description-desc">Lightweight, fast, and flexible cloud-native API gateway</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/konnect/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong Konnect</div>
                          <div class="item__description-desc">Single platform for SaaS end-to-end connectivity</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/gateway/latest/ai-gateway/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong AI Gateway</div>
                          <div class="item__description-desc">Multi-LLM AI Gateway for GenAI infrastructure</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/mesh/latest/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong Mesh</div>
                          <div class="item__description-desc">Enterprise service mesh based on Kuma and Envoy</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/deck/latest/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">decK</div>
                          <div class="item__description-desc">Helps manage Kongâ€™s configuration in a declarative fashion</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/kubernetes-ingress-controller/latest/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong Ingress Controller</div>
                          <div class="item__description-desc">Works inside a Kubernetes cluster and configures Kong to proxy traffic</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/gateway-operator/latest/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong Gateway Operator</div>
                          <div class="item__description-desc">Manage your Kong deployments on Kubernetes using YAML Manifests</div>
                        </div>
                      </a>
                    
                      <a class="item" href="https://docs.insomnia.rest/" tabindex="-1" target="_blank" rel="noopener nofollow noreferrer ">
                        
                        <div class="item__description">
                          <div class="item__description-title">Insomnia</div>
                          <div class="item__description-desc">Collaborative API development platform</div>
                        </div>
                      </a>
                    
                  </div>
                </div>
              </li>

            </div>
          </ul>
        </li>

        <li role="menuitem" aria-haspopup="true" aria-expanded="false" class="navbar-item main-menu-item with-submenu navbar-item-hub">
          <span id="plugin-link" class="main-menu-item-title" tabindex="0">Plugin Hub</span>
          <span class="caret"></span>
          <ul class="navbar-item-submenu" role="menu">
            <div class="submenu-section">
              <li role="menuitem" class="docs-dropdown-li">
                <a href="/hub/" class="docs-dropdown-li__link" tabindex="-1">
                  <div class="docs-dropdown-li__card">
                    <span class="heading">Explore the Plugin Hub</span>
                    <div class="docs-dropdown-li__card-link">
                      <img src="/assets/images/landing-page/view-all-plugins.svg" alt="View all plugins">
                      <span class="docs-dropdown-li__card-image">
                        View all plugins
                        <img src="/assets/images/landing-page/arrow-right.svg" alt="View all plugins arrow image">
                      </span>
                    </div>
                  </div>
                </a>
              </li>

              <li role="menuitem" class="docs-dropdown-li">
                <div class="docs-dropdown-li__section">
                  <div class="docs-dropdown-li__section-title">
                    <span class="heading">Functionality</span>
                    <a href="/hub/" class="view-all" tabindex="-1">
                      View all
                      <img src="/assets/images/landing-page/arrow-right.svg" alt="View all arrow image">
                    </a>
                  </div>

                  <div class="docs-dropdown-li__section-items">
                    <a class="item item-all" href="/hub/" tabindex="-1">
                      <div class="item__description">
                        <div class="item__description-title">View all plugins</div>
                      </div>
                    </a>

                    
                      <a class="item" href="/hub/?category=ai" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/ai.svg" alt="AI's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">AI</div>
                          <div class="item__description-desc">Govern, secure, and control AI traffic with multi-LLM AI Gateway plugins</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=authentication" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/lock_person.svg" alt="Authentication's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Authentication</div>
                          <div class="item__description-desc">Protect your services with an authentication layer</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=security" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/shield.svg" alt="Security's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Security</div>
                          <div class="item__description-desc">Protect your services with additional security layer</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=traffic-control" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/route.svg" alt="Traffic Control's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Traffic Control</div>
                          <div class="item__description-desc">Manage, throttle and restrict inbound and outbound API traffic</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=serverless" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/serverless.svg" alt="Serverless's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Serverless</div>
                          <div class="item__description-desc">Invoke serverless functions in combination with other plugins</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=analytics-monitoring" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/bar_chart.svg" alt="Analytics &amp; Monitoring's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Analytics &amp; Monitoring</div>
                          <div class="item__description-desc">Visualize, inspect and monitor APIs and microservices traffic</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=transformations" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/swap_horiz.svg" alt="Transformations's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Transformations</div>
                          <div class="item__description-desc">Transform request and responses on the fly on Kong</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=logging" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/list_alt.svg" alt="Logging's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Logging</div>
                          <div class="item__description-desc">Log request and response data using the best transport for your infrastructure</div>
                        </div>
                      </a>
                    

                  </div>
                </div>
              </li>
            </div>
          </ul>
        </li>
        <li role="menuitem" class="main-menu-item">
          <a href="https://support.konghq.com/" class="navbar-item" target="_blank" rel="noopener nofollow noreferrer ">Support</a>
        </li>
        <li role="menuitem" class="main-menu-item">
          <a href="https://konghq.com/community/" class="navbar-item" target="_blank" rel="noopener noreferrer">Community</a>
        </li>
        <li role="menuitem" class="main-menu-item">
          <a href="https://education.konghq.com" class="navbar-item" target="_blank" rel="noopener nofollow noreferrer ">Kong Academy</a>
        </li>
      </ul>
      <a id="top-cta" href="https://konghq.com/contact-sales?utm_source=docs.konghq.com" class="navbar-button" target="_blank" rel="noopener nofollow noreferrer ">
        Get a Demo
      </a>
      <a id="konnect-cta" href="https://konghq.com/products/kong-konnect/register?utm_medium=referral&amp;utm_source=docs&amp;utm_campaign=gateway-konnect&amp;utm_content=top-nav" class="navbar-button" target="_blank" rel="noopener nofollow noreferrer ">
        Start Free Trial
      </a>
    </div>
    <div id="navbar-menu-toggle-button" class="small-screen-button" aria-label="Toggle navigation">
      <div></div>
      <div></div>
      <div></div>
    </div>
  </div>
</header>


    

<div class="page v2 " data-url="/mesh/2.2.x/features/rbac/">
  <div class="page--header-background page--header-background-doc"></div>
  <div class="container">

    <header class="page-header page-header-doc">
      <div class="page-header-product-version">
        <div class="edition">
          Kong Mesh
          
        </div>
        
        <div class="version">
          2.2.x
          
          
        </div>
        
      </div>
      <div class="page-header--nav">
        <i class="sidebar-toggle"></i>

        
          









  <ul class="breadcrumbs">
    <li class="breadcrumb-item">
      <a href="/">
        <img src="/assets/images/icons/hub-layout/icn-breadcrumbs.svg" alt="Home icon">
      </a>
    </li>
    <li class="breadcrumb-item">
      <a href="/mesh/2.2.x/">Kong Mesh</a>
    </li>

    
    
      

      

      
      

      
      

      
        <li class="breadcrumb-item">
          
          <a href="/mesh/2.2.x/features/">Features</a>
          
        </li>
      
    
      

      

      
      

      
      

      
    

    
    
    <li class="breadcrumb-item">
      <a href="/mesh/2.2.x/features/rbac/">Role-Based Access Control</a>
    </li>
  </ul>

        

        

        <div class="github-links">
  <div class="github-links--edit">
    
      <a href="https://github.com/Kong/docs.konghq.com/edit/main/app/_src/mesh/features/rbac.md" target="_blank" rel="noopener nofollow noreferrer ">
        <img src="/assets/images/icons/third-party/logo-github-white.svg" alt="github-edit-page">Edit this page
      </a>
    
  </div>
  <div class="github-links--issues">
    <a href="https://github.com/Kong/docs.konghq.com/issues" target="_blank" rel="noopener nofollow noreferrer ">
      <img src="/assets/images/icons/documentation/icn-monitoring-white.svg" alt="report-issue">Report an issue</a>
  </div>
</div>


      </div>
    </header>

    

<aside class="docs-sidebar">
  <i class="fa fa-times close-sidebar"></i>

  <div class="sidebar-title-container">
    <div class="docsets-dropdown dropdown">
      <button class="dropdown-button" id="module-dropdown" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" tabindex="0">
        <span>
          Kong Mesh
          
        </span>
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu dropdown-menu-right with-submenu" id="module-list" role="menu" aria-labelledby="module-dropdown" aria-hidden="true">

        <li role="menuitem" tabindex="-1">
          <a href="/gateway/latest/">Kong Gateway</a>
        </li>
        <li role="menuitem" tabindex="-1">
          <a href="/konnect/">Kong Konnect</a>
        </li>
        <li role="menuitem" tabindex="-1" class="active">
          <a href="/mesh/latest/" class="active">Kong Mesh</a>
        </li>
        <li role="menuitem" tabindex="-1">
          <a href="/hub/?category=ai">Kong AI Gateway</a>
        </li>
        <li role="menuitem" tabindex="-1">
          <a href="/hub/">Plugin Hub</a>
        </li>
        <li role="menuitem" tabindex="-1">
          <a href="/deck/latest/">decK</a>
        </li>
        <li role="menuitem" tabindex="-1">
          <a href="/kubernetes-ingress-controller/latest/">Kong Ingress Controller</a>
        </li>
        <li role="menuitem" tabindex="-1">
          <a href="/gateway-operator/latest/">Kong Gateway Operator</a>
        </li>
        <li>
          <a href="https://docs.insomnia.rest/" target="_blank" rel="noopener nofollow noreferrer ">Insomnia</a>
        </li>
        <li role="menuitem" tabindex="-1">
          <a href="https://kuma.io/docs/" target="_blank" rel="noopener nofollow noreferrer ">Kuma</a>
        </li>
        <hr>
        <li role="menuitem" tabindex="-1">
          <a href="/contributing/">Docs contribution guidelines</a>
        </li>
      </ul>
    </div>

    
    <div class="versions-dropdown dropdown">
      <button class="dropdown-button" id="version-dropdown" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" tabindex="0">
        <span>
          Version 2.2.x
          
          
        </span>
        <span class="caret"></span>
      </button>
      <ul class="dropdown-menu dropdown-menu-right" id="version-list" role="menu" aria-labelledby="version-dropdown" aria-hidden="true">
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/dev/features/rbac/" data-version-id="2.9.x">
              <em>dev</em>
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/2.8.x/features/rbac/" data-version-id="2.8.x">
              2.8.x <em>(latest)</em>
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/2.7.x/features/rbac/" data-version-id="2.7.x">
              2.7.x (LTS)
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/2.6.x/features/rbac/" data-version-id="2.6.x">
              2.6.x
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/2.5.x/features/rbac/" data-version-id="2.5.x">
              2.5.x
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/2.4.x/features/rbac/" data-version-id="2.4.x">
              2.4.x
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/2.3.x/features/rbac/" data-version-id="2.3.x">
              2.3.x
            </a>
          </li>
        
          <li class="active" role="menuitem" tabindex="-1">
            <a href="/mesh/2.2.x/features/rbac/" class="active" data-version-id="2.2.x">
              2.2.x
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/2.1.x/features/rbac/" data-version-id="2.1.x">
              2.1.x
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/2.0.x/features/rbac/" data-version-id="2.0.x">
              2.0.x
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/1.9.x/features/rbac/" data-version-id="1.9.x">
              1.9.x
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/1.8.x/features/rbac/" data-version-id="1.8.x">
              1.8.x
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/1.7.x/features/rbac/" data-version-id="1.7.x">
              1.7.x
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/1.6.x/features/rbac/" data-version-id="1.6.x">
              1.6.x
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/1.5.x/features/rbac/" data-version-id="1.5.x">
              1.5.x
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/1.4.x/" data-version-id="1.4.x">
              1.4.x
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/1.3.x/" data-version-id="1.3.x">
              1.3.x
            </a>
          </li>
        
          <li role="menuitem" tabindex="-1">
            <a href="/mesh/1.2.x/" data-version-id="1.2.x">
              1.2.x
            </a>
          </li>
        
        
      </ul>
    </div>
    
  </div>

  <ul class="sidebar-container" role="tree" aria-label="Documentation">
    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-1-introduction-subtree">
    
      
  <img src="/assets/images/icons/documentation/icn-flag.svg" alt="">


Introduction

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Introduction subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-1-introduction-subtree" role="group" aria-label="Introduction">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/introduction/about-service-meshes/">
        

About service meshes

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/">
        

Overview of Kong Mesh

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/introduction/how-kong-mesh-works/">
        

How Kong Mesh works

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/introduction/architecture/">
        

Architecture

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/availability-stages/">
        

Stages of software availability

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/support-policy/">
        

Version support policy

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/introduction/kuma-requirements/">
        

Mesh requirements

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/changelog/">
        

Release notes

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/gettingstarted/">
        
  <img src="/assets/images/icons/documentation/icn-quickstart-color.svg" alt="">


Getting Started

      </a>
    

    
  </span>

  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-3-kong-mesh-in-production-subtree">
    
      
  <img src="/assets/images/icons/documentation/icn-deployment-color.svg" alt="">


Kong Mesh in Production

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Kong Mesh in Production subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-3-kong-mesh-in-production-subtree" role="group" aria-label="Kong Mesh in Production">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/">
        

Overview

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-3-2-deployment-topologies-subtree">
    
      

Deployment topologies

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Deployment topologies subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-3-2-deployment-topologies-subtree" role="group" aria-label="Deployment topologies">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/deployment/">
        

Overview

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/deployment/stand-alone/">
        

Standalone deployment

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/deployment/multi-zone/">
        

Multi-zone deployment

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/install-kumactl/">
        

Install kumactl

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/use-mesh/">
        

Use Kong Mesh

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-3-5-control-plane-deployment-subtree">
    
      

Control plane deployment

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Control plane deployment subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-3-5-control-plane-deployment-subtree" role="group" aria-label="Control plane deployment">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/cp-deployment/license/">
        

Kong Mesh license

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/cp-deployment/stand-alone/">
        

Deploy a standalone control plane

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/cp-deployment/multi-zone/">
        

Deploy a multi-zone global control plane

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/cp-deployment/zone-ingress/">
        

Zone Ingress

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/cp-deployment/zoneegress/">
        

Zone Egress

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/cp-deployment/zoneproxy-auth/">
        

Configure zone proxy authentication

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/reference/kuma-cp/">
        

Control plane configuration reference

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/cp-deployment/systemd/">
        

Systemd

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/mesh/">
        

Create multiple service meshes in a cluster

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-3-7-data-plane-configuration-subtree">
    
      

Data plane configuration

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Data plane configuration subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-3-7-data-plane-configuration-subtree" role="group" aria-label="Data plane configuration">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/dp-config/dpp/">
        

Data plane proxy

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/dp-config/dpp-on-kubernetes/">
        

Configure the data plane on Kubernetes

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/dp-config/dpp-on-universal/">
        

Configure the data plane on Universal

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/dp-config/cni/">
        

Configure the Kong Mesh CNI

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/dp-config/transparent-proxying/">
        

Configure transparent proxying

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/dp-config/ipv6/">
        

IPv6 support

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-3-8-secure-your-deployment-subtree">
    
      

Secure your deployment

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Secure your deployment subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-3-8-secure-your-deployment-subtree" role="group" aria-label="Secure your deployment">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/secure-deployment/secrets/">
        

Manage secrets

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/secure-deployment/api-server-auth/">
        

Authentication with the API server

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/secure-deployment/dp-auth/">
        

Authentication with the data plane proxy

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/secure-deployment/dp-membership/">
        

Configure data plane proxy membership

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/secure-deployment/certificates/">
        

Secure access accross services

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/rbac/">
        

Kong Mesh RBAC

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/fips-support/">
        

FIPS support

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/gui/">
        

Kong Mesh user interface

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-3-10-upgrades-and-tuning-subtree">
    
      

Upgrades and tuning

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Upgrades and tuning subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-3-10-upgrades-and-tuning-subtree" role="group" aria-label="Upgrades and tuning">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/upgrades-tuning/upgrades/">
        

Upgrade Kong Mesh

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/production/upgrades-tuning/fine-tuning/">
        

Performance fine-tuning

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-4-deploy-subtree">
    
      
  <img src="/assets/images/icons/documentation/icn-manager-color.svg" alt="">


Deploy

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Deploy subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-4-deploy-subtree" role="group" aria-label="Deploy">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/quickstart/kubernetes/">
        

Explore Kong Mesh with the Kubernetes demo app

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/quickstart/universal/">
        

Explore Kong Mesh with the Universal demo app

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-5-explore-subtree">
    
      
  <img src="/assets/images/icons/documentation/icn-solution-guide.svg" alt="">


Explore

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Explore subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-5-explore-subtree" role="group" aria-label="Explore">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-5-1-gateway-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/gateway/">
        

Gateway

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Gateway subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-5-1-gateway-subtree" role="group" aria-label="Gateway">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/gateway/#delegated">
        

Delegated

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/gateway/#builtin">
        

Builtin

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-5-2-cli-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/cli/">
        

CLI

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle CLI subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-5-2-cli-subtree" role="group" aria-label="CLI">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/cli/#kumactl">
        

kumactl

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-5-3-observability-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/observability/">
        

Observability

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Observability subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-5-3-observability-subtree" role="group" aria-label="Observability">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/observability/#demo-setup">
        

Demo setup

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/observability/#control-plane-observability">
        

Control plane metrics

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/observability/#configuring-prometheus">
        

Configuring Prometheus

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/observability/#configuring-grafana">
        

Configuring Grafana

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/observability/#configuring-datadog">
        

Configuring Datadog

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/observability/#observability-in-multi-zone">
        

Observability in multi-zone

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-5-4-inspect-api-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/inspect-api/">
        

Inspect API

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Inspect API subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-5-4-inspect-api-subtree" role="group" aria-label="Inspect API">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/inspect-api/#matched-policies">
        

Matched policies

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/inspect-api/#affected-data-plane-proxies">
        

Affected data plane proxies

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/inspect-api/#envoy-proxy-configuration">
        

Envoy proxy configuration

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-5-5-kubernetes-gateway-api-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/gateway-api/">
        

Kubernetes Gateway API

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Kubernetes Gateway API subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-5-5-kubernetes-gateway-api-subtree" role="group" aria-label="Kubernetes Gateway API">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/gateway-api/#installation">
        

Installation

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/gateway-api/#usage">
        

Usage

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/gateway-api/#tls-termination">
        

TLS termination

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/gateway-api/#customization">
        

Customization

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/gateway-api/#multi-mesh">
        

Multi-mesh

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/gateway-api/#multi-zone">
        

Multi-zone

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/explore/gateway-api/#how-it-works">
        

How it works

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-6-networking-subtree">
    
      
  <img src="/assets/images/icons/documentation/icn-brain-color.svg" alt="">


Networking

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Networking subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-6-networking-subtree" role="group" aria-label="Networking">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/networking/service-discovery/">
        

Service Discovery

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-6-2-dns-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/networking/dns/">
        

DNS

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle DNS subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-6-2-dns-subtree" role="group" aria-label="DNS">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/networking/dns/#how-it-works">
        

How it works

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/networking/dns/#installation">
        

Installation

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/networking/dns/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/networking/dns/#usage">
        

Usage

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-6-3-non-mesh-traffic-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/networking/non-mesh-traffic/">
        

Non-mesh traffic

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Non-mesh traffic subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-6-3-non-mesh-traffic-subtree" role="group" aria-label="Non-mesh traffic">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/networking/non-mesh-traffic/#incoming">
        

Incoming

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/networking/non-mesh-traffic/#outgoing">
        

Outgoing

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/networking/transparent-proxying/">
        

Transparent Proxying

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-7-monitor-manage-subtree">
    
      
  <img src="/assets/images/icons/konnect/icn-analytics-nav.svg" alt="">


Monitor &amp; manage

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Monitor &amp; manage subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-7-monitor-manage-subtree" role="group" aria-label="Monitor &amp; manage">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-7-1-dataplane-health-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/documentation/health/">
        

Dataplane Health

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Dataplane Health subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-7-1-dataplane-health-subtree" role="group" aria-label="Dataplane Health">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/documentation/health/#circuit-breaker-policy">
        

Circuit Breaker Policy

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/documentation/health/#kubernetes-and-universal-service-probes">
        

Kubernetes and Universal Service Probes

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/documentation/health/#health-check-policy">
        

Health Check Policy

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-7-2-control-plane-configuration-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/documentation/configuration/">
        

Control Plane Configuration

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Control Plane Configuration subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-7-2-control-plane-configuration-subtree" role="group" aria-label="Control Plane Configuration">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/documentation/configuration/#modifying-the-configuration">
        

Modifying the configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/documentation/configuration/#inspecting-the-configuration">
        

Inspecting the configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/documentation/configuration/#store">
        

Store

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-policies-subtree">
    
      
  <img src="/assets/images/icons/documentation/icn-documentation-small.svg" alt="">


Policies

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Policies subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-policies-subtree" role="group" aria-label="Policies">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/introduction/">
        

Introduction

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/general-notes-about-kong-mesh-policies/">
        

General notes about Kong Mesh policies

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/applying-policies/">
        

Applying Policies

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/how-kong-mesh-chooses-the-right-policy-to-apply/">
        

How Kong Mesh chooses the right policy to apply

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/targetref/">
        

Understanding TargetRef policies

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/protocol-support-in-kong-mesh/">
        

Protocol support in Kong Mesh

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-7-mutual-tls-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/mutual-tls/">
        

Mutual TLS

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Mutual TLS subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-7-mutual-tls-subtree" role="group" aria-label="Mutual TLS">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/mutual-tls/#usage-of-builtin-ca">
        

Usage of "builtin" CA

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/mutual-tls/#usage-of-provided-ca">
        

Usage of "provided" CA

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/mutual-tls/#permissive-mtls">
        

Permissive mTLS

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/mutual-tls/#certificate-rotation">
        

Certificate Rotation

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-8-traffic-permissions-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-permissions/">
        

Traffic Permissions

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Traffic Permissions subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-8-traffic-permissions-subtree" role="group" aria-label="Traffic Permissions">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-permissions/#usage">
        

Usage

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-permissions/#access-to-external-services">
        

Access to External Services

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-9-traffic-route-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-route/">
        

Traffic Route

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Traffic Route subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-9-traffic-route-subtree" role="group" aria-label="Traffic Route">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-route/#usage">
        

Usage

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-10-traffic-metrics-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-metrics/">
        

Traffic Metrics

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Traffic Metrics subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-10-traffic-metrics-subtree" role="group" aria-label="Traffic Metrics">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-metrics/#expose-metrics-from-data-plane-proxies">
        

Expose metrics from data plane proxies

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-metrics/#expose-metrics-from-applications">
        

Expose metrics from applications

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-metrics/#override-prometheus-settings-per-data-plane-proxy">
        

Override Prometheus settings per data plane proxy

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-metrics/#filter-envoy-metrics">
        

Filter Envoy metrics

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-metrics/#secure-data-plane-proxy-metrics">
        

Secure data plane proxy metrics

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-11-traffic-trace-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-trace/">
        

Traffic Trace

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Traffic Trace subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-11-traffic-trace-subtree" role="group" aria-label="Traffic Trace">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-trace/#add-a-tracing-backend-to-the-mesh">
        

Add a tracing backend to the mesh

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-trace/#add-traffictrace-resource">
        

Add TrafficTrace resource

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-12-traffic-log-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-log/">
        

Traffic Log

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Traffic Log subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-12-traffic-log-subtree" role="group" aria-label="Traffic Log">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-log/#add-a-logging-backend">
        

Add a logging backend

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-log/#add-a-trafficlog-resource">
        

Add a TrafficLog resource

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-log/#logging-external-services">
        

Logging external services

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-log/#builtin-gateway-support">
        

Builtin Gateway support

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/traffic-log/#access-log-format">
        

Access Log Format

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-13-locality-aware-load-balancing-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/locality-aware/">
        

Locality-aware Load Balancing

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Locality-aware Load Balancing subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-13-locality-aware-load-balancing-subtree" role="group" aria-label="Locality-aware Load Balancing">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/locality-aware/#enabling-locality-aware-load-balancing">
        

Enabling locality-aware load balancing

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-14-fault-injection-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/fault-injection/">
        

Fault Injection

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Fault Injection subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-14-fault-injection-subtree" role="group" aria-label="Fault Injection">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/fault-injection/#usage">
        

Usage

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/fault-injection/#matching">
        

Matching

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-15-health-check-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/health-check/">
        

Health Check

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Health Check subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-15-health-check-subtree" role="group" aria-label="Health Check">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/health-check/#usage">
        

Usage

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/health-check/#matching">
        

Matching

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-16-circuit-breaker-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/circuit-breaker/">
        

Circuit Breaker

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Circuit Breaker subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-16-circuit-breaker-subtree" role="group" aria-label="Circuit Breaker">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/circuit-breaker/#usage">
        

Usage

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/circuit-breaker/#matching">
        

Matching

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/circuit-breaker/#builtin-gateway-support">
        

Builtin Gateway support

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/circuit-breaker/#non-mesh-traffic">
        

Non-mesh traffic

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-17-external-service-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/external-services/">
        

External Service

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle External Service subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-17-external-service-subtree" role="group" aria-label="External Service">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/external-services/#usage">
        

Usage

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/external-services/#builtin-gateway-support">
        

Builtin Gateway support

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-18-retry-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/retry/">
        

Retry

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Retry subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-18-retry-subtree" role="group" aria-label="Retry">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/retry/#usage">
        

Usage

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/retry/#matching">
        

Matching

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/retry/#builtin-gateway-support">
        

Builtin Gateway support

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-19-timeout-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/timeout/">
        

Timeout

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Timeout subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-19-timeout-subtree" role="group" aria-label="Timeout">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/timeout/#usage">
        

Usage

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/timeout/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/timeout/#default-general-purpose-timeout-policy">
        

Default general-purpose Timeout policy

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/timeout/#matching">
        

Matching

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/timeout/#builtin-gateway-support">
        

Builtin Gateway support

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/timeout/#inbound-timeouts">
        

Inbound timeouts

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/timeout/#non-mesh-traffic">
        

Non-mesh traffic

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-20-rate-limit-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/rate-limit/">
        

Rate Limit

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Rate Limit subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-20-rate-limit-subtree" role="group" aria-label="Rate Limit">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/rate-limit/#usage">
        

Usage

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/rate-limit/#matching-destinations">
        

Matching destinations

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/rate-limit/#builtin-gateway-support">
        

Builtin Gateway support

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-21-virtual-outbound-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/virtual-outbound/">
        

Virtual Outbound

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Virtual Outbound subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-21-virtual-outbound-subtree" role="group" aria-label="Virtual Outbound">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/virtual-outbound/#examples">
        

Examples

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-22-meshgateway-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshgateway/">
        

MeshGateway

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshGateway subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-22-meshgateway-subtree" role="group" aria-label="MeshGateway">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshgateway/#tls-termination">
        

TLS Termination

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-23-meshgatewayroute-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshgatewayroute/">
        

MeshGatewayRoute

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshGatewayRoute subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-23-meshgatewayroute-subtree" role="group" aria-label="MeshGatewayRoute">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshgatewayroute/#listener-tags">
        

Listener tags

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshgatewayroute/#matching">
        

Matching

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshgatewayroute/#filters">
        

Filters

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshgatewayroute/#reference">
        

Reference

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshgatewayinstance/">
        

MeshGatewayInstance

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-25-service-health-probes-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/service-health-probes/">
        

Service Health Probes

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Service Health Probes subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-25-service-health-probes-subtree" role="group" aria-label="Service Health Probes">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/service-health-probes/#kubernetes">
        

Kubernetes

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/service-health-probes/#universal-probes">
        

Universal probes

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-26-meshaccesslog-beta-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshaccesslog/">
        

MeshAccessLog (Beta)

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshAccessLog (Beta) subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-26-meshaccesslog-beta-subtree" role="group" aria-label="MeshAccessLog (Beta)">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshaccesslog/#targetref-support-matrix">
        

TargetRef support matrix

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshaccesslog/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshaccesslog/#examples">
        

Examples

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-27-meshcircuitbreaker-beta-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshcircuitbreaker/">
        

MeshCircuitBreaker (Beta)

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshCircuitBreaker (Beta) subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-27-meshcircuitbreaker-beta-subtree" role="group" aria-label="MeshCircuitBreaker (Beta)">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshcircuitbreaker/#targetref-support-matrix">
        

TargetRef support matrix

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshcircuitbreaker/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshcircuitbreaker/#examples">
        

Examples

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-28-meshfaultinjection-beta-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshfaultinjection/">
        

MeshFaultInjection (Beta)

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshFaultInjection (Beta) subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-28-meshfaultinjection-beta-subtree" role="group" aria-label="MeshFaultInjection (Beta)">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshfaultinjection/#targetref-support-matrix">
        

TargetRef support matrix

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshfaultinjection/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshfaultinjection/#examples">
        

Examples

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-29-meshhealthcheck-beta-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshhealthcheck/">
        

MeshHealthCheck (Beta)

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshHealthCheck (Beta) subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-29-meshhealthcheck-beta-subtree" role="group" aria-label="MeshHealthCheck (Beta)">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshhealthcheck/#targetref-support-matrix">
        

TargetRef support matrix

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshhealthcheck/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshhealthcheck/#examples">
        

Examples

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-30-meshhttproute-beta-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshhttproute/">
        

MeshHTTPRoute (Beta)

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshHTTPRoute (Beta) subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-30-meshhttproute-beta-subtree" role="group" aria-label="MeshHTTPRoute (Beta)">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshhttproute/#targetref-support-matrix">
        

TargetRef support matrix

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshhttproute/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshhttproute/#examples">
        

Examples

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshhttproute/#merging">
        

Merging

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-31-meshproxypatch-beta-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshproxypatch/">
        

MeshProxyPatch (Beta)

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshProxyPatch (Beta) subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-31-meshproxypatch-beta-subtree" role="group" aria-label="MeshProxyPatch (Beta)">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshproxypatch/#targetref-support-matrix">
        

TargetRef support matrix

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshproxypatch/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshproxypatch/#examples">
        

Examples

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshproxypatch/#merging">
        

Merging

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-32-meshratelimit-beta-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshratelimit/">
        

MeshRateLimit (Beta)

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshRateLimit (Beta) subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-32-meshratelimit-beta-subtree" role="group" aria-label="MeshRateLimit (Beta)">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshratelimit/#targetref-support-matrix">
        

TargetRef support matrix

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshratelimit/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshratelimit/#examples">
        

Examples

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-33-meshretry-beta-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshretry/">
        

MeshRetry (Beta)

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshRetry (Beta) subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-33-meshretry-beta-subtree" role="group" aria-label="MeshRetry (Beta)">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshretry/#targetref-support-matrix">
        

TargetRef support matrix

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshretry/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshretry/#examples">
        

Examples

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-34-meshtimeout-beta-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshtimeout/">
        

MeshTimeout (Beta)

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshTimeout (Beta) subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-34-meshtimeout-beta-subtree" role="group" aria-label="MeshTimeout (Beta)">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshtimeout/#targetref-support-matrix">
        

TargetRef support matrix

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshtimeout/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshtimeout/#examples">
        

Examples

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-35-meshtrace-beta-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshtrace/">
        

MeshTrace (Beta)

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshTrace (Beta) subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-35-meshtrace-beta-subtree" role="group" aria-label="MeshTrace (Beta)">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshtrace/#targetref-support-matrix">
        

TargetRef support matrix

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshtrace/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshtrace/#examples">
        

Examples

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-36-meshtrafficpermission-beta-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshtrafficpermission/">
        

MeshTrafficPermission (Beta)

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshTrafficPermission (Beta) subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-36-meshtrafficpermission-beta-subtree" role="group" aria-label="MeshTrafficPermission (Beta)">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshtrafficpermission/#targetref-support-matrix">
        

TargetRef support matrix

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshtrafficpermission/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshtrafficpermission/#examples">
        

Examples

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-8-37-meshloadbalancingstrategy-beta-subtree">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshloadbalancingstrategy/">
        

MeshLoadBalancingStrategy (Beta)

      </a>
    

    
      <button class="sidebar-tree-toggle" aria-label="toggle MeshLoadBalancingStrategy (Beta) subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-8-37-meshloadbalancingstrategy-beta-subtree" role="group" aria-label="MeshLoadBalancingStrategy (Beta)">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshloadbalancingstrategy/#targetref-support-matrix">
        

TargetRef support matrix

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshloadbalancingstrategy/#configuration">
        

Configuration

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/policies/meshloadbalancingstrategy/#examples">
        

Examples

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/opa/">
        

OPA policy

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/meshopa/">
        

MeshOPA (beta)

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/meshglobalratelimit/">
        

MeshGlobalRateLimit (beta)

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-9-enterprise-features-subtree">
    
      
  <img src="/assets/images/icons/documentation/icn-enterprise-blue.svg" alt="">


Enterprise Features

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Enterprise Features subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-9-enterprise-features-subtree" role="group" aria-label="Enterprise Features">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/">
        

Overview

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/vault/">
        

HashiCorp Vault CA

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/acmpca/">
        

Amazon ACM Private CA

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/cert-manager/">
        

cert-manager Private CA

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/opa/">
        

OPA policy support

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/meshopa/">
        

MeshOPA (beta)

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/kds-auth/">
        

Multi-zone authentication

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/fips-support/">
        

FIPS support

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/ca-rotation/">
        

Certificate Authority rotation

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/rbac/">
        

Role-Based Access Control

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/ubi-images/">
        

UBI Images

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/windows/">
        

Windows Support

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/installation/ecs/">
        

ECS Support

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/access-audit/">
        

Auditing

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/features/meshglobalratelimit/">
        

MeshGlobalRateLimit (beta)

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-10-reference-subtree">
    
      
  <img src="/assets/images/icons/documentation/icn-references-color.svg" alt="">


Reference

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Reference subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-10-reference-subtree" role="group" aria-label="Reference">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/reference/http-api/">
        

HTTP API

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/reference/kubernetes-annotations/">
        

Kubernetes annotations and labels

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/reference/data-collection/">
        

Kuma data collection

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/reference/kuma-cp/">
        

Control plane configuration reference

      </a>
    

    
  </span>

  
</li>

      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/mesh/2.2.x/reference/proxy-template/">
        

Envoy proxy template

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-11-community-subtree">
    
      
  <img src="/assets/images/icons/documentation/icn-references-color.svg" alt="">


Community

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Community subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-11-community-subtree" role="group" aria-label="Community">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="https://kuma.io/community/" target="_blank" rel="noopener nofollow noreferrer ">
        

Contribute to Kuma

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

    
  </ul>
</aside>




      <aside class="docs-toc">
        <i class="fa fa-times close-sidebar"></i>
        <i class="fa fa-chevron-right collapse-toc"></i>
        <i class="far fa-list-alt expand-toc"></i>

        <div id="oss-ee-toggle" data-current="Enterprise" style="display: none">
          <span class="oss-ee-toggle-inner">
            <img src="/assets/images/icons/icn-enterprise-black.svg" alt="enterprise-switcher-icon">
            <span>Switch to <span id="switch-to-version">OSS</span></span>
          </span>
        </div>

        
        <div class="docs-toc-title">
<img src="/assets/images/icons/hub-layout/icn-on-this-page.svg" alt="On this page"><a href="#">On this page</a>
</div>
<ul>
  <li>
<a href="#how-it-works" class="active scroll-to">How it works</a>
    <ul>
      <li><a href="#accessrole" class="scroll-to">AccessRole</a></li>
      <li><a href="#accessrolebinding" class="scroll-to">AccessRoleBinding</a></li>
    </ul>
  </li>
  <li>
<a href="#example-roles" class="scroll-to">Example roles</a>
    <ul>
      <li><a href="#kong-mesh-operator-admin" class="scroll-to">Kong Mesh operator (admin)</a></li>
      <li><a href="#service-owner" class="scroll-to">Service owner</a></li>
      <li><a href="#observability-operator" class="scroll-to">Observability operator</a></li>
      <li><a href="#single-mesh-operator" class="scroll-to">Single Mesh operator</a></li>
    </ul>
  </li>
  <li><a href="#kubernetes" class="scroll-to">Kubernetes</a></li>
  <li><a href="#default" class="scroll-to">Default</a></li>
  <li><a href="#example" class="scroll-to">Example</a></li>
  <li><a href="#multi-zone" class="scroll-to">Multi-zone</a></li>
  <li><a href="#wildcard-tag-value-matching" class="scroll-to">Wildcard tag value matching</a></li>
  <li><a href="#what-should-i-do-if-ive-locked-myself-out" class="scroll-to">What should I do if Iâ€™ve locked myself out?</a></li>
</ul>

        
      </aside>

    <div class="page-content-container page-content-container-doc v2 " id="documentation">
      <div class="toggles ">
          <i class="far fa-list-alt toc-sidebar-toggle"></i>
      </div>

      <div class="page-content">
        <div class="content show-anchor-links">
          
            
              <blockquote id="version-notice" class="important">
                You are browsing documentation for an older version.
            
                See the <a href="/mesh/latest/features/rbac/">latest documentation here</a>.
              </blockquote>
          

          <h1 tabindex="-1" id="main" class="page-content-title">Role-Based Access Control
            

            
          </h1>

          

          
          

          <p>Role-Based Access Control (RBAC) lets you restrict access to resources and actions to specified users or groups, based on user roles.</p>

<h2 id="how-it-works">How it works</h2>

<p>Kong Mesh provides two resources to implement RBAC:</p>

<ul>
  <li>
<code class="language-plaintext highlighter-rouge">AccessRole</code> specifies kinds of access and resources to which access is granted. Note that access is defined only for write operations. Read access is available to all users.</li>
  <li>
<code class="language-plaintext highlighter-rouge">AccessRoleBinding</code> lists users and the access roles that are assigned to them.</li>
</ul>

<h3 id="accessrole">AccessRole</h3>

<p><code class="language-plaintext highlighter-rouge">AccessRole</code> defines a role that is assigned separately to users.
It is global-scoped, which means it is not bound to a mesh.</p>

<div class="navtabs  ">
  <div class="navtab-titles" role="tablist">
  
    
    <div data-slug="targetref-selectors" data-navtab-id="navtab-03e6698a-08cc-454b-82dc-e6e466c2a423-0" class="navtab-title" role="tab" aria-controls="navtab-id-0" tabindex="0">
      "targetRef" selectors
    </div>
  
    
    <div data-slug="source-and-destination-selectors" data-navtab-id="navtab-03e6698a-08cc-454b-82dc-e6e466c2a423-1" class="navtab-title" role="tab" aria-controls="navtab-id-1" tabindex="0">
      Source and Destination selectors
    </div>
  
  </div>
  <div class="navtab-contents">
  
    
    <div data-panel="targetref-selectors" data-navtab-content="navtab-03e6698a-08cc-454b-82dc-e6e466c2a423-0" class="navtab-content" role="tabpanel" id="navtab-id-0" tabindex="0" aria-labelledby="navtab-id-0">
      
<p>For policies using the <code class="language-plaintext highlighter-rouge">targetRef</code> selector. You can specify which <code class="language-plaintext highlighter-rouge">targetRef</code> kinds users should have access to.</p>

<div class="navtabs  ">
  <div class="navtab-titles" role="tablist">
  
    
    <div data-slug="kubernetes" data-navtab-id="navtab-e5616366-0267-4ac3-a1ae-6ffb893c0035-0" class="navtab-title" role="tab" aria-controls="navtab-id-0" tabindex="0">
      Kubernetes
    </div>
  
    
    <div data-slug="universal" data-navtab-id="navtab-e5616366-0267-4ac3-a1ae-6ffb893c0035-1" class="navtab-title" role="tab" aria-controls="navtab-id-1" tabindex="0">
      Universal
    </div>
  
  </div>
  <div class="navtab-contents">
  
    
    <div data-panel="kubernetes" data-navtab-content="navtab-e5616366-0267-4ac3-a1ae-6ffb893c0035-0" class="navtab-content" role="tabpanel" id="navtab-id-0" tabindex="0" aria-labelledby="navtab-id-0">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">kuma.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">AccessRole</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">role-1</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">rules</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">types</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">MeshTrafficPermission"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">MeshTrace"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">MeshAccessLog"</span><span class="pi">]</span> <span class="c1"># List of Kuma resource kinds that are granted access. If it's empty, access is granted to all kinds.</span>
    <span class="na">names</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">res-1"</span><span class="pi">]</span> <span class="c1"># List of allowed type names that are granted access. If it's empty, access is granted to resources regardless of the name.</span>
    <span class="na">mesh</span><span class="pi">:</span> <span class="s">default</span> <span class="c1"># Grants access to the resources in the named mesh. It can only be used with the mesh-scoped resources.</span>
    <span class="na">access</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">CREATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">UPDATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">DELETE"</span><span class="pi">]</span> <span class="c1"># The action bound to a type.</span>
    <span class="na">when</span><span class="pi">:</span> <span class="c1"># A set of qualifiers to receive access. Only one of them needs to be fulfilled to receive access.</span>
    <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span> <span class="c1"># A condition on the targetRef section in policies 2.0 (like MeshAccessLog or MeshTrace).</span>
        <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshService</span>
        <span class="na">name</span><span class="pi">:</span> <span class="s">backend</span>
    <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span>
        <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshSubset</span>
        <span class="na">tags</span><span class="pi">:</span>
          <span class="na">k8s.kuma.io/namespace</span><span class="pi">:</span> <span class="s">kuma-demo</span>
    <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span>
        <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshService</span>
        <span class="na">name</span><span class="pi">:</span> <span class="s">web</span>
      <span class="na">to</span><span class="pi">:</span> <span class="c1"># can only be used with policies that have a "to" list (like MeshAccessLog)</span>
        <span class="na">targetRef</span><span class="pi">:</span>
          <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshService</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">backend</span>
    <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span>
        <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshService</span>
        <span class="na">name</span><span class="pi">:</span> <span class="s">web</span>
      <span class="na">from</span><span class="pi">:</span> <span class="c1"># can only be used with policies that have a "from" list (like MeshTrafficPermission)</span>
        <span class="na">targetRef</span><span class="pi">:</span>
          <span class="na">kind</span><span class="pi">:</span> <span class="s">Mesh</span>
</code></pre></div></div>


    </div>
  
    
    <div data-panel="universal" data-navtab-content="navtab-e5616366-0267-4ac3-a1ae-6ffb893c0035-1" class="navtab-content" role="tabpanel" id="navtab-id-1" tabindex="0" aria-labelledby="navtab-id-1">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">type</span><span class="pi">:</span> <span class="s">AccessRole</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">role-1</span>
<span class="na">rules</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">types</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">MeshTrafficPermission"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">MeshTrace"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">MeshAccessLog"</span><span class="pi">]</span> <span class="c1"># List of Kuma resource types that are granted access. If it's empty, access is granted to all types.</span>
  <span class="na">names</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">res-1"</span><span class="pi">]</span> <span class="c1"># List of allowed type names that are granted access. If it's empty, access is granted to resources regardless of the name.</span>
  <span class="na">mesh</span><span class="pi">:</span> <span class="s">default</span> <span class="c1"># Grants access to the resources in the named mesh. It can only be used with the mesh-scoped resources.</span>
  <span class="na">access</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">CREATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">UPDATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">DELETE"</span><span class="pi">]</span> <span class="c1"># The action bound to a type.</span>
  <span class="na">when</span><span class="pi">:</span> <span class="c1"># A set of qualifiers to receive access. Only one of them needs to be fulfilled to receive access.</span>
  <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span> <span class="c1"># A condition on the targetRef section in policies 2.0 (like MeshAccessLog or MeshTrace).</span>
      <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshService</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">backend</span>
  <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span>
      <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshSubset</span>
      <span class="na">tags</span><span class="pi">:</span>
        <span class="na">k8s.kuma.io/namespace</span><span class="pi">:</span> <span class="s">kuma-demo</span>
  <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span>
      <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshService</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">web</span>
    <span class="na">to</span><span class="pi">:</span> <span class="c1"># can only be used with policies that have a "to" list (like MeshAccessLog)</span>
      <span class="na">targetRef</span><span class="pi">:</span>
        <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshService</span>
        <span class="na">name</span><span class="pi">:</span> <span class="s">backend</span>
  <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span>
      <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshService</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">web</span>
    <span class="na">from</span><span class="pi">:</span> <span class="c1"># can only be used with policies that have a "from" list (like MeshTrafficPermission)</span>
      <span class="na">targetRef</span><span class="pi">:</span>
        <span class="na">kind</span><span class="pi">:</span> <span class="s">Mesh</span>
</code></pre></div></div>


    </div>
  
  </div>
</div>

<p>The lack of <code class="language-plaintext highlighter-rouge">targetRef</code>, <code class="language-plaintext highlighter-rouge">from</code>, or <code class="language-plaintext highlighter-rouge">to</code> means that a user can specify anything in this section.
For example, the <code class="language-plaintext highlighter-rouge">when</code> element with a specific <code class="language-plaintext highlighter-rouge">from</code> section allows the user to pick anything for <code class="language-plaintext highlighter-rouge">targetRef</code> in the policy.</p>

<p>If the policy contains multiple <code class="language-plaintext highlighter-rouge">to</code> elements, you must specify an RBAC qualifier for every single <code class="language-plaintext highlighter-rouge">to</code> element.</p>


    </div>
  
    
    <div data-panel="source-and-destination-selectors" data-navtab-content="navtab-03e6698a-08cc-454b-82dc-e6e466c2a423-1" class="navtab-content" role="tabpanel" id="navtab-id-1" tabindex="0" aria-labelledby="navtab-id-1">
      
<div class="navtabs  ">
  <div class="navtab-titles" role="tablist">
  
    
    <div data-slug="kubernetes" data-navtab-id="navtab-047f0dc7-f0db-4069-8f2f-13e61e36ed12-0" class="navtab-title" role="tab" aria-controls="navtab-id-0" tabindex="0">
      Kubernetes
    </div>
  
    
    <div data-slug="universal" data-navtab-id="navtab-047f0dc7-f0db-4069-8f2f-13e61e36ed12-1" class="navtab-title" role="tab" aria-controls="navtab-id-1" tabindex="0">
      Universal
    </div>
  
  </div>
  <div class="navtab-contents">
  
    
    <div data-panel="kubernetes" data-navtab-content="navtab-047f0dc7-f0db-4069-8f2f-13e61e36ed12-0" class="navtab-content" role="tabpanel" id="navtab-id-0" tabindex="0" aria-labelledby="navtab-id-0">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">kuma.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">AccessRole</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">role-1</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">rules</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">types</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">TrafficPermission"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">TrafficRoute"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">Mesh"</span><span class="pi">]</span> <span class="c1"># list of Kuma resource kinds to which access is granted. If empty, then access is granted to all kinds</span>
    <span class="na">names</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">res-1"</span><span class="pi">]</span> <span class="c1"># list of allowed names of types to which access is granted. If empty, then access is granted to resources regardless of the name.</span>
    <span class="na">mesh</span><span class="pi">:</span> <span class="s">default</span> <span class="c1"># Mesh within which the access to resources is granted. It can only be used with the Mesh-scoped resources.</span>
    <span class="na">access</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">CREATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">UPDATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">DELETE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">GENERATE_DATAPLANE_TOKEN"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">GENERATE_USER_TOKEN"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">GENERATE_ZONE_CP_TOKEN"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">GENERATE_ZONE_TOKEN"</span><span class="pi">]</span> <span class="c1"># an action that is bound to a type.</span>
    <span class="na">when</span><span class="pi">:</span> <span class="c1"># a set of qualifiers to receive access. Only one of them needs to be fulfilled to receive an access</span>
    <span class="pi">-</span> <span class="na">sources</span><span class="pi">:</span> <span class="c1"># a condition on sources section in connection policies (like TrafficRoute or HealthCheck). If missing, then all sources are allowed</span>
        <span class="na">match</span><span class="pi">:</span>
          <span class="na">kuma.io/service</span><span class="pi">:</span> <span class="s">web</span>
      <span class="na">destinations</span><span class="pi">:</span> <span class="c1"># a condition on destinations section in connection policies (like TrafficRoute or HealthCheck). If missing, then all destinations are allowed</span>
        <span class="na">match</span><span class="pi">:</span>
          <span class="na">kuma.io/service</span><span class="pi">:</span> <span class="s">backend</span>
    <span class="pi">-</span> <span class="na">selectors</span><span class="pi">:</span> <span class="c1"># a condition on selectors section in dataplane policies (like TrafficTrace or ProxyTemplate).</span>
        <span class="na">match</span><span class="pi">:</span>
          <span class="na">kuma.io/service</span><span class="pi">:</span> <span class="s">web</span>
    <span class="pi">-</span> <span class="na">dpToken</span><span class="pi">:</span> <span class="c1"># a condition on generate dataplane token.</span>
        <span class="na">tags</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">kuma.io/service</span>
          <span class="na">value</span><span class="pi">:</span> <span class="s">web</span>
</code></pre></div></div>

    </div>
  
    
    <div data-panel="universal" data-navtab-content="navtab-047f0dc7-f0db-4069-8f2f-13e61e36ed12-1" class="navtab-content" role="tabpanel" id="navtab-id-1" tabindex="0" aria-labelledby="navtab-id-1">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">type</span><span class="pi">:</span> <span class="s">AccessRole</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">role-1</span>
<span class="na">rules</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">types</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">TrafficPermission"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">TrafficRoute"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">Mesh"</span><span class="pi">]</span> <span class="c1"># list of Kuma resource types to which access is granted. If empty, then access is granted to all types</span>
  <span class="na">names</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">res-1"</span><span class="pi">]</span> <span class="c1"># list of allowed names of types to which access is granted. If empty, then access is granted to resources regardless of the name.</span>
  <span class="na">mesh</span><span class="pi">:</span> <span class="s">default</span> <span class="c1"># Mesh within which the access to resources is granted. It can only be used with the Mesh-scoped resources.</span>
  <span class="na">access</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">CREATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">UPDATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">DELETE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">GENERATE_DATAPLANE_TOKEN"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">GENERATE_USER_TOKEN"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">GENERATE_ZONE_CP_TOKEN"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">GENERATE_ZONE_TOKEN"</span><span class="pi">]</span> <span class="c1"># an action that is bound to a type.</span>
  <span class="na">when</span><span class="pi">:</span> <span class="c1"># a set of qualifiers to receive access. Only one of them needs to be fulfilled to receive an access</span>
  <span class="pi">-</span> <span class="na">sources</span><span class="pi">:</span> <span class="c1"># a condition on sources section in connection policies (like TrafficRoute or HealthCheck). If missing, then all sources are allowed</span>
      <span class="na">match</span><span class="pi">:</span>
        <span class="na">kuma.io/service</span><span class="pi">:</span> <span class="s">web</span>
    <span class="na">destinations</span><span class="pi">:</span> <span class="c1"># a condition on destinations section in connection policies (like TrafficRoute or HealthCheck). If missing, then all destinations are allowed</span>
      <span class="na">match</span><span class="pi">:</span>
        <span class="na">kuma.io/service</span><span class="pi">:</span> <span class="s">backend</span>
  <span class="pi">-</span> <span class="na">selectors</span><span class="pi">:</span> <span class="c1"># a condition on selectors section in dataplane policies (like TrafficTrace or ProxyTemplate).</span>
      <span class="na">match</span><span class="pi">:</span>
        <span class="na">kuma.io/service</span><span class="pi">:</span> <span class="s">web</span>
  <span class="pi">-</span> <span class="na">dpToken</span><span class="pi">:</span> <span class="c1"># a condition on generate dataplane token.</span>
      <span class="na">tags</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">kuma.io/service</span>
        <span class="na">value</span><span class="pi">:</span> <span class="s">web</span>
</code></pre></div></div>

    </div>
  
  </div>
</div>


    </div>
  
  </div>
</div>

<h3 id="accessrolebinding">AccessRoleBinding</h3>

<p><code class="language-plaintext highlighter-rouge">AccessRoleBinding</code> assigns a set of <code class="language-plaintext highlighter-rouge">AccessRoles</code> to a set of subjects (users and groups).
It is global-scoped, which means it is not bound to a mesh.</p>

<div class="navtabs  ">
  <div class="navtab-titles" role="tablist">
  
    
    <div data-slug="kubernetes" data-navtab-id="navtab-ed7c54c4-ac41-4aa7-8186-4683e7e12058-0" class="navtab-title" role="tab" aria-controls="navtab-id-0" tabindex="0">
      Kubernetes
    </div>
  
    
    <div data-slug="universal" data-navtab-id="navtab-ed7c54c4-ac41-4aa7-8186-4683e7e12058-1" class="navtab-title" role="tab" aria-controls="navtab-id-1" tabindex="0">
      Universal
    </div>
  
  </div>
  <div class="navtab-contents">
  
    
    <div data-panel="kubernetes" data-navtab-content="navtab-ed7c54c4-ac41-4aa7-8186-4683e7e12058-0" class="navtab-content" role="tabpanel" id="navtab-id-0" tabindex="0" aria-labelledby="navtab-id-0">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">kuma.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">AccessRoleBinding</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">binding-1</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">subjects</span><span class="pi">:</span> <span class="c1"># a list of subjects that will be assigned roles</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">User</span> <span class="c1"># type of the subject. Available values: ("User", "Group")</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">john.doe@example.com</span> <span class="c1"># name of the subject.</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">Group</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">team-a</span>
  <span class="na">roles</span><span class="pi">:</span> <span class="c1"># a list of roles that will be assigned to the list of subjects.</span>
  <span class="pi">-</span> <span class="s">role-1</span>
</code></pre></div></div>

    </div>
  
    
    <div data-panel="universal" data-navtab-content="navtab-ed7c54c4-ac41-4aa7-8186-4683e7e12058-1" class="navtab-content" role="tabpanel" id="navtab-id-1" tabindex="0" aria-labelledby="navtab-id-1">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">type</span><span class="pi">:</span> <span class="s">AccessRoleBinding</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">binding-1</span>
<span class="na">subjects</span><span class="pi">:</span> <span class="c1"># a list of subjects that will be assigned roles</span>
<span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">User</span> <span class="c1"># type of the subject. Available values: ("User", "Group")</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">john.doe@example.com</span> <span class="c1"># name of the subject.</span>
<span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">Group</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">team-a</span>
<span class="na">roles</span><span class="pi">:</span> <span class="c1"># a list of roles that will be assigned to the list of subjects.</span>
<span class="pi">-</span> <span class="s">role-1</span>
</code></pre></div></div>

    </div>
  
  </div>
</div>

<h2 id="example-roles">Example roles</h2>

<p>Letâ€™s go through example roles in the organization that can be created using Kong Mesh RBAC.</p>

<h3 id="kong-mesh-operator-admin">Kong Mesh operator (admin)</h3>

<p>Mesh operator is a part of infrastructure team responsible for Kong Mesh deployment.</p>

<div class="navtabs  ">
  <div class="navtab-titles" role="tablist">
  
    
    <div data-slug="kubernetes" data-navtab-id="navtab-2864de82-7f24-4c2d-a1b5-979177ece791-0" class="navtab-title" role="tab" aria-controls="navtab-id-0" tabindex="0">
      Kubernetes
    </div>
  
    
    <div data-slug="universal" data-navtab-id="navtab-2864de82-7f24-4c2d-a1b5-979177ece791-1" class="navtab-title" role="tab" aria-controls="navtab-id-1" tabindex="0">
      Universal
    </div>
  
  </div>
  <div class="navtab-contents">
  
    
    <div data-panel="kubernetes" data-navtab-content="navtab-2864de82-7f24-4c2d-a1b5-979177ece791-0" class="navtab-content" role="tabpanel" id="navtab-id-0" tabindex="0" aria-labelledby="navtab-id-0">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">kuma.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">AccessRole</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">admin</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">rules</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">access</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">CREATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">UPDATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">DELETE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">GENERATE_DATAPLANE_TOKEN"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">GENERATE_USER_TOKEN"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">GENERATE_ZONE_CP_TOKEN"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">GENERATE_ZONE_TOKEN"</span><span class="pi">]</span>
</code></pre></div></div>

    </div>
  
    
    <div data-panel="universal" data-navtab-content="navtab-2864de82-7f24-4c2d-a1b5-979177ece791-1" class="navtab-content" role="tabpanel" id="navtab-id-1" tabindex="0" aria-labelledby="navtab-id-1">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">type</span><span class="pi">:</span> <span class="s">AccessRole</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">admin</span>
<span class="na">rules</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">access</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">CREATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">UPDATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">DELETE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">GENERATE_DATAPLANE_TOKEN"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">GENERATE_USER_TOKEN"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">GENERATE_ZONE_CP_TOKEN"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">GENERATE_ZONE_TOKEN"</span><span class="pi">]</span>
</code></pre></div></div>

    </div>
  
  </div>
</div>

<p>This way Kong Mesh operators can execute any action.</p>

<blockquote class="note">
  <p><strong>Note</strong>: This role is automatically created on the start of the control plane.</p>
</blockquote>

<h3 id="service-owner">Service owner</h3>

<p>Service owner is a part of team responsible for given service. Letâ€™s take a <code class="language-plaintext highlighter-rouge">backend</code> service as an example.</p>

<div class="navtabs  ">
  <div class="navtab-titles" role="tablist">
  
    
    <div data-slug="kubernetes" data-navtab-id="navtab-11e49062-f5a4-4f89-bf6b-23bc4602b818-0" class="navtab-title" role="tab" aria-controls="navtab-id-0" tabindex="0">
      Kubernetes
    </div>
  
    
    <div data-slug="universal" data-navtab-id="navtab-11e49062-f5a4-4f89-bf6b-23bc4602b818-1" class="navtab-title" role="tab" aria-controls="navtab-id-1" tabindex="0">
      Universal
    </div>
  
  </div>
  <div class="navtab-contents">
  
    
    <div data-panel="kubernetes" data-navtab-content="navtab-11e49062-f5a4-4f89-bf6b-23bc4602b818-0" class="navtab-content" role="tabpanel" id="navtab-id-0" tabindex="0" aria-labelledby="navtab-id-0">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">kuma.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">AccessRole</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">backend-owner</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">rules</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">mesh</span><span class="pi">:</span> <span class="s">default</span>
    <span class="na">types</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">MeshTrafficPermission"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">MeshRateLimit"</span><span class="pi">]</span>
    <span class="na">access</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">CREATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">DELETE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">UPDATE"</span><span class="pi">]</span>
    <span class="na">when</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span>
        <span class="na">kind</span><span class="pi">:</span> <span class="s">Mesh</span>
      <span class="na">to</span><span class="pi">:</span>
        <span class="na">targetRef</span><span class="pi">:</span>
          <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshService</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">backend</span>
  <span class="pi">-</span> <span class="na">mesh</span><span class="pi">:</span> <span class="s">default</span>
    <span class="na">types</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">MeshHTTPRoute"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">MeshHealthCheck"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">MeshCircuitBreaker"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">MeshFaultInjection"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">MeshRetry"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">MeshTimeout"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">MeshAccessLog"</span><span class="pi">]</span>
    <span class="na">access</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">CREATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">DELETE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">UPDATE"</span><span class="pi">]</span>
    <span class="na">when</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span>
        <span class="na">kind</span><span class="pi">:</span> <span class="s">Mesh</span>
      <span class="na">from</span><span class="pi">:</span>
        <span class="na">targetRef</span><span class="pi">:</span>
          <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshService</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">backend</span>
    <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span>
        <span class="na">kind</span><span class="pi">:</span> <span class="s">Mesh</span>
      <span class="na">to</span><span class="pi">:</span>
        <span class="na">targetRef</span><span class="pi">:</span>
          <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshService</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">backend</span>
  <span class="pi">-</span> <span class="na">mesh</span><span class="pi">:</span> <span class="s">default</span>
    <span class="na">types</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">MeshTrace"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">MeshProxyPatch"</span><span class="pi">]</span>
    <span class="na">access</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">CREATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">DELETE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">UPDATE"</span><span class="pi">]</span>
    <span class="na">when</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span>
        <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshService</span>
        <span class="na">name</span><span class="pi">:</span> <span class="s">backend</span>
</code></pre></div></div>


    </div>
  
    
    <div data-panel="universal" data-navtab-content="navtab-11e49062-f5a4-4f89-bf6b-23bc4602b818-1" class="navtab-content" role="tabpanel" id="navtab-id-1" tabindex="0" aria-labelledby="navtab-id-1">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">type</span><span class="pi">:</span> <span class="s">AccessRole</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">backend-owner</span>
<span class="na">rules</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">mesh</span><span class="pi">:</span> <span class="s">default</span>
  <span class="na">types</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">MeshTrafficPermission"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">MeshRateLimit"</span><span class="pi">]</span>
  <span class="na">access</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">CREATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">DELETE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">UPDATE"</span><span class="pi">]</span>
  <span class="na">when</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span>
      <span class="na">kind</span><span class="pi">:</span> <span class="s">Mesh</span>
    <span class="na">to</span><span class="pi">:</span>
      <span class="na">targetRef</span><span class="pi">:</span>
        <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshService</span>
        <span class="na">name</span><span class="pi">:</span> <span class="s">backend</span>
<span class="pi">-</span> <span class="na">mesh</span><span class="pi">:</span> <span class="s">default</span>
  <span class="na">types</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">MeshHTTPRoute"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">MeshHealthCheck"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">MeshCircuitBreaker"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">MeshFaultInjection"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">MeshRetry"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">MeshTimeout"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">MeshAccessLog"</span><span class="pi">]</span>
  <span class="na">access</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">CREATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">DELETE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">UPDATE"</span><span class="pi">]</span>
  <span class="na">when</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span>
      <span class="na">kind</span><span class="pi">:</span> <span class="s">Mesh</span>
    <span class="na">from</span><span class="pi">:</span>
      <span class="na">targetRef</span><span class="pi">:</span>
        <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshService</span>
        <span class="na">name</span><span class="pi">:</span> <span class="s">backend</span>
  <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span>
      <span class="na">kind</span><span class="pi">:</span> <span class="s">Mesh</span>
    <span class="na">to</span><span class="pi">:</span>
      <span class="na">targetRef</span><span class="pi">:</span>
        <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshService</span>
        <span class="na">name</span><span class="pi">:</span> <span class="s">backend</span>
<span class="pi">-</span> <span class="na">mesh</span><span class="pi">:</span> <span class="s">default</span>
  <span class="na">types</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">MeshTrace"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">MeshProxyPatch"</span><span class="pi">]</span>
  <span class="na">access</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">CREATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">DELETE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">UPDATE"</span><span class="pi">]</span>
  <span class="na">when</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">targetRef</span><span class="pi">:</span>
      <span class="na">kind</span><span class="pi">:</span> <span class="s">MeshService</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">backend</span>
</code></pre></div></div>


    </div>
  
  </div>
</div>

<ul>
  <li>Modify <code class="language-plaintext highlighter-rouge">MeshRateLimit</code> and <code class="language-plaintext highlighter-rouge">MeshTrafficPermission</code> that allows/restricts access to the backend service.
This changes the configuration of the data plane proxy that implements the <code class="language-plaintext highlighter-rouge">backend</code> service.</li>
  <li>Modify connection policies (<code class="language-plaintext highlighter-rouge">MeshHTTPRoute</code>, <code class="language-plaintext highlighter-rouge">MeshHealthCheck</code>, <code class="language-plaintext highlighter-rouge">MeshCircuitBreaker</code>, <code class="language-plaintext highlighter-rouge">MeshFaultInjection</code>, <code class="language-plaintext highlighter-rouge">MeshRetry</code>, <code class="language-plaintext highlighter-rouge">MeshTimeout</code>, <code class="language-plaintext highlighter-rouge">MeshRateLimit</code>, <code class="language-plaintext highlighter-rouge">MeshAccessLog</code>)
that matches the backend service that connects to other services. This changes the configuration of the data plane proxy that implements the <code class="language-plaintext highlighter-rouge">backend</code> service.</li>
  <li>Modify connection policies that matches any service that consumes backend service.
This changes the configuration of data plane proxies that are connecting to the backend, but the configuration only affects connections to the backend service.
Itâ€™s useful because the service owner of the backend knows what (<code class="language-plaintext highlighter-rouge">MeshTimeout</code>, <code class="language-plaintext highlighter-rouge">MeshHealthCheck</code>) should be applied when communicating with their service.</li>
  <li>Modify the <code class="language-plaintext highlighter-rouge">MeshTrace</code> or <code class="language-plaintext highlighter-rouge">MeshProxyPatch</code> that matches the backend service. This changes the configuration of the data plane proxy that implements the <code class="language-plaintext highlighter-rouge">backend</code> service.</li>
</ul>

<blockquote class="note">
  <p><strong>Note</strong>: When giving users <code class="language-plaintext highlighter-rouge">UPDATE</code> permission, remember to add <code class="language-plaintext highlighter-rouge">UPDATE</code> permission to all selectors they can switch between. For example, if a user only has access to <code class="language-plaintext highlighter-rouge">sources</code> selector, they wonâ€™t be able to update policy with <code class="language-plaintext highlighter-rouge">destinations</code> selector or new <code class="language-plaintext highlighter-rouge">targetRef</code> selectors. Likewise, when a user only has access to the <code class="language-plaintext highlighter-rouge">targetRef</code> kind <code class="language-plaintext highlighter-rouge">MeshService</code>, they wonâ€™t be able to update the policy to use a different <code class="language-plaintext highlighter-rouge">targetRef</code> kind.</p>
</blockquote>

<h3 id="observability-operator">Observability operator</h3>

<p>We may also have an infrastructure team which is responsible for the logging/metrics/tracing systems in the organization.
Currently, those features are configured on <code class="language-plaintext highlighter-rouge">Mesh</code>, <code class="language-plaintext highlighter-rouge">MeshAccessLog</code>, and <code class="language-plaintext highlighter-rouge">MeshTrace</code> objects.</p>

<div class="navtabs  ">
  <div class="navtab-titles" role="tablist">
  
    
    <div data-slug="kubernetes" data-navtab-id="navtab-9381dca4-026f-456b-8190-ab16166fa2a5-0" class="navtab-title" role="tab" aria-controls="navtab-id-0" tabindex="0">
      Kubernetes
    </div>
  
    
    <div data-slug="universal" data-navtab-id="navtab-9381dca4-026f-456b-8190-ab16166fa2a5-1" class="navtab-title" role="tab" aria-controls="navtab-id-1" tabindex="0">
      Universal
    </div>
  
  </div>
  <div class="navtab-contents">
  
    
    <div data-panel="kubernetes" data-navtab-content="navtab-9381dca4-026f-456b-8190-ab16166fa2a5-0" class="navtab-content" role="tabpanel" id="navtab-id-0" tabindex="0" aria-labelledby="navtab-id-0">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">kuma.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">AccessRole</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">observability-operator</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">rules</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">mesh</span><span class="pi">:</span> <span class="s1">'</span><span class="s">*'</span>
    <span class="na">types</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">MeshAccessLog"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">MeshTrace"</span><span class="pi">]</span>
    <span class="na">access</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">CREATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">DELETE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">UPDATE"</span><span class="pi">]</span>
  <span class="pi">-</span> <span class="na">types</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">Mesh"</span><span class="pi">]</span>
    <span class="na">access</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">CREATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">DELETE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">UPDATE"</span><span class="pi">]</span>
</code></pre></div></div>


    </div>
  
    
    <div data-panel="universal" data-navtab-content="navtab-9381dca4-026f-456b-8190-ab16166fa2a5-1" class="navtab-content" role="tabpanel" id="navtab-id-1" tabindex="0" aria-labelledby="navtab-id-1">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">type</span><span class="pi">:</span> <span class="s">AccessRole</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">observability-operator</span>
<span class="na">rules</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">mesh</span><span class="pi">:</span> <span class="s1">'</span><span class="s">*'</span>
  <span class="na">types</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">MeshAccessLog"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">MeshTrace"</span><span class="pi">]</span>
  <span class="na">access</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">CREATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">DELETE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">UPDATE"</span><span class="pi">]</span>
<span class="pi">-</span> <span class="na">types</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">Mesh"</span><span class="pi">]</span>
  <span class="na">access</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">CREATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">DELETE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">UPDATE"</span><span class="pi">]</span>
</code></pre></div></div>


    </div>
  
  </div>
</div>

<p>This way an observability operator can:</p>
<ul>
  <li>Modify <code class="language-plaintext highlighter-rouge">MeshAccessLog</code> and <code class="language-plaintext highlighter-rouge">MeshTrace</code> in any mesh</li>
  <li>Modify any <code class="language-plaintext highlighter-rouge">Mesh</code>
</li>
</ul>

<h3 id="single-mesh-operator">Single Mesh operator</h3>

<p>Kong Mesh lets us segment the deployment into many logical service meshes configured by Mesh object.
We may want to give access to one specific Mesh and all objects connected with this Mesh.</p>

<div class="navtabs  ">
  <div class="navtab-titles" role="tablist">
  
    
    <div data-slug="kubernetes" data-navtab-id="navtab-09f91524-aa1c-46aa-9ab7-e90dd319e6a7-0" class="navtab-title" role="tab" aria-controls="navtab-id-0" tabindex="0">
      Kubernetes
    </div>
  
    
    <div data-slug="universal" data-navtab-id="navtab-09f91524-aa1c-46aa-9ab7-e90dd319e6a7-1" class="navtab-title" role="tab" aria-controls="navtab-id-1" tabindex="0">
      Universal
    </div>
  
  </div>
  <div class="navtab-contents">
  
    
    <div data-panel="kubernetes" data-navtab-content="navtab-09f91524-aa1c-46aa-9ab7-e90dd319e6a7-0" class="navtab-content" role="tabpanel" id="navtab-id-0" tabindex="0" aria-labelledby="navtab-id-0">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">kuma.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">AccessRole</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">demo-mesh-operator</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">rules</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">mesh</span><span class="pi">:</span> <span class="s">demo</span>
    <span class="na">access</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">CREATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">DELETE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">UPDATE"</span><span class="pi">]</span>
  <span class="pi">-</span> <span class="na">types</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">Mesh"</span><span class="pi">]</span>
    <span class="na">names</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">demo"</span><span class="pi">]</span>
    <span class="na">access</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">CREATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">DELETE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">UPDATE"</span><span class="pi">]</span>
</code></pre></div></div>

    </div>
  
    
    <div data-panel="universal" data-navtab-content="navtab-09f91524-aa1c-46aa-9ab7-e90dd319e6a7-1" class="navtab-content" role="tabpanel" id="navtab-id-1" tabindex="0" aria-labelledby="navtab-id-1">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">type</span><span class="pi">:</span> <span class="s">AccessRole</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">demo-mesh-operator</span>
<span class="na">rules</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">mesh</span><span class="pi">:</span> <span class="s">demo</span>
  <span class="na">access</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">CREATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">DELETE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">UPDATE"</span><span class="pi">]</span>
<span class="pi">-</span> <span class="na">types</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">Mesh"</span><span class="pi">]</span>
  <span class="na">names</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">demo"</span><span class="pi">]</span>
  <span class="na">access</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">CREATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">DELETE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">UPDATE"</span><span class="pi">]</span>
</code></pre></div></div>

    </div>
  
  </div>
</div>

<p>This way all observability operator can:</p>
<ul>
  <li>Modify all resources in the demo mesh</li>
  <li>Modify <code class="language-plaintext highlighter-rouge">demo</code> Mesh object.</li>
</ul>

<h2 id="kubernetes">Kubernetes</h2>

<p>Kubernetes provides their own RBAC system, but itâ€™s not sufficient to cover use cases for several reasons:</p>
<ul>
  <li>You cannot restrict access to resources of specific Mesh</li>
  <li>You cannot restrict access based on the content of the policy</li>
</ul>

<p>Kong Mesh RBAC works on top of Kubernetes RBAC.</p>

<p>For example, to restrict the access for a user to modify <code class="language-plaintext highlighter-rouge">MeshTrafficPermission</code> for backend service, they need to be able to create <code class="language-plaintext highlighter-rouge">MeshTrafficPermission</code> in the first place.</p>

<p>The <code class="language-plaintext highlighter-rouge">subjects</code> in <code class="language-plaintext highlighter-rouge">AccessRoleBinding</code> are compatible with Kubernetes users and groups.
Kong Mesh RBAC on Kubernetes is implemented using Kubernetes Webhook when applying resources. This means you can only use Kubernetes users and groups for <code class="language-plaintext highlighter-rouge">CREATE</code>, <code class="language-plaintext highlighter-rouge">DELETE</code> and <code class="language-plaintext highlighter-rouge">UPDATE</code> access.
<code class="language-plaintext highlighter-rouge">GENERATE_DATAPLANE_TOKEN</code>, <code class="language-plaintext highlighter-rouge">GENERATE_USER_TOKEN</code>, <code class="language-plaintext highlighter-rouge">GENERATE_ZONE_CP_TOKEN</code>, <code class="language-plaintext highlighter-rouge">GENERATE_ZONE_TOKEN</code> are used when interacting with Kong Mesh API Server, in this case you need to use the user token.</p>

<h2 id="default">Default</h2>

<p>Kong Mesh creates an <code class="language-plaintext highlighter-rouge">admin</code> <code class="language-plaintext highlighter-rouge">AccessRole</code> that allows every action.</p>

<p>In a standalone deployment, the <code class="language-plaintext highlighter-rouge">default</code> <code class="language-plaintext highlighter-rouge">AccessRoleBinding</code> assigns this role to every authenticated and unauthenticated user.</p>

<p>In a multi-zone deployment, the <code class="language-plaintext highlighter-rouge">default</code> <code class="language-plaintext highlighter-rouge">AccessRoleBinding</code> on the global control plane assigns this role to every authenticated and unauthenticated user.
However, on the zone control plane, the <code class="language-plaintext highlighter-rouge">default</code> <code class="language-plaintext highlighter-rouge">AccessRoleBinding</code> is restricted to the <code class="language-plaintext highlighter-rouge">admin</code> <code class="language-plaintext highlighter-rouge">AccessRole</code> only.</p>

<div class="navtabs  ">
  <div class="navtab-titles" role="tablist">
  
    
    <div data-slug="kubernetes" data-navtab-id="navtab-78659efd-8e91-4fc1-93dc-7f33d46de550-0" class="navtab-title" role="tab" aria-controls="navtab-id-0" tabindex="0">
      Kubernetes
    </div>
  
    
    <div data-slug="universal" data-navtab-id="navtab-78659efd-8e91-4fc1-93dc-7f33d46de550-1" class="navtab-title" role="tab" aria-controls="navtab-id-1" tabindex="0">
      Universal
    </div>
  
  </div>
  <div class="navtab-contents">
  
    
    <div data-panel="kubernetes" data-navtab-content="navtab-78659efd-8e91-4fc1-93dc-7f33d46de550-0" class="navtab-content" role="tabpanel" id="navtab-id-0" tabindex="0" aria-labelledby="navtab-id-0">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">kuma.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">AccessRole</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">admin</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">rules</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">access</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">CREATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">UPDATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">DELETE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">GENERATE_DATAPLANE_TOKEN"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">GENERATE_USER_TOKEN"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">GENERATE_ZONE_CP_TOKEN"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">GENERATE_ZONE_TOKEN"</span><span class="pi">]</span>
<span class="nn">---</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">kuma.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">AccessRoleBinding</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">default</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">subjects</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">Group</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">mesh-system:authenticated</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">Group</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">mesh-system:unauthenticated</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">Group</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">system:authenticated</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">Group</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">system:unauthenticated</span>
  <span class="na">roles</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">admin</span>
</code></pre></div></div>

    </div>
  
    
    <div data-panel="universal" data-navtab-content="navtab-78659efd-8e91-4fc1-93dc-7f33d46de550-1" class="navtab-content" role="tabpanel" id="navtab-id-1" tabindex="0" aria-labelledby="navtab-id-1">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">type</span><span class="pi">:</span> <span class="s">AccessRole</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">admin</span>
<span class="na">rules</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">access</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">CREATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">UPDATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">DELETE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">GENERATE_DATAPLANE_TOKEN"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">GENERATE_USER_TOKEN"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">GENERATE_ZONE_CP_TOKEN"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">GENERATE_ZONE_TOKEN"</span><span class="pi">]</span>
<span class="nn">---</span>
<span class="na">type</span><span class="pi">:</span> <span class="s">AccessRoleBinding</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">default</span>
<span class="na">subjects</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">Group</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">mesh-system:authenticated</span>
<span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">Group</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">mesh-system:unauthenticated</span>
<span class="na">roles</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">admin</span>
</code></pre></div></div>

    </div>
  
  </div>
</div>

<p>To restrict access to <code class="language-plaintext highlighter-rouge">admin</code> only, change the default <code class="language-plaintext highlighter-rouge">AccessRole</code> policy:</p>

<div class="navtabs  ">
  <div class="navtab-titles" role="tablist">
  
    
    <div data-slug="kubernetes" data-navtab-id="navtab-eb2a07a2-4782-4648-8b3e-aaa8bd8bbf68-0" class="navtab-title" role="tab" aria-controls="navtab-id-0" tabindex="0">
      Kubernetes
    </div>
  
    
    <div data-slug="universal" data-navtab-id="navtab-eb2a07a2-4782-4648-8b3e-aaa8bd8bbf68-1" class="navtab-title" role="tab" aria-controls="navtab-id-1" tabindex="0">
      Universal
    </div>
  
  </div>
  <div class="navtab-contents">
  
    
    <div data-panel="kubernetes" data-navtab-content="navtab-eb2a07a2-4782-4648-8b3e-aaa8bd8bbf68-0" class="navtab-content" role="tabpanel" id="navtab-id-0" tabindex="0" aria-labelledby="navtab-id-0">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">kuma.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">AccessRoleBinding</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">default</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">subjects</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">Group</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">mesh-system:admin</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">Group</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">system:masters</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">Group</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">system:serviceaccounts:kube-system</span>
  <span class="na">roles</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">admin</span>
</code></pre></div></div>
<p><code class="language-plaintext highlighter-rouge">system:serviceaccounts:kube-system</code> is required for Kubernetes controllers to manage Kong Mesh resources â€“ for example, to remove data plane objects when a namespace is removed.</p>

    </div>
  
    
    <div data-panel="universal" data-navtab-content="navtab-eb2a07a2-4782-4648-8b3e-aaa8bd8bbf68-1" class="navtab-content" role="tabpanel" id="navtab-id-1" tabindex="0" aria-labelledby="navtab-id-1">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">type</span><span class="pi">:</span> <span class="s">AccessRoleBinding</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">default</span>
<span class="na">subjects</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">Group</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">mesh-system:admin</span>
<span class="na">roles</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">admin</span>
</code></pre></div></div>

    </div>
  
  </div>
</div>

<h2 id="example">Example</h2>

<div class="navtabs  ">
  <div class="navtab-titles" role="tablist">
  
    
    <div data-slug="targetref-selectors" data-navtab-id="navtab-7f2a0a11-2f7a-46d2-b5c3-2c166ef6b768-0" class="navtab-title" role="tab" aria-controls="navtab-id-0" tabindex="0">
      "targetRef" selectors
    </div>
  
    
    <div data-slug="source-and-destination-selectors" data-navtab-id="navtab-7f2a0a11-2f7a-46d2-b5c3-2c166ef6b768-1" class="navtab-title" role="tab" aria-controls="navtab-id-1" tabindex="0">
      Source and Destination selectors
    </div>
  
  </div>
  <div class="navtab-contents">
  
    
    <div data-panel="targetref-selectors" data-navtab-content="navtab-7f2a0a11-2f7a-46d2-b5c3-2c166ef6b768-0" class="navtab-content" role="tabpanel" id="navtab-id-0" tabindex="0" aria-labelledby="navtab-id-0">
      
<p>The following steps create a new user and restrict the access to only <code class="language-plaintext highlighter-rouge">MeshTrafficPermission</code> for the backend service.</p>

<div class="navtabs  ">
  <div class="navtab-titles" role="tablist">
  
    
    <div data-slug="kubernetes" data-navtab-id="navtab-43faffff-5fc4-4f8b-be16-cce0388f8d1a-0" class="navtab-title" role="tab" aria-controls="navtab-id-0" tabindex="0">
      Kubernetes
    </div>
  
    
    <div data-slug="universal" data-navtab-id="navtab-43faffff-5fc4-4f8b-be16-cce0388f8d1a-1" class="navtab-title" role="tab" aria-controls="navtab-id-1" tabindex="0">
      Universal
    </div>
  
  </div>
  <div class="navtab-contents">
  
    
    <div data-panel="kubernetes" data-navtab-content="navtab-43faffff-5fc4-4f8b-be16-cce0388f8d1a-0" class="navtab-content" role="tabpanel" id="navtab-id-0" tabindex="0" aria-labelledby="navtab-id-0">
      
<ol>
  <li>
    <p>Create a backend-owner Kubernetes user and configure <code class="language-plaintext highlighter-rouge">kubectl</code>:</p>

    <div class="language-sh highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nb">mkdir</span> <span class="nt">-p</span> /tmp/k8s-certs
 <span class="nb">cd</span> /tmp/k8s-certs
 openssl genrsa <span class="nt">-out</span> backend-owner.key 2048 <span class="c"># generate client key</span>
 openssl req <span class="nt">-new</span> <span class="nt">-key</span> backend-owner.key <span class="nt">-subj</span> <span class="s2">"/CN=backend-owner"</span> <span class="nt">-out</span> backend-owner.csr <span class="c"># generate client certificate request</span>
 <span class="nv">CSR</span><span class="o">=</span><span class="si">$(</span><span class="nb">cat </span>backend-owner.csr | <span class="nb">base64</span> | <span class="nb">tr</span> <span class="nt">-d</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="si">)</span> <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s2">"apiVersion: certificates.k8s.io/v1
 kind: CertificateSigningRequest
 metadata:
   name: backend-owner
 spec:
   request: </span><span class="nv">$CSR</span><span class="s2">
   signerName: kubernetes.io/kube-apiserver-client
   usages:
   - client auth"</span> | kubectl apply <span class="nt">-f</span> -
 kubectl certificate approve backend-owner
 kubectl get csr backend-owner <span class="nt">-o</span> <span class="nv">jsonpath</span><span class="o">=</span><span class="s1">'{.status.certificate}'</span>| <span class="nb">base64</span> <span class="nt">-d</span> <span class="o">&gt;</span> backend-owner.crt
 kubectl config set-credentials backend-owner <span class="se">\</span>
 <span class="nt">--client-key</span><span class="o">=</span>/tmp/k8s-certs/backend-owner.key <span class="se">\</span>
 <span class="nt">--client-certificate</span><span class="o">=</span>/tmp/k8s-certs/backend-owner.crt <span class="se">\</span>
 <span class="nt">--embed-certs</span><span class="o">=</span><span class="nb">true
 </span>kubectl config set-context backend-owner <span class="nt">--cluster</span><span class="o">=</span>YOUR_CLUSTER_NAME <span class="nt">--user</span><span class="o">=</span>backend-owner
</code></pre></div>    </div>
  </li>
  <li>
    <p>Create Kubernetes RBAC to allow backend-owner to manage all <code class="language-plaintext highlighter-rouge">MeshTrafficPermission</code>:</p>

    <div class="language-sh highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nb">echo</span> <span class="s2">"
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
 metadata:
   name: kuma-policy-management
 rules:
 - apiGroups:
   - kuma.io
   resources:
   - meshtrafficpermissions
   verbs:
   - get
   - list
   - watch
   - create
   - update
   - patch
   - delete
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
 metadata:
   name: kuma-policy-management-backend-owner
 roleRef:
   apiGroup: rbac.authorization.k8s.io
   kind: ClusterRole
   name: kuma-policy-management
 subjects:
 - kind: User
   name: backend-owner
   apiGroup: rbac.authorization.k8s.io
 "</span> | kubectl apply <span class="nt">-f</span> -
</code></pre></div>    </div>
  </li>
  <li>
    <p>Change default Kong Mesh RBAC to restrict access to resources by default:</p>

    <div class="language-sh highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nb">echo</span> <span class="s2">"
 apiVersion: kuma.io/v1alpha1
 kind: AccessRoleBinding
 metadata:
   name: default
 spec:
   subjects:
   - type: Group
     name: mesh-system:admin
   - type: Group
     name: system:masters
   - type: Group
     name: system:serviceaccounts:kube-system
   roles:
   - admin
 "</span> | kubectl apply <span class="nt">-f</span> -
</code></pre></div>    </div>
  </li>
  <li>
    <p>Create an AccessRole to grant permissions to user <code class="language-plaintext highlighter-rouge">backend-owner</code> to modify <code class="language-plaintext highlighter-rouge">MeshTrafficPermission</code> only for the backend service:</p>

    <div class="language-sh highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nb">echo</span> <span class="s1">'
 ---
 apiVersion: kuma.io/v1alpha1
 kind: AccessRole
 metadata:
   name: backend-owner
 spec:
   rules:
   - types: ["MeshTrafficPermission"]
     mesh: default
     access: ["CREATE", "UPDATE", "DELETE"]
     when:
     - targetRef:
         kind: MeshService
         name: backend
 ---
 apiVersion: kuma.io/v1alpha1
 kind: AccessRoleBinding
 metadata:
   name: backend-owners
 spec:
   subjects:
   - type: User
     name: backend-owner
   roles:
   - backend-owner
 '</span> | kubectl apply <span class="nt">-f</span> -
</code></pre></div>    </div>
  </li>
  <li>
    <p>Change the service to test user access:</p>

    <div class="language-sh highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> kubectl config use-context backend-owner
 <span class="nb">echo</span> <span class="s2">"
 apiVersion: kuma.io/v1alpha1
 kind: MeshTrafficPermission
 metadata:
   name: web-to-backend
   namespace: kong-mesh-system
   labels:
     kuma.io/mesh: default
 spec:
   targetRef:
     kind: MeshService
     name: backend
   from:
   - targetRef:
       kind: MeshService
       name: web
     default:
       action: ALLOW
 "</span> | kubectl apply <span class="nt">-f</span> -
 <span class="c"># operation should succeed, access to backend service access is granted</span>

 <span class="nb">echo</span> <span class="s2">"
 apiVersion: kuma.io/v1alpha1
 kind: MeshTrafficPermission
 metadata:
   name: web-to-backend
   namespace: kong-mesh-system
   labels:
     kuma.io/mesh: default
 spec:
   targetRef:
     kind: MeshService
     name: not-backend # access to this service is not granted
   from:
   - targetRef:
       kind: MeshService
       name: web
     default:
       action: ALLOW
 "</span> | kubectl apply <span class="nt">-f</span> -
 <span class="c"># operation should not succeed</span>
</code></pre></div>    </div>
  </li>
</ol>

    </div>
  
    
    <div data-panel="universal" data-navtab-content="navtab-43faffff-5fc4-4f8b-be16-cce0388f8d1a-1" class="navtab-content" role="tabpanel" id="navtab-id-1" tabindex="0" aria-labelledby="navtab-id-1">
      
<p>The following steps create a new user and restrict the access to only <code class="language-plaintext highlighter-rouge">TrafficPermission</code> for the backend service.</p>

<blockquote class="note">
  <p><strong>Note</strong>: By default, all requests that originate from localhost are authenticated as the <code class="language-plaintext highlighter-rouge">admin</code> user in the <code class="language-plaintext highlighter-rouge">mesh-system:admin</code> group.
For this example to work, you must either run the control plane with <code class="language-plaintext highlighter-rouge">KUMA_API_SERVER_AUTHN_LOCALHOST_IS_ADMIN</code> set to <code class="language-plaintext highlighter-rouge">false</code> or access the control plane using a method other than localhost.</p>
</blockquote>

<ol>
  <li>
    <p>Extract the admin token and configure <code class="language-plaintext highlighter-rouge">kumactl</code> with the admin:</p>

    <div class="language-sh highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nb">export </span><span class="nv">ADMIN_TOKEN</span><span class="o">=</span><span class="si">$(</span>curl http://localhost:5681/global-secrets/admin-user-token | jq <span class="nt">-r</span> .data | <span class="nb">base64</span> <span class="nt">-d</span><span class="si">)</span>
 kumactl config control-planes add <span class="se">\</span>
 <span class="nt">--name</span><span class="o">=</span>cp-admin <span class="se">\</span>
 <span class="nt">--address</span><span class="o">=</span>https://localhost:5682 <span class="se">\</span>
 <span class="nt">--skip-verify</span><span class="o">=</span><span class="nb">true</span> <span class="se">\</span>
 <span class="nt">--auth-type</span><span class="o">=</span>tokens <span class="se">\</span>
 <span class="nt">--auth-conf</span> <span class="nv">token</span><span class="o">=</span><span class="nv">$ADMIN_TOKEN</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Configure backend-owner:</p>

    <div class="language-sh highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nb">export </span><span class="nv">BACKEND_OWNER_TOKEN</span><span class="o">=</span><span class="si">$(</span>kumactl generate user-token <span class="nt">--valid-for</span><span class="o">=</span>24h <span class="nt">--name</span> backend-owner<span class="si">)</span>
 kumactl config control-planes add <span class="se">\</span>
 <span class="nt">--name</span><span class="o">=</span>cp-backend-owner <span class="se">\</span>
 <span class="nt">--address</span><span class="o">=</span>https://localhost:5682 <span class="se">\</span>
 <span class="nt">--skip-verify</span><span class="o">=</span><span class="nb">true</span> <span class="se">\</span>
 <span class="nt">--auth-type</span><span class="o">=</span>tokens <span class="se">\</span>
 <span class="nt">--auth-conf</span> <span class="nv">token</span><span class="o">=</span><span class="nv">$BACKEND_OWNER_TOKEN</span>
 kumactl config control-planes switch <span class="nt">--name</span> cp-admin <span class="c"># switch back to admin</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Change default Kong Mesh RBAC to restrict access to resources by default:</p>

    <div class="language-sh highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nb">echo</span> <span class="s2">"type: AccessRoleBinding
 name: default
 subjects:
 - type: Group
   name: mesh-system:admin
 roles:
 - admin"</span> | kumactl apply <span class="nt">-f</span> -
</code></pre></div>    </div>
  </li>
  <li>
    <p>Create Kong Mesh RBAC to only allow the backend-owner to modify <code class="language-plaintext highlighter-rouge">MeshTrafficPermission</code> for backend:</p>

    <div class="language-sh highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nb">echo</span> <span class="s1">'
 type: AccessRole
 name: backend-owner
 rules:
 - types: ["MeshTrafficPermission"]
   mesh: default
   access: ["CREATE", "UPDATE", "DELETE"]
   when:
   - targetRef:
       kind: MeshService
       name: backend
 '</span> | kumactl apply <span class="nt">-f</span> -
 <span class="nb">echo</span> <span class="s1">'
 type: AccessRoleBinding
 name: backend-owners
 subjects:
 - type: User
   name: backend-owner
 roles:
 - backend-owner'</span> | kumactl apply <span class="nt">-f</span> -
</code></pre></div>    </div>
  </li>
  <li>
    <p>Change the user and test RBAC:</p>

    <div class="language-sh highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> kumactl config control-planes switch <span class="nt">--name</span> cp-backend-owner
 <span class="nb">echo</span> <span class="s2">"
 type: MeshTrafficPermission
 mesh: default
 name: web-to-backend
 spec:
   targetRef:
     kind: MeshService
     name: backend
   from:
   - targetRef:
       kind: MeshService
       name: web
     default:
       action: ALLOW
 "</span> | kumactl apply <span class="nt">-f</span> -
 <span class="c"># this operation should succeed</span>

 <span class="nb">echo</span> <span class="s2">"
 type: MeshTrafficPermission
 mesh: default
 name: web-to-backend
 spec:
   targetRef:
     kind: MeshService
     name: not-backend
   from:
   - targetRef:
       kind: MeshService
       name: web
     default:
       action: ALLOW
 "</span> | kumactl apply <span class="nt">-f</span> -
 Error: Access Denied <span class="o">(</span>user <span class="s2">"backend-owner/mesh-system:authenticated"</span> cannot access the resource<span class="o">)</span>
</code></pre></div>    </div>
  </li>
</ol>


    </div>
  
  </div>
</div>


    </div>
  
    
    <div data-panel="source-and-destination-selectors" data-navtab-content="navtab-7f2a0a11-2f7a-46d2-b5c3-2c166ef6b768-1" class="navtab-content" role="tabpanel" id="navtab-id-1" tabindex="0" aria-labelledby="navtab-id-1">
      
<div class="navtabs  ">
  <div class="navtab-titles" role="tablist">
  
    
    <div data-slug="kubernetes" data-navtab-id="navtab-a6fc57bc-5516-4611-b692-8f7da72d0943-0" class="navtab-title" role="tab" aria-controls="navtab-id-0" tabindex="0">
      Kubernetes
    </div>
  
    
    <div data-slug="universal" data-navtab-id="navtab-a6fc57bc-5516-4611-b692-8f7da72d0943-1" class="navtab-title" role="tab" aria-controls="navtab-id-1" tabindex="0">
      Universal
    </div>
  
  </div>
  <div class="navtab-contents">
  
    
    <div data-panel="kubernetes" data-navtab-content="navtab-a6fc57bc-5516-4611-b692-8f7da72d0943-0" class="navtab-content" role="tabpanel" id="navtab-id-0" tabindex="0" aria-labelledby="navtab-id-0">
      
<ol>
  <li>
    <p>Create a backend-owner Kubernetes user and configure <code class="language-plaintext highlighter-rouge">kubectl</code>:</p>

    <div class="language-sh highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nb">mkdir</span> <span class="nt">-p</span> /tmp/k8s-certs
 <span class="nb">cd</span> /tmp/k8s-certs
 openssl genrsa <span class="nt">-out</span> backend-owner.key 2048 <span class="c"># generate client key</span>
 openssl req <span class="nt">-new</span> <span class="nt">-key</span> backend-owner.key <span class="nt">-subj</span> <span class="s2">"/CN=backend-owner"</span> <span class="nt">-out</span> backend-owner.csr <span class="c"># generate client certificate request</span>
 <span class="nv">CSR</span><span class="o">=</span><span class="si">$(</span><span class="nb">cat </span>backend-owner.csr | <span class="nb">base64</span> | <span class="nb">tr</span> <span class="nt">-d</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="si">)</span> <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s2">"apiVersion: certificates.k8s.io/v1
 kind: CertificateSigningRequest
 metadata:
   name: backend-owner
 spec:
   request: </span><span class="nv">$CSR</span><span class="s2">
   signerName: kubernetes.io/kube-apiserver-client
   usages:
   - client auth"</span> | kubectl apply <span class="nt">-f</span> -
 kubectl certificate approve backend-owner
 kubectl get csr backend-owner <span class="nt">-o</span> <span class="nv">jsonpath</span><span class="o">=</span><span class="s1">'{.status.certificate}'</span>| <span class="nb">base64</span> <span class="nt">-d</span> <span class="o">&gt;</span> backend-owner.crt
 kubectl config set-credentials backend-owner <span class="se">\</span>
 <span class="nt">--client-key</span><span class="o">=</span>/tmp/k8s-certs/backend-owner.key <span class="se">\</span>
 <span class="nt">--client-certificate</span><span class="o">=</span>/tmp/k8s-certs/backend-owner.crt <span class="se">\</span>
 <span class="nt">--embed-certs</span><span class="o">=</span><span class="nb">true
 </span>kubectl config set-context backend-owner <span class="nt">--cluster</span><span class="o">=</span>YOUR_CLUSTER_NAME <span class="nt">--user</span><span class="o">=</span>backend-owner
</code></pre></div>    </div>
  </li>
  <li>
    <p>Create Kubernetes RBAC to allow backend-owner to manage all <code class="language-plaintext highlighter-rouge">TrafficPermission</code>:</p>

    <div class="language-sh highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nb">echo</span> <span class="s2">"
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRole
 metadata:
   name: kuma-policy-management
 rules:
 - apiGroups:
   - kuma.io
   resources:
   - trafficpermissions
   verbs:
   - get
   - list
   - watch
   - create
   - update
   - patch
   - delete
 ---
 apiVersion: rbac.authorization.k8s.io/v1
 kind: ClusterRoleBinding
 metadata:
   name: kuma-policy-management-backend-owner
 roleRef:
   apiGroup: rbac.authorization.k8s.io
   kind: ClusterRole
   name: kuma-policy-management
 subjects:
 - kind: User
   name: backend-owner
   apiGroup: rbac.authorization.k8s.io
 "</span> | kubectl apply <span class="nt">-f</span> -
</code></pre></div>    </div>
  </li>
  <li>
    <p>Change default Kong Mesh RBAC to restrict access to resources by default:</p>

    <div class="language-sh highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nb">echo</span> <span class="s2">"
 apiVersion: kuma.io/v1alpha1
 kind: AccessRoleBinding
 metadata:
   name: default
 spec:
   subjects:
   - type: Group
     name: mesh-system:admin
   - type: Group
     name: system:masters
   - type: Group
     name: system:serviceaccounts:kube-system
   roles:
   - admin
 "</span> | kubectl apply <span class="nt">-f</span> -
</code></pre></div>    </div>
  </li>
  <li>
    <p>Create an AccessRole to grant permissions to the <code class="language-plaintext highlighter-rouge">backend-owner</code> user to modify <code class="language-plaintext highlighter-rouge">TrafficPermission</code> only for the backend service:</p>

    <div class="language-sh highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nb">echo</span> <span class="s1">'
 ---
 apiVersion: kuma.io/v1alpha1
 kind: AccessRole
 metadata:
   name: backend-owner
 spec:
   rules:
   - types: ["TrafficPermission"]
     mesh: default
     access: ["CREATE", "UPDATE", "DELETE"]
     when:
     - destinations:
         match:
           kuma.io/service: backend
 ---
 apiVersion: kuma.io/v1alpha1
 kind: AccessRoleBinding
 metadata:
   name: backend-owners
 spec:
   subjects:
   - type: User
     name: backend-owner
   roles:
   - backend-owner
 '</span> | kubectl apply <span class="nt">-f</span> -
</code></pre></div>    </div>
  </li>
  <li>
    <p>Change the service to test user access:</p>

    <div class="language-sh highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> kubectl config use-context backend-owner
 <span class="nb">echo</span> <span class="s2">"
 apiVersion: kuma.io/v1alpha1
 kind: TrafficPermission
 mesh: default
 metadata:
   name: web-to-backend
 spec:
   sources:
   - match:
       kuma.io/service: web
   destinations:
   - match:
       kuma.io/service: backend
 "</span> | kubectl apply <span class="nt">-f</span> -
 <span class="c"># operation should succeed, access to backend service access is granted</span>

 <span class="nb">echo</span> <span class="s2">"
 apiVersion: kuma.io/v1alpha1
 kind: TrafficPermission
 mesh: default
 metadata:
   name: web-to-backend
 spec:
   sources:
   - match:
       kuma.io/service: web
   destinations:
   - match:
       kuma.io/service: not-backend # access to this service is not granted
 "</span> | kubectl apply <span class="nt">-f</span> -
 <span class="c"># operation should not succeed</span>
</code></pre></div>    </div>
  </li>
</ol>

    </div>
  
    
    <div data-panel="universal" data-navtab-content="navtab-a6fc57bc-5516-4611-b692-8f7da72d0943-1" class="navtab-content" role="tabpanel" id="navtab-id-1" tabindex="0" aria-labelledby="navtab-id-1">
      
<blockquote class="note">
  <p><strong>Note</strong>: By default, all requests that originates from localhost are authenticated as the <code class="language-plaintext highlighter-rouge">admin</code> user belonging to the <code class="language-plaintext highlighter-rouge">mesh-system:admin</code> group.
For this example to work, you must either run the control plane with <code class="language-plaintext highlighter-rouge">KUMA_API_SERVER_AUTHN_LOCALHOST_IS_ADMIN</code> set to <code class="language-plaintext highlighter-rouge">false</code> or access the control plane via a method other than localhost.</p>
</blockquote>

<ol>
  <li>
    <p>Extract admin token and configure kumactl with admin:</p>

    <div class="language-sh highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nb">export </span><span class="nv">ADMIN_TOKEN</span><span class="o">=</span><span class="si">$(</span>curl http://localhost:5681/global-secrets/admin-user-token | jq <span class="nt">-r</span> .data | <span class="nb">base64</span> <span class="nt">-d</span><span class="si">)</span>
 kumactl config control-planes add <span class="se">\</span>
 <span class="nt">--name</span><span class="o">=</span>cp-admin <span class="se">\</span>
 <span class="nt">--address</span><span class="o">=</span>https://localhost:5682 <span class="se">\</span>
 <span class="nt">--skip-verify</span><span class="o">=</span><span class="nb">true</span> <span class="se">\</span>
 <span class="nt">--auth-type</span><span class="o">=</span>tokens <span class="se">\</span>
 <span class="nt">--auth-conf</span> <span class="nv">token</span><span class="o">=</span><span class="nv">$ADMIN_TOKEN</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Configure backend-owner:</p>

    <div class="language-sh highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nb">export </span><span class="nv">BACKEND_OWNER_TOKEN</span><span class="o">=</span><span class="si">$(</span>kumactl generate user-token <span class="nt">--valid-for</span><span class="o">=</span>24h <span class="nt">--name</span> backend-owner<span class="si">)</span>
 kumactl config control-planes add <span class="se">\</span>
 <span class="nt">--name</span><span class="o">=</span>cp-backend-owner <span class="se">\</span>
 <span class="nt">--address</span><span class="o">=</span>https://localhost:5682 <span class="se">\</span>
 <span class="nt">--skip-verify</span><span class="o">=</span><span class="nb">true</span> <span class="se">\</span>
 <span class="nt">--auth-type</span><span class="o">=</span>tokens <span class="se">\</span>
 <span class="nt">--auth-conf</span> <span class="nv">token</span><span class="o">=</span><span class="nv">$BACKEND_OWNER_TOKEN</span>
 kumactl config control-planes switch <span class="nt">--name</span> cp-admin <span class="c"># switch back to admin</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Change default Kong Mesh RBAC to restrict access to resources by default:</p>

    <div class="language-sh highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nb">echo</span> <span class="s2">"type: AccessRoleBinding
 name: default
 subjects:
 - type: Group
   name: mesh-system:admin
 roles:
 - admin"</span> | kumactl apply <span class="nt">-f</span> -
</code></pre></div>    </div>
  </li>
  <li>
    <p>Create Kong Mesh RBAC to restrict backend-owner to only modify <code class="language-plaintext highlighter-rouge">TrafficPermission</code> for backend:</p>

    <div class="language-sh highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> <span class="nb">echo</span> <span class="s1">'
 type: AccessRole
 name: backend-owner
 rules:
 - types: ["TrafficPermission"]
   mesh: default
   access: ["CREATE", "UPDATE", "DELETE"]
   when:
   - destinations:
       match:
         kuma.io/service: backend
 '</span> | kumactl apply <span class="nt">-f</span> -
 <span class="nb">echo</span> <span class="s1">'
 type: AccessRoleBinding
 name: backend-owners
 subjects:
 - type: User
   name: backend-owner
 roles:
 - backend-owner'</span> | kumactl apply <span class="nt">-f</span> -
</code></pre></div>    </div>
  </li>
  <li>
    <p>Change the user and test RBAC:</p>

    <div class="language-sh highlighter-rouge">
<div class="highlight"><pre class="highlight"><code> kumactl config control-planes switch <span class="nt">--name</span> cp-backend-owner
 <span class="nb">echo</span> <span class="s2">"
 type: TrafficPermission
 mesh: default
 name: web-to-backend
 sources:
 - match:
     kuma.io/service: web
 destinations:
 - match:
     kuma.io/service: backend
 "</span> | kumactl apply <span class="nt">-f</span> -
 <span class="c"># this operation should succeed</span>

 <span class="nb">echo</span> <span class="s2">"
 type: TrafficPermission
 mesh: default
 name: web-to-backend
 sources:
 - match:
     kuma.io/service: web
 destinations:
 - match:
     kuma.io/service: other
 "</span> | kumactl apply <span class="nt">-f</span> -
 Error: Access Denied <span class="o">(</span>user <span class="s2">"backend-owner/mesh-system:authenticated"</span> cannot access the resource<span class="o">)</span>
</code></pre></div>    </div>
  </li>
</ol>


    </div>
  
  </div>
</div>


    </div>
  
  </div>
</div>

<h2 id="multi-zone">Multi-zone</h2>

<p>In a multi-zone setup, <code class="language-plaintext highlighter-rouge">AccessRole</code> and <code class="language-plaintext highlighter-rouge">AccessRoleBinding</code> are not synchronized between the global control plane and the zone control plane.</p>

<h2 id="wildcard-tag-value-matching">Wildcard tag value matching</h2>

<blockquote class="note">
  <p><strong>Note</strong>: This feature is available starting in Kong Mesh 1.9.1</p>
</blockquote>

<blockquote class="note">
  <p><strong>Note</strong>: This feature currently only works with â€œSource and Destinationâ€ selectors. This limitation restricts using newer policy types like <code class="language-plaintext highlighter-rouge">MeshTrafficPermission</code>, <code class="language-plaintext highlighter-rouge">MeshAccessLog</code>, or <code class="language-plaintext highlighter-rouge">MeshHTTPRoute</code>.</p>
</blockquote>

<p>You can perform partial tag value matching using <code class="language-plaintext highlighter-rouge">*</code> wildcards.</p>

<p>For example, the following role:</p>

<div class="navtabs  ">
  <div class="navtab-titles" role="tablist">
  
    
    <div data-slug="kubernetes" data-navtab-id="navtab-fb933a0d-08fb-4f9b-b538-729dfd376f6a-0" class="navtab-title" role="tab" aria-controls="navtab-id-0" tabindex="0">
      Kubernetes
    </div>
  
    
    <div data-slug="universal" data-navtab-id="navtab-fb933a0d-08fb-4f9b-b538-729dfd376f6a-1" class="navtab-title" role="tab" aria-controls="navtab-id-1" tabindex="0">
      Universal
    </div>
  
  </div>
  <div class="navtab-contents">
  
    
    <div data-panel="kubernetes" data-navtab-content="navtab-fb933a0d-08fb-4f9b-b538-729dfd376f6a-0" class="navtab-content" role="tabpanel" id="navtab-id-0" tabindex="0" aria-labelledby="navtab-id-0">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">kuma.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">AccessRole</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">role-wildcard</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">rules</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">types</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">TrafficRoute"</span><span class="pi">]</span>
    <span class="na">mesh</span><span class="pi">:</span> <span class="s">default</span>
    <span class="na">access</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">CREATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">UPDATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">DELETE"</span><span class="pi">]</span>
    <span class="na">when</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">sources</span><span class="pi">:</span>
        <span class="na">match</span><span class="pi">:</span>
          <span class="na">k8s.kuma.io/namespace</span><span class="pi">:</span> <span class="s">orders</span>
      <span class="na">destinations</span><span class="pi">:</span>
        <span class="na">match</span><span class="pi">:</span>
          <span class="na">kuma.io/service</span><span class="pi">:</span> <span class="s1">'</span><span class="s">*_orders_*'</span>
</code></pre></div></div>

    </div>
  
    
    <div data-panel="universal" data-navtab-content="navtab-fb933a0d-08fb-4f9b-b538-729dfd376f6a-1" class="navtab-content" role="tabpanel" id="navtab-id-1" tabindex="0" aria-labelledby="navtab-id-1">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">type</span><span class="pi">:</span> <span class="s">AccessRole</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">role-wildcard</span>
<span class="na">rules</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">types</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">TrafficRoute"</span><span class="pi">]</span>
  <span class="na">mesh</span><span class="pi">:</span> <span class="s">default</span>
  <span class="na">access</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">CREATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">UPDATE"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">DELETE"</span><span class="pi">]</span>
  <span class="na">when</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">sources</span><span class="pi">:</span>
      <span class="na">match</span><span class="pi">:</span>
        <span class="na">k8s.kuma.io/namespace</span><span class="pi">:</span> <span class="s">orders</span>
    <span class="na">destinations</span><span class="pi">:</span>
      <span class="na">match</span><span class="pi">:</span>
        <span class="na">kuma.io/service</span><span class="pi">:</span> <span class="s1">'</span><span class="s">*_orders_*'</span>
</code></pre></div></div>

    </div>
  
  </div>
</div>

<p>would allow a subject to create the following resource:</p>

<div class="navtabs  ">
  <div class="navtab-titles" role="tablist">
  
    
    <div data-slug="kubernetes" data-navtab-id="navtab-0ae5544a-121e-492a-9a09-dbc28f4545df-0" class="navtab-title" role="tab" aria-controls="navtab-id-0" tabindex="0">
      Kubernetes
    </div>
  
    
    <div data-slug="universal" data-navtab-id="navtab-0ae5544a-121e-492a-9a09-dbc28f4545df-1" class="navtab-title" role="tab" aria-controls="navtab-id-1" tabindex="0">
      Universal
    </div>
  
  </div>
  <div class="navtab-contents">
  
    
    <div data-panel="kubernetes" data-navtab-content="navtab-0ae5544a-121e-492a-9a09-dbc28f4545df-0" class="navtab-content" role="tabpanel" id="navtab-id-0" tabindex="0" aria-labelledby="navtab-id-0">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">kuma.io/v1alpha1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">TrafficRoute</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">tr-orders</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">sources</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">match</span><span class="pi">:</span>
      <span class="na">k8s.kuma.io/namespace</span><span class="pi">:</span> <span class="s1">'</span><span class="s">orders'</span>
  <span class="na">destinations</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">match</span><span class="pi">:</span>
      <span class="na">kuma.io/service</span><span class="pi">:</span> <span class="s">web_orders_svc_1000</span>
  <span class="pi">-</span> <span class="na">match</span><span class="pi">:</span>
      <span class="na">kuma.io/service</span><span class="pi">:</span> <span class="s">backend_orders_svc_1000</span>
  <span class="na">conf</span><span class="pi">:</span>
    <span class="na">destination</span><span class="pi">:</span>
      <span class="na">kuma.io/service</span><span class="pi">:</span> <span class="s1">'</span><span class="s">*'</span>
</code></pre></div></div>

    </div>
  
    
    <div data-panel="universal" data-navtab-content="navtab-0ae5544a-121e-492a-9a09-dbc28f4545df-1" class="navtab-content" role="tabpanel" id="navtab-id-1" tabindex="0" aria-labelledby="navtab-id-1">
      
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">type</span><span class="pi">:</span> <span class="s">TrafficRoute</span>
<span class="na">mesh</span><span class="pi">:</span> <span class="s">default</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">tr-orders</span>
<span class="na">sources</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">match</span><span class="pi">:</span>
    <span class="na">k8s.kuma.io/namespace</span><span class="pi">:</span> <span class="s1">'</span><span class="s">orders'</span>
<span class="na">destinations</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">match</span><span class="pi">:</span>
    <span class="na">kuma.io/service</span><span class="pi">:</span> <span class="s">web_orders_svc_1000</span>
<span class="pi">-</span> <span class="na">match</span><span class="pi">:</span>
    <span class="na">kuma.io/service</span><span class="pi">:</span> <span class="s">backend_orders_svc_1000</span>
<span class="na">conf</span><span class="pi">:</span>
  <span class="na">destination</span><span class="pi">:</span>
    <span class="na">kuma.io/service</span><span class="pi">:</span> <span class="s1">'</span><span class="s">*'</span>
</code></pre></div></div>

    </div>
  
  </div>
</div>

<h2 id="what-should-i-do-if-ive-locked-myself-out">What should I do if Iâ€™ve locked myself out?</h2>

<p>If you remove the default <code class="language-plaintext highlighter-rouge">AccessRoleBinding</code> and <code class="language-plaintext highlighter-rouge">AccessRole</code>, you might find yourself locked out and unable to edit any resources. If you encounter this situation, you can regain access to the cluster by following these steps:</p>

<ol>
  <li>
<a href="/mesh/2.2.x/documentation/configuration/#modifying-the-configuration">Configure the control-plane</a> by setting the: <code class="language-plaintext highlighter-rouge">KUMA_ACCESS_TYPE</code> environment variable to <code class="language-plaintext highlighter-rouge">static</code>, and then restart the control-plane.</li>
  <li>Create the default <code class="language-plaintext highlighter-rouge">AccessRoleBinding</code> and <code class="language-plaintext highlighter-rouge">AccessRole</code> (as described in the <a href="/mesh/2.2.x/features/rbac/#default">default section</a>), or add new groups if necessary.</li>
  <li>Remove the <code class="language-plaintext highlighter-rouge">KUMA_ACCESS_TYPE</code> environment variable for the control-plane and restart the control-plane.</li>
</ol>



          

        </div>
      </div>
    </div>
    
      <div id="scroll-to-top-button">
        <i class="fas fa-chevron-up"></i>
      </div>
      
        <div class="feedback-widget-container">
  <input id="feedback-widget-checkbox" type="checkbox">
  <label for="feedback-widget-checkbox">
    <img src="/assets/images/icons/feedback-widget.svg" alt="Feedback widget">
  </label>
  <div class="feedback-container">
    <div class="feedback-thankyou">
      Thank you for your feedback.
    </div>
    <div class="feedback-comment">
      <textarea id="feedback-comment-text" rows="3" placeholder="Please let us know what we can improve on this page..."></textarea>
      <div class="feedback-comment-buttons">
        <button id="feedback-comment-button-back">Back</button>
        <button id="feedback-comment-button-submit" class="button-primary">Submit</button>
      </div>
    </div>
    <div class="feedback-options">
      <div class="feedback-options-title">Was this page useful?</div>
      <div class="feedback-options-buttons">
        <i data-feedback-result="yes" class="feedback-options-button far fa-thumbs-up"></i>
        <i data-feedback-result="no" class="feedback-options-button far fa-thumbs-down"></i>
      </div>
    </div>
  </div>
</div>

      
    
  </div>

  <div id="image-modal" data-image-expand-disabled="">
  <div class="image-modal-backdrop"></div>
  <div class="image-container">
    <img src="" alt="">
    <i class="fa fa-times"></i>
  </div>
</div>




  <div class="modal closed" id="modal" role="dialog" aria-hidden="true" aria-labelledby="title" aria-describedby="description">
    <div class="konnect-cta-card">
      <div class="title">
      Too much on your plate?
      <a href="#" class="cta-card-close modal-close" id="modal-close">
          <img src="/assets/images/icons/documentation/close.svg" alt="close cta icon">
        </a>
      </div>
      <div class="description">More features, less infrastructure with Kong Konnect. 1M requests per month for free.</div>
      <a href="https://konghq.com/products/kong-konnect/register?utm_medium=referral&amp;utm_source=docs&amp;utm_campaign=gateway-konnect&amp;utm_campaign=right-nav-card&amp;utm_content=mesh" class="button" target="_blank" rel="noopener nofollow noreferrer ">
      Try it for Free
    </a>
    </div>
  </div>
  <div id="modal-open" class="modal-open"></div>
  <div class="modal-overlay closed" id="modal-overlay"></div>


    <footer class="marketing-footer--light-gray">
  <section>
    <ul class="newsletter">
      <li class="logo-wrapper">
        <div class="logo">
          <img src="/assets/images/logos/konglogo-light-theme-primary.svg" alt="Kong">
        </div>
        <div class="footer-title">Powering the API world</div>
        <p>
          Increase developer productivity, security, and performance at scale with the unified platform for API management, service mesh, and ingress controller.
        </p>
        <div class="footer-form-container">
          <form id="subscribe-form" method="POST" action="/assets/javascripts/subscribe.js">
            <input required id="subscribe-input" type="email" name="email" placeholder="Email" aria-required="true" aria-invalid="false">
            <input id="footer-form-button" type="submit" form="subscribe-form" value="Subscribe">
          </form>

          <div id="form-response"></div>
        </div>
      </li>

      <li class="footer-columns">
        <ul class="footer-columns-product-list">
          <li>
            <nav>
              <div class="footer-category">Products</div>
              <ul>
                <li>
                  <a href="https://konghq.com/products/kong-konnect" target="_blank" rel="noopener nofollow noreferrer ">Kong Konnect</a>
                </li>
                <li>
                  <a href="https://konghq.com/products/kong-enterprise" target="_blank" rel="noopener nofollow noreferrer ">Kong Gateway Enterprise</a>
                </li>
                <li>
                  <a href="https://konghq.com/products/kong-gateway" target="_blank" rel="noopener nofollow noreferrer ">Kong Gateway</a>
                </li>
                <li>
                  <a href="https://konghq.com/products/kong-mesh" target="_blank" rel="noopener nofollow noreferrer ">Kong Mesh</a>
                </li>
                <li>
                  <a href="https://konghq.com/products/kong-ingress-controller" target="_blank" rel="noopener nofollow noreferrer ">Kong Ingress Controller</a>
                </li>
                <li>
                  <a href="https://insomnia.rest/" target="_blank" rel="noopener nofollow noreferrer noopener nofollow noreferrer">Kong Insomnia</a>
                </li>
                <li>
                  <a href="https://konghq.com/product-updates" target="_blank" rel="noopener nofollow noreferrer ">Product Updates</a>
                </li>
                <li>
                  <a href="https://konghq.com/contact-sales" target="_blank" rel="noopener nofollow noreferrer ">Get Started</a>
                </li>
              </ul>
            </nav>
          </li>
          <li>
            <nav>
              <div class="footer-category">Documentation</div>
              <ul>
                <li>
                  <a href="/konnect/">Kong Konnect Docs</a>
                </li>
                <li>
                  <a href="/gateway/latest/">Kong Gateway Docs</a>
                </li>
                <li>
                  <a href="/gateway/latest/kong-enterprise/">Kong Gateway Enterprise Docs</a>
                </li>
                <li>
                  <a href="/mesh/latest/">Kong Mesh Docs</a>
                </li>
                <li>
                  <a href="https://docs.insomnia.rest/" target="_blank" rel="noopener nofollow noreferrer noopener nofollow noreferrer">Kong Insomnia Docs</a>
                </li>
                <li>
                  <a href="/hub/">Kong Konnect Plugin Hub</a>
                </li>
              </ul>
            </nav>
          </li>
          <li>
            <nav>
              <div class="footer-category">Open Source</div>
              <ul>
                <li>
                  <a href="https://konghq.com/install/#kong-community" target="_blank" rel="noopener nofollow noreferrer ">Kong Gateway</a>
                </li>
                <li>
                  <a href="https://kuma.io/" target="_blank" rel="noopener nofollow noreferrer noopener nofollow noreferrer">Kuma</a>
                </li>
                <li>
                  <a href="https://insomnia.rest/" target="_blank" rel="noopener nofollow noreferrer noopener nofollow noreferrer">Insomnia</a>
                </li>
                <li>
                  <a href="https://konghq.com/community" target="_blank" rel="noopener nofollow noreferrer ">Kong Community</a>
                </li>
              </ul>
            </nav>
          </li>
          <li>
            <nav>
              <div class="footer-category">Company</div>
              <ul>
                <li>
                  <a href="https://konghq.com/company/about-us" target="_blank" rel="noopener nofollow noreferrer ">About Kong</a>
                </li>
                <li>
                  <a href="https://konghq.com/customers" target="_blank" rel="noopener nofollow noreferrer ">Customers</a>
                </li>
                <li>
                  <a href="https://konghq.com/company/careers" target="_blank" rel="noopener nofollow noreferrer ">Careers</a>
                </li>
                <li>
                  <a href="https://konghq.com/press-room" target="_blank" rel="noopener nofollow noreferrer ">Press</a>
                </li>
                <li>
                  <a href="https://konghq.com/events" target="_blank" rel="noopener nofollow noreferrer ">Events</a>
                </li>
                <li>
                  <a href="https://konghq.com/company/contact-us" target="_blank" rel="noopener nofollow noreferrer ">Contact</a>
                </li>
              </ul>
            </nav>
          </li>
        </ul>
      </li>

    </ul>
  </section>

  <section class="legal">
    <div class="container d-flex">
      <div class="social">
        <div class="social-link">
          <a href="https://www.facebook.com/konghq/" title="Facebook" target="_blank" rel="noopener nofollow noreferrer "><i aria-label="Facebook" class="fa fa-facebook-official" aria-hidden="true"></i></a>
        </div>
        <div class="social-link">
          <a href="https://twitter.com/thekonginc" title="Twitter" target="_blank" rel="noopener nofollow noreferrer "><i aria-label="Twitter" class="fa fa-twitter" aria-hidden="true"></i></a>
        </div>
        <div class="social-link">
          <a href="https://www.meetup.com/topics/kong/all/" title="Meetup" target="_blank" rel="noopener nofollow noreferrer "><i aria-label="Meetup" class="fa fa-meetup" aria-hidden="true"></i></a>
        </div>
        <div class="social-link">
          <a href="https://linkedin.com/company/278819" title="LinkedIn" target="_blank" rel="noopener nofollow noreferrer "><i aria-label="GitHub" class="fa fa-linkedin" aria-hidden="true"></i></a>
        </div>
        <div class="social-link">
          <a href="https://github.com/kong/kong" target="_blank" class="btn-gh" title="GitHub" rel="noopener nofollow noreferrer ">
            <i class="fa fa-github" aria-hidden="true" aria-label="GitHub"></i>
          </a>
        </div>
      </div>
      <ul>
        <li>
          <span class="mashape-footer-content">
            <a href="https://konghq.com/legal/terms-of-use" target="_blank" rel="noopener nofollow noreferrer ">Terms</a><b>â€¢</b>
            <a href="https://konghq.com/legal/privacy-policy" target="_blank" rel="noopener nofollow noreferrer ">Privacy</a><b>â€¢</b>
            <a href="https://konghq.com/compliance" target="_blank" rel="noopener nofollow noreferrer ">Trust and Compliance</a>
          </span>
        </li>
      </ul>
      <div>
        <span>Â© Kong Inc. 2024 Â </span>
      </div>
    </div>
  </section>
</footer>
 <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<i class=\"fa fa-link\"></i>";
    anchor.title = `${id} Permalink`;
    return anchor;
  };

  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var className =
        ".show-anchor-links h1, .show-anchor-links h2, .show-anchor-links h3, " +
        ".show-anchor-links h4, .show-anchor-links h5, .show-anchor-links h6";
      var headers = document.querySelectorAll(className);

      for (var i = 0; i < headers.length; i++) {
        var header = headers[i];
        if (typeof header.id !== "undefined" && header.id !== "") {
          header.prepend(anchorForId(header.id));
        }
      }
    }
  };
</script>


    
      <script>
        (function stp(){
          if (typeof analytics == "undefined"){
            return setTimeout(stp, 30);
          }
          analytics.page();
        })();
      </script>
    

    <div id="fb-root"></div>
    <script id="github-bjs" src="https://buttons.github.io/buttons.js" async defer></script>

    <script type="text/javascript">
      var _vwo_code = (function() {
        var account_id = 125292,
          settings_tolerance = 2000,
          library_tolerance = 2500,
          use_existing_jquery = true,
          // DO NOT EDIT BELOW THIS LINE
          f = false,
          d = document;
        return {
          use_existing_jquery: function() {
            return use_existing_jquery;
          },
          library_tolerance: function() {
            return library_tolerance;
          },
          finish: function() {
            if (!f) {
              f = true;
              var a = d.getElementById('_vis_opt_path_hides');
              if (a) a.parentNode.removeChild(a);
            }
          },
          finished: function() {
            return f;
          },
          load: function(a) {
            var b = d.createElement('script');
            b.src = a;
            b.type = 'text/javascript';
            b.innerText;
            b.onerror = function() {
              _vwo_code.finish();
            };
            d.getElementsByTagName('head')[0].appendChild(b);
          },
          init: function() {
            settings_timer = setTimeout(
              '_vwo_code.finish()',
              settings_tolerance
            );
            this.load(
              '//dev.visualwebsiteoptimizer.com/j.php?a=' +
                account_id +
                '&u=' +
                encodeURIComponent(d.URL) +
                '&r=' +
                Math.random()
            );
            var a = d.createElement('style'),
              b = '',
              h = d.getElementsByTagName('head')[0];
            a.setAttribute('id', '_vis_opt_path_hides');
            a.setAttribute('type', 'text/css');
            if (a.styleSheet) a.styleSheet.cssText = b;
            else a.appendChild(d.createTextNode(b));
            h.appendChild(a);
            return settings_timer;
          }
        };
      })();
      _vwo_settings_timer = _vwo_code.init();
    </script>

    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>

    
      <script type="text/javascript">
        docsearch({
          appId: '05Y6TLHNFZ',
          apiKey: '80483bfe28d9fd036a11a6f6a06454f8',
          indexName: 'konghq',
          container: '#getkong-algolia-search-input',
          disableUserPersonalization: true,
          placeholder: 'Search the docs...',
          // Override selected event to allow for local environment navigation
          transformItems(items) {
            return items.map((item) => {
              var modifiedUrl = window.location.protocol + '//' + window.location.host + item.url.split('docs.konghq.com')[1];
              return { ...item, url: modifiedUrl };
            });
          },
          translations: {
            button: {
              buttonText: 'Search the docs..',
              buttonAriaLabel: 'Search the docs...'
            }
          },
          resultsFooterComponent({ state }) {
            var facetParameters = {};
            
              facetParameters = {"version[0]":"2.2.x","product[0]":"Kong Mesh"};
            

            var queryParams = new URLSearchParams(facetParameters);
            queryParams.set('query', state.query);

            return {
              // The HTML `tag`
              type: 'a',
              ref: undefined,
              constructor: undefined,
              key: state.query,
              // Its props
              props: {
                href: `/search/?${queryParams.toString()}`,
                target: '_blank',
                // Raw text rendered in the HTML element
                children: 'See more >'
              },
              __v: null,
            };
          },
          
           searchParameters: {
              optionalFilters: ['product:Kong Mesh<score=1>'],
              facetFilters: [ 'version:2.2.x']
            }
            
          });
      </script>
    
  </div>
</body>

  

</html>
