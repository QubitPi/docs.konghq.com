<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Article">

  

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
    <!-- OneTrust Cookies Consent Notice start for konghq.com -->
    <script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" type="text/javascript" charset="UTF-8" data-domain-script="2c4de954-6bec-4e93-8086-64cb113f151a">
    </script>
    <script type="text/javascript">
    function OptanonWrapper() { }
    </script>
    <!-- OneTrust Cookies Consent Notice end for konghq.com -->

    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-NL48VKT');</script>
    <!-- End Google Tag Manager -->
  

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Prometheus - Plugin - v3.7.x | Kong Docs</title>
  <meta name="description" content="Documentation for Kong, the Cloud Connectivity Company for APIs and Microservices.">
  <meta name="author" content="KongHQ">
  <meta property="og:title" content="Prometheus - Plugin - v3.7.x | Kong Docs">
  <meta property="og:site_name" content="Kong Docs">
  <!-- use share link for facebook -->
  <meta property="og:url" content="https://docs.konghq.com">
  <meta property="og:description" content="Documentation for Kong, the Cloud Connectivity Company for APIs and Microservices.">
  <meta property="og:type" content="website">
  <meta property="og:locale" content="en_US">
  <meta property="og:image" content="https://docs.konghq.com/assets/images/share.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@thekonginc">
  <meta name="twitter:creator" content="@thekonginc">
  <meta name="twitter:url" content="https://docs.konghq.com">
  <meta name="twitter:description" content="Documentation for Kong, the Cloud Connectivity Company for APIs and Microservices.">
  <meta name="twitter:image" content="https://docs.konghq.com/assets/images/share.png">
  <meta property="fb:admins" content="227304446">
  <meta property="fb:admins" content="576641408">
  <meta name="google-site-verification" content="CrU3zp02dNKTe8NSAipL4NCPkrIjDXG8fViTZ-MIzP4">

  

  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "name": "KongHQ",
      "url": "https://docs.konghq.com",
      "logo": "https://docs.konghq.com/assets/images/logo.png",
      "sameAs": [
        "https://www.facebook.com/konginc",
        "https://twitter.com/thekonginc",
        "https://plus.google.com/+mashape"
      ]
    }
  </script>

  <!-- Preload assets -->
  <link rel="dns-prefetch" href="https://cloud.typography.com">
  <link rel="dns-prefetch" href="https://dev.visualwebsiteoptimizer.com">
  <link rel="dns-prefetch" href="https://cdn.segment.com">

  <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3">

  
    <link rel="canonical" href="https://docs.konghq.com/hub/kong-inc/prometheus/">
  

  
    <meta name="robots" content="follow,noindex">
  

  <!-- FontAwesome icon font -->
  <script src="https://kit.fontawesome.com/1332a92967.js" crossorigin="anonymous">
  </script>

  
  <script src="/vite/assets/application-DqmI9sc2.js" crossorigin="anonymous" type="module"></script>
<link href="/vite/assets/_commonjsHelpers-Cpj98o6Y.js" rel="modulepreload" as="script" crossorigin="anonymous">


  

  

  <link rel="stylesheet" href="/vite/assets/application-CrIf7Il_.css" media="screen">

  
</head>


  <body id="" data-spy="scroll" data-target="#scroll-sidebar" data-offset="350">

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NL48VKT" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <header class="navbar-v2 closed">
  <a class="skip-main" href="#main">Skip to content</a>
  <!-- uncomment the promo-banner div when adding a new promo banner-->
  <!--also uncomment the promo banner sections in app/assets/stylesheets/header.less and application.js-->
  <!-- <div id="promo-banner">
    <div class="container">
      <div class="closebanner"></div> <strong>2024 API Summit Hackathon: Experiment with API Innovation & AI. Submit by Sept 11 &nbsp;&mdash;<a href="https://konghq.com/conferences/kong-summit/hackathon?utm_medium=website&utm_source=docs-konghq-com&utm_campaign=docs-banner">Enter Now &rarr;</a> </strong>
    </div>
  </div> -->
  <div class="navbar-content">
    <a href="https://konghq.com" class="navbar-brand col col-xl-auto" target="_blank" rel="noopener noreferrer">
      <img src="/assets/images/logos/konglogo-dark-theme.svg" alt="Kong Logo" id="kong-logo">
    </a>
    <span class="logo-divider">|</span>
    <a href="/" class="navbar-brand col col-xl-auto">
      <img src="/assets/images/logos/docslogo-dark-theme.svg" alt="Kong Docs Logo" id="kong-docs-logo">
    </a>

    <div class="separator mobile"></div>
      <div class="search-input-wrapper" id="getkong-algolia-search-input">
    </div>

    <div class="search-results-wrapper"></div>

    <div class="navbar-items" role="navigation" aria-label="Main menu">
      <ul class="navbar-items" role="menubar">
        <li id="top-module-list" aria-haspopup="true" role="menuitem" aria-expanded="false" class="navbar-item main-menu-item with-submenu  active">
          <span tabindex="0" id="docs-link" class="main-menu-item-title">Docs</span>
          <span class="caret"></span>
          <ul class="navbar-item-submenu" role="menu">
            <div class="submenu-section">
              <li role="menuitem" class="docs-dropdown-li">
                <a href="/api/" class="docs-dropdown-li__link" tabindex="-1">
                  <div class="docs-dropdown-li__card">
                    <span class="heading">Explore the API Specs</span>
                    <div class="docs-dropdown-li__card-link">
                      <img src="/assets/images/landing-page/view-all-api-specs.png" alt="View all API Specs">
                      <span class="docs-dropdown-li__card-image">
                        View all API Specs
                        <img src="/assets/images/landing-page/arrow-right.svg" alt="View all API Specs arrow image">
                      </span>
                    </div>
                  </div>
                </a>
              </li>

              <li role="menuitem" class="docs-dropdown-li" tabindex="-1">
                <div class="docs-dropdown-li__section">
                  <div class="docs-dropdown-li__section-title">
                    <span class="heading">Documentation</span>
                  </div>

                  <div class="docs-dropdown-li__section-items">
                    <a class="item item-all" href="/api/" tabindex="-1">
                      <div class="item__description">
                        <div class="item__description-title">API Specs</div>
                      </div>
                    </a>
                    
                      <a class="item" href="/gateway/latest/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong Gateway</div>
                          <div class="item__description-desc">Lightweight, fast, and flexible cloud-native API gateway</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/konnect/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong Konnect</div>
                          <div class="item__description-desc">Single platform for SaaS end-to-end connectivity</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/gateway/latest/ai-gateway/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong AI Gateway</div>
                          <div class="item__description-desc">Multi-LLM AI Gateway for GenAI infrastructure</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/mesh/latest/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong Mesh</div>
                          <div class="item__description-desc">Enterprise service mesh based on Kuma and Envoy</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/deck/latest/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">decK</div>
                          <div class="item__description-desc">Helps manage Kong’s configuration in a declarative fashion</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/kubernetes-ingress-controller/latest/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong Ingress Controller</div>
                          <div class="item__description-desc">Works inside a Kubernetes cluster and configures Kong to proxy traffic</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/gateway-operator/latest/" tabindex="-1">
                        
                        <div class="item__description">
                          <div class="item__description-title">Kong Gateway Operator</div>
                          <div class="item__description-desc">Manage your Kong deployments on Kubernetes using YAML Manifests</div>
                        </div>
                      </a>
                    
                      <a class="item" href="https://docs.insomnia.rest/" tabindex="-1" target="_blank" rel="noopener nofollow noreferrer ">
                        
                        <div class="item__description">
                          <div class="item__description-title">Insomnia</div>
                          <div class="item__description-desc">Collaborative API development platform</div>
                        </div>
                      </a>
                    
                  </div>
                </div>
              </li>

            </div>
          </ul>
        </li>

        <li role="menuitem" aria-haspopup="true" aria-expanded="false" class="navbar-item main-menu-item with-submenu navbar-item-hub">
          <span id="plugin-link" class="main-menu-item-title" tabindex="0">Plugin Hub</span>
          <span class="caret"></span>
          <ul class="navbar-item-submenu" role="menu">
            <div class="submenu-section">
              <li role="menuitem" class="docs-dropdown-li">
                <a href="/hub/" class="docs-dropdown-li__link" tabindex="-1">
                  <div class="docs-dropdown-li__card">
                    <span class="heading">Explore the Plugin Hub</span>
                    <div class="docs-dropdown-li__card-link">
                      <img src="/assets/images/landing-page/view-all-plugins.svg" alt="View all plugins">
                      <span class="docs-dropdown-li__card-image">
                        View all plugins
                        <img src="/assets/images/landing-page/arrow-right.svg" alt="View all plugins arrow image">
                      </span>
                    </div>
                  </div>
                </a>
              </li>

              <li role="menuitem" class="docs-dropdown-li">
                <div class="docs-dropdown-li__section">
                  <div class="docs-dropdown-li__section-title">
                    <span class="heading">Functionality</span>
                    <a href="/hub/" class="view-all" tabindex="-1">
                      View all
                      <img src="/assets/images/landing-page/arrow-right.svg" alt="View all arrow image">
                    </a>
                  </div>

                  <div class="docs-dropdown-li__section-items">
                    <a class="item item-all" href="/hub/" tabindex="-1">
                      <div class="item__description">
                        <div class="item__description-title">View all plugins</div>
                      </div>
                    </a>

                    
                      <a class="item" href="/hub/?category=ai" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/ai.svg" alt="AI's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">AI</div>
                          <div class="item__description-desc">Govern, secure, and control AI traffic with multi-LLM AI Gateway plugins</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=authentication" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/lock_person.svg" alt="Authentication's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Authentication</div>
                          <div class="item__description-desc">Protect your services with an authentication layer</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=security" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/shield.svg" alt="Security's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Security</div>
                          <div class="item__description-desc">Protect your services with additional security layer</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=traffic-control" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/route.svg" alt="Traffic Control's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Traffic Control</div>
                          <div class="item__description-desc">Manage, throttle and restrict inbound and outbound API traffic</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=serverless" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/serverless.svg" alt="Serverless's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Serverless</div>
                          <div class="item__description-desc">Invoke serverless functions in combination with other plugins</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=analytics-monitoring" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/bar_chart.svg" alt="Analytics &amp; Monitoring's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Analytics &amp; Monitoring</div>
                          <div class="item__description-desc">Visualize, inspect and monitor APIs and microservices traffic</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=transformations" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/swap_horiz.svg" alt="Transformations's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Transformations</div>
                          <div class="item__description-desc">Transform request and responses on the fly on Kong</div>
                        </div>
                      </a>
                    
                      <a class="item" href="/hub/?category=logging" tabindex="-1">
                        <div>
                          <img src="/assets/images/nav/hub/list_alt.svg" alt="Logging's icon">
                        </div>
                        <div class="item__description">
                          <div class="item__description-title">Logging</div>
                          <div class="item__description-desc">Log request and response data using the best transport for your infrastructure</div>
                        </div>
                      </a>
                    

                  </div>
                </div>
              </li>
            </div>
          </ul>
        </li>
        <li role="menuitem" class="main-menu-item">
          <a href="https://support.konghq.com/" class="navbar-item" target="_blank" rel="noopener nofollow noreferrer ">Support</a>
        </li>
        <li role="menuitem" class="main-menu-item">
          <a href="https://konghq.com/community/" class="navbar-item" target="_blank" rel="noopener noreferrer">Community</a>
        </li>
        <li role="menuitem" class="main-menu-item">
          <a href="https://education.konghq.com" class="navbar-item" target="_blank" rel="noopener nofollow noreferrer ">Kong Academy</a>
        </li>
      </ul>
      <a id="top-cta" href="https://konghq.com/contact-sales?utm_source=docs.konghq.com" class="navbar-button" target="_blank" rel="noopener nofollow noreferrer ">
        Get a Demo
      </a>
      <a id="konnect-cta" href="https://konghq.com/products/kong-konnect/register?utm_medium=referral&amp;utm_source=docs&amp;utm_campaign=gateway-konnect&amp;utm_content=top-nav" class="navbar-button" target="_blank" rel="noopener nofollow noreferrer ">
        Start Free Trial
      </a>
    </div>
    <div id="navbar-menu-toggle-button" class="small-screen-button" aria-label="Toggle navigation">
      <div></div>
      <div></div>
      <div></div>
    </div>
  </div>
</header>


    

<!-- BEGIN PAGE OUTPUT -->
<div class="search-selector">Plugin Hub</div>

<div class="page v2 hub" data-url="/hub/kong-inc/prometheus/3.7.x/">
  <div class="page--header-background"></div>
  <div class="container">
    


<header class="page-header">
  <div class="page-header--nav">
    <i class="sidebar-toggle"></i>

    
      <ul class="breadcrumbs">
        <li class="breadcrumb-item">
          <a href="/hub/">
            <img src="/assets/images/icons/hub-layout/icn-breadcrumbs.svg" alt="Plugin Hub icon">
          </a>
        </li>
        
          <li class="breadcrumb-item">
            
              <a href="/hub/?category=analytics-monitoring">Analytics &amp; Monitoring</a>
            
          </li>
        
          <li class="breadcrumb-item active">
            
              <a href="/hub/kong-inc/prometheus/3.7.x/">Prometheus</a>
            
          </li>
        
          <li class="breadcrumb-item">
            
              Introduction
            
          </li>
        
          <li class="breadcrumb-item active">
            
              <a href="/hub/kong-inc/prometheus/3.7.x/">Overview</a>
            
          </li>
        
      </ul>
    

    <div class="github-links">
  <div class="github-links--edit">
    
      <a href="https://github.com/Kong/docs.konghq.com/edit/main/app/_hub/kong-inc/prometheus/overview/_index.md" target="_blank" rel="noopener nofollow noreferrer ">
        <img src="/assets/images/icons/third-party/logo-github-white.svg" alt="github-edit-page">Edit this page
      </a>
    
  </div>
  <div class="github-links--issues">
    <a href="https://github.com/Kong/docs.konghq.com/issues" target="_blank" rel="noopener nofollow noreferrer ">
      <img src="/assets/images/icons/documentation/icn-monitoring-white.svg" alt="report-issue">Report an issue</a>
  </div>
</div>


  </div>
  <div class="page-header--info">
    <div class="page-header--info-icon">
      
      <img src="/assets/images/icons/hub/kong-inc_prometheus.png" alt="header icon">
      
    </div>
    <div class="page-header--info-meta">
      <div class="meta--title">
        <h1 id="main" tabindex="-1">Prometheus</h1>

        
          <div>
            <div class="versions-dropdown dropdown">
              <button class="dropdown-button" id="version-dropdown" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                
                Gateway
                

                Version 3.7.x
                <span class="caret"></span>
              </button>
              <ul class="dropdown-menu dropdown-menu-right" id="version-list" role="menu" aria-labelledby="version-dropdown">
                
                
                <li class="">
                  <a href="/hub/kong-inc/prometheus/unreleased/">
                    unreleased
                  </a>
                </li>
                
                <li class="">
                  <a href="/hub/kong-inc/prometheus/">
                    3.8.x <em>(latest)</em>
                  </a>
                </li>
                
                <li class="active">
                  <a href="/hub/kong-inc/prometheus/3.7.x/">
                    3.7.x
                  </a>
                </li>
                
                <li class="">
                  <a href="/hub/kong-inc/prometheus/3.6.x/">
                    3.6.x
                  </a>
                </li>
                
                <li class="">
                  <a href="/hub/kong-inc/prometheus/3.5.x/">
                    3.5.x
                  </a>
                </li>
                
                <li class="">
                  <a href="/hub/kong-inc/prometheus/3.4.x/">
                    3.4.x
                  </a>
                </li>
                
                <li class="">
                  <a href="/hub/kong-inc/prometheus/3.3.x/">
                    3.3.x
                  </a>
                </li>
                
                <li class="">
                  <a href="/hub/kong-inc/prometheus/3.2.x/">
                    3.2.x
                  </a>
                </li>
                
                <li class="">
                  <a href="/hub/kong-inc/prometheus/3.1.x/">
                    3.1.x
                  </a>
                </li>
                
                <li class="">
                  <a href="/hub/kong-inc/prometheus/3.0.x/">
                    3.0.x
                  </a>
                </li>
                
                <li class="">
                  <a href="/hub/kong-inc/prometheus/2.8.x/">
                    2.8.x
                  </a>
                </li>
                
                <li class="">
                  <a href="/hub/kong-inc/prometheus/2.7.x/">
                    2.7.x
                  </a>
                </li>
                
                <li class="">
                  <a href="/hub/kong-inc/prometheus/2.6.x/">
                    2.6.x
                  </a>
                </li>
                
              </ul>
            </div>
          </div>
        
      </div>
      <div class="meta--content">
        <div class="meta--content-title"><span>By Kong Inc.</span></div>
        <div class="meta--content-badges">
          
  <a href="https://konghq.com/pricing" target="_blank" class="badge konnect" aria-label="available in Konnect" rel="noopener nofollow noreferrer "> </a>


  <a href="https://konghq.com/pricing" target="_blank" class="badge enterprise" aria-label="available with Kong Gateway Enterprise subscription" rel="noopener nofollow noreferrer "> </a>




  <a href="https://konghq.com/pricing" target="_blank" class="badge oss" aria-label="open-source" rel="noopener nofollow noreferrer "> </a>


        </div>
      </div>
    </div>
  </div>
</header>


    

    <aside class="docs-sidebar">
  <i class="fa fa-times close-sidebar"></i>

  <ul class="sidebar-container" role="tree" aria-label="Plugin's Documentation">
    <li class="sidebar-item plugin-hub" role="none">
      <span role="treeitem" class="sidebar-label">
        <a class="sidebar-link" tabindex="-1" href="/hub/">
          
  <img src="/assets/images/icons/hub-layout/icn-breadcrumbs.svg" alt="">


Plugin Hub

        </a>
      </span>
    </li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-1-introduction-subtree">
    
      
  <img src="/assets/images/icons/hub-layout/icn-overview.svg" alt="">


Introduction

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Introduction subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-1-introduction-subtree" role="group" aria-label="Introduction">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/hub/kong-inc/prometheus/3.7.x/">
        

Overview

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/hub/kong-inc/prometheus/3.7.x/configuration/">
        
  <img src="/assets/images/icons/hub-layout/icn-configuration.svg" alt="">


Configuration reference

      </a>
    

    
  </span>

  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label" aria-expanded="false" aria-owns="id-3-using-the-plugin-subtree">
    
      
  <img src="/assets/images/icons/hub-layout/icn-how-to.svg" alt="">


Using the plugin

    

    
      <button class="sidebar-tree-toggle" aria-label="toggle Using the plugin subtree" tabindex="-1">
        <i class="fa fa-chevron-down"></i>
      </button>
    
  </span>

  
    <ul class="items" id="id-3-using-the-plugin-subtree" role="group" aria-label="Using the plugin">
      
        
        <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/hub/kong-inc/prometheus/3.7.x/how-to/basic-example/">
        

Basic config examples

      </a>
    

    
  </span>

  
</li>

      
    </ul>
  
</li>

    
      <li class="sidebar-item" role="none">
  <span role="treeitem" class="sidebar-label">
    
      <a class="sidebar-link" tabindex="-1" href="/hub/kong-inc/prometheus/3.7.x/changelog/">
        
  <img src="/assets/images/icons/hub-layout/icn-changelog.svg" alt="">


Changelog

      </a>
    

    
  </span>

  
</li>

    
    
      <li>
        <a id="konnect-cta" href="https://konghq.com/products/kong-konnect/register?utm_medium=referral&amp;utm_source=docs&amp;utm_campaign=gateway-konnect&amp;utm_content=prometheus" class="sidebar-button" target="_blank" rel="noopener nofollow noreferrer ">
          Try it in Konnect
        </a>
      </li>
    
  </ul>

</aside>


    <aside class="docs-toc" id="plugin-toc">
  <i class="fa fa-times close-sidebar"></i>
  <i class="fa fa-chevron-right collapse-toc"></i>
  <i class="far fa-list-alt expand-toc"></i>

  
    <div class="docs-toc-title">
<img src="/assets/images/icons/hub-layout/icn-on-this-page.svg" alt="On this page"><a href="#">On this page</a>
</div>
<ul>
  <li><a href="#grafana-dashboard" class="active scroll-to">Grafana dashboard</a></li>
  <li>
<a href="#available-metrics" class="scroll-to">Available metrics</a>
    <ul>
      <li><a href="#metrics-disabled-by-default" class="scroll-to">Metrics disabled by default</a></li>
      <li><a href="#metrics-output-example" class="scroll-to">Metrics output example</a></li>
    </ul>
  </li>
  <li><a href="#accessing-the-metrics" class="scroll-to">Accessing the metrics</a></li>
</ul>

  

  
</aside>


    <div class="page-content-container v2" id="documentation">
      <div class="page-content">
        <div class="content show-anchor-links">
          

          
          
      
        
            
              <blockquote id="version-notice" class="important">
              You are browsing documentation for an outdated plugin version.
            
              
              
            </blockquote>
        
      

      






<blockquote>
  <p>
    <em>Looking for the plugin's configuration parameters? You can find them in the <a href="/hub/kong-inc/prometheus/3.7.x/configuration/">Prometheus configuration reference</a> doc.</em>
  </p>
</blockquote>







<p>Expose metrics related to Kong and proxied upstream services in 
<a href="https://prometheus.io/docs/introduction/overview/" target="_blank" rel="noopener nofollow noreferrer ">Prometheus</a> 
exposition format, which can be scraped by a Prometheus Server.</p>

<p>Metrics tracked by this plugin are available on both the Admin API and Status
API at the <code class="language-plaintext highlighter-rouge">http://localhost:&lt;port&gt;/metrics</code>
endpoint. Note that the URL to those APIs will be specific to your
installation; see <a href="#accessing-the-metrics">Accessing the metrics</a>.</p>

<p>This plugin records and exposes metrics at the node level. Your Prometheus
server will need to discover all Kong nodes via a service discovery mechanism,
and consume data from each node’s configured <code class="language-plaintext highlighter-rouge">/metrics</code> endpoint.</p>

<h2 id="grafana-dashboard">Grafana dashboard</h2>

<p>Metrics exported by the plugin can be graphed in Grafana using a drop-in
dashboard: <a href="https://grafana.com/grafana/dashboards/7424-kong-official/" target="_blank" rel="noopener nofollow noreferrer ">https://grafana.com/grafana/dashboards/7424-kong-official/</a>.</p>

<h2 id="available-metrics">Available metrics</h2>

<ul>
  <li>
<strong>DB reachability</strong>: A gauge type with a value of 0 or 1, which represents
whether DB can be reached by a Kong node.</li>
  <li>
    <p><strong>Connections</strong>: Various Nginx connection metrics like active, reading,
writing, and number of accepted connections.</p>
  </li>
  <li>
<strong>Dataplane Status</strong>: The last seen timestamp, config hash, config sync status and certificate expiration timestamp for
data plane nodes is exported to control plane.</li>
  <li>
<strong>Enterprise License Information</strong>: The Kong Gateway license expiration date, features and
license signature. Those metrics are only exported on Kong Gateway.</li>
  <li>
<strong>DB Entity Count</strong> <span class="badge enterprise"></span> : A gauge metric that
  measures the current number of database entities.</li>
  <li>
<strong>Number of Nginx timers</strong> : A gauge metric that measures the total number of Nginx
  timers, in Running or Pending state.</li>
</ul>

<h3 id="metrics-disabled-by-default">Metrics disabled by default</h3>
<p>Following metrics are disabled by default as it may create high cardinality of metrics and may
cause performance issues:</p>

<h4 id="status-code-metrics">Status code metrics</h4>
<p>When <code class="language-plaintext highlighter-rouge">status_code_metrics</code> is set to true <code class="language-plaintext highlighter-rouge">http_requests_total</code>, <code class="language-plaintext highlighter-rouge">stream_sessions_total</code> metrics will be exported.</p>
<ul>
  <li>
<strong>Status codes</strong>: HTTP status codes returned by Kong.
    <ul>
      <li>
<strong><code class="language-plaintext highlighter-rouge">http_requests_total</code></strong>: HTTP status codes per consumer/service/route at Kong.</li>
      <li>
<strong><code class="language-plaintext highlighter-rouge">stream_session_total</code></strong>: Stream status codes per service/route in Kong.</li>
    </ul>
  </li>
</ul>

<h4 id="latency-metrics">Latency metrics</h4>
<p>When <code class="language-plaintext highlighter-rouge">latency_metrics</code> is set to true:</p>
<ul>
  <li>
<strong>Latencies Histograms</strong>: Latency (in ms), as measured at Kong:
    <ul>
      <li>
<strong>Request</strong>: Total time taken by Kong and upstream services to serve
requests.</li>
      <li>
<strong>Kong</strong>: Time taken for Kong to route a request and run all configured
plugins.</li>
      <li>
<strong>Upstream</strong>: Time taken by the upstream service to respond to requests.</li>
    </ul>
  </li>
</ul>

<h4 id="bandwidth-metrics">Bandwidth metrics</h4>
<p>When <code class="language-plaintext highlighter-rouge">bandwidth_metrics</code> is set to true:</p>
<ul>
  <li>
<strong>Bandwidth</strong>: Total Bandwidth (egress/ingress) flowing through Kong.
This metric is available per service and as a sum across all services.</li>
</ul>

<h4 id="upstream-health-metrics">Upstream health metrics</h4>
<p>When <code class="language-plaintext highlighter-rouge">upstream_health_metrics</code> is set to true:</p>
<ul>
  <li>
<strong>Target Health</strong>: The healthiness status (<code class="language-plaintext highlighter-rouge">healthchecks_off</code>, <code class="language-plaintext highlighter-rouge">healthy</code>, <code class="language-plaintext highlighter-rouge">unhealthy</code>, or <code class="language-plaintext highlighter-rouge">dns_error</code>) of targets
belonging to a given upstream as well as their subsystem (<code class="language-plaintext highlighter-rouge">http</code> or <code class="language-plaintext highlighter-rouge">stream</code>).</li>
</ul>

<h3 id="metrics-output-example">Metrics output example</h3>
<p>Here is an example of output you could expect from the <code class="language-plaintext highlighter-rouge">/metrics</code> endpoint:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>curl <span class="nt">-i</span> http://localhost:8001/metrics
</code></pre></div></div>

<p>Response:</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP/1.1 200 OK
Server: openresty/1.15.8.3
Date: Tue, 7 Jun 2020 16:35:40 GMT
Content-Type: text/plain<span class="p">;</span> <span class="nv">charset</span><span class="o">=</span>UTF-8
Transfer-Encoding: chunked
Connection: keep-alive
Access-Control-Allow-Origin: <span class="k">*</span>


<span class="c"># HELP kong_bandwidth_bytes Total bandwidth (ingress/egress) throughput in bytes</span>
<span class="c"># TYPE kong_bandwidth_bytes counter</span>
kong_bandwidth_bytes<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,direction<span class="o">=</span><span class="s2">"egress"</span>,consumer<span class="o">=</span><span class="s2">""</span><span class="o">}</span> 264
kong_bandwidth_bytes<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,direction<span class="o">=</span><span class="s2">"ingress"</span>,consumer<span class="o">=</span><span class="s2">""</span><span class="o">}</span> 93
<span class="c"># HELP kong_datastore_reachable Datastore reachable from Kong, 0 is unreachable</span>
<span class="c"># TYPE kong_datastore_reachable gauge</span>
kong_datastore_reachable 1
<span class="c"># HELP kong_http_requests_total HTTP status codes per consumer/service/route in Kong</span>
<span class="c"># TYPE kong_http_requests_total counter</span>
kong_http_requests_total<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,code<span class="o">=</span><span class="s2">"200"</span>,source<span class="o">=</span><span class="s2">"service"</span>,consumer<span class="o">=</span><span class="s2">""</span><span class="o">}</span> 1
<span class="c"># HELP kong_node_info Kong Node metadata information</span>
<span class="c"># TYPE kong_node_info gauge</span>
kong_node_info<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,version<span class="o">=</span><span class="s2">"3.0.0"</span><span class="o">}</span> 1
<span class="c"># HELP kong_kong_latency_ms Latency added by Kong and enabled plugins for each service/route in Kong</span>
<span class="c"># TYPE kong_kong_latency_ms histogram</span>
kong_kong_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"5"</span><span class="o">}</span> 1
kong_kong_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"7"</span><span class="o">}</span> 1
kong_kong_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"10"</span><span class="o">}</span> 1
kong_kong_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"15"</span><span class="o">}</span> 1
kong_kong_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"20"</span><span class="o">}</span> 1
kong_kong_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"30"</span><span class="o">}</span> 1
kong_kong_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"50"</span><span class="o">}</span> 1
kong_kong_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"75"</span><span class="o">}</span> 1
kong_kong_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"100"</span><span class="o">}</span> 1
kong_kong_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"200"</span><span class="o">}</span> 1
kong_kong_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"500"</span><span class="o">}</span> 1
kong_kong_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"750"</span><span class="o">}</span> 1
kong_kong_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"1000"</span><span class="o">}</span> 1
kong_kong_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"+Inf"</span><span class="o">}</span> 1
kong_kong_latency_ms_count<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span><span class="o">}</span> 1
kong_kong_latency_ms_sum<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span><span class="o">}</span> 4
<span class="c"># HELP kong_memory_lua_shared_dict_bytes Allocated slabs in bytes in a shared_dict</span>
<span class="c"># TYPE kong_memory_lua_shared_dict_bytes gauge</span>
kong_memory_lua_shared_dict_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,shared_dict<span class="o">=</span><span class="s2">"kong"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 40960
kong_memory_lua_shared_dict_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,shared_dict<span class="o">=</span><span class="s2">"kong_cluster_events"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 40960
kong_memory_lua_shared_dict_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,shared_dict<span class="o">=</span><span class="s2">"kong_core_db_cache"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 823296
kong_memory_lua_shared_dict_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,shared_dict<span class="o">=</span><span class="s2">"kong_core_db_cache_miss"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 90112
kong_memory_lua_shared_dict_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,shared_dict<span class="o">=</span><span class="s2">"kong_db_cache"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 794624
kong_memory_lua_shared_dict_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,shared_dict<span class="o">=</span><span class="s2">"kong_db_cache_miss"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 86016
kong_memory_lua_shared_dict_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,shared_dict<span class="o">=</span><span class="s2">"kong_healthchecks"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 40960
kong_memory_lua_shared_dict_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,shared_dict<span class="o">=</span><span class="s2">"kong_locks"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 61440
kong_memory_lua_shared_dict_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,shared_dict<span class="o">=</span><span class="s2">"kong_process_events"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 40960
kong_memory_lua_shared_dict_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,shared_dict<span class="o">=</span><span class="s2">"kong_rate_limiting_counters"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 86016
kong_memory_lua_shared_dict_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,shared_dict<span class="o">=</span><span class="s2">"prometheus_metrics"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 57344
<span class="c"># HELP kong_memory_lua_shared_dict_total_bytes Total capacity in bytes of a shared_dict</span>
<span class="c"># TYPE kong_memory_lua_shared_dict_total_bytes gauge</span>
kong_memory_lua_shared_dict_total_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,shared_dict<span class="o">=</span><span class="s2">"kong"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 5242880
kong_memory_lua_shared_dict_total_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,shared_dict<span class="o">=</span><span class="s2">"kong_cluster_events"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 5242880
kong_memory_lua_shared_dict_total_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,shared_dict<span class="o">=</span><span class="s2">"kong_core_db_cache"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 134217728
kong_memory_lua_shared_dict_total_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,shared_dict<span class="o">=</span><span class="s2">"kong_core_db_cache_miss"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 12582912
kong_memory_lua_shared_dict_total_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,shared_dict<span class="o">=</span><span class="s2">"kong_db_cache"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 134217728
kong_memory_lua_shared_dict_total_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,shared_dict<span class="o">=</span><span class="s2">"kong_db_cache_miss"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 12582912
kong_memory_lua_shared_dict_total_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,shared_dict<span class="o">=</span><span class="s2">"kong_healthchecks"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 5242880
kong_memory_lua_shared_dict_total_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,shared_dict<span class="o">=</span><span class="s2">"kong_locks"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 8388608
kong_memory_lua_shared_dict_total_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,shared_dict<span class="o">=</span><span class="s2">"kong_process_events"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 5242880
kong_memory_lua_shared_dict_total_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,shared_dict<span class="o">=</span><span class="s2">"kong_rate_limiting_counters"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 12582912
kong_memory_lua_shared_dict_total_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,shared_dict<span class="o">=</span><span class="s2">"prometheus_metrics"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 5242880
<span class="c"># HELP kong_memory_workers_lua_vms_bytes Allocated bytes in worker Lua VM</span>
<span class="c"># TYPE kong_memory_workers_lua_vms_bytes gauge</span>
kong_memory_workers_lua_vms_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,pid<span class="o">=</span><span class="s2">"21173"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 64329517
kong_memory_workers_lua_vms_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,pid<span class="o">=</span><span class="s2">"21174"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 46314808
kong_memory_workers_lua_vms_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,pid<span class="o">=</span><span class="s2">"21175"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 46681598
kong_memory_workers_lua_vms_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,pid<span class="o">=</span><span class="s2">"21176"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 46637209
kong_memory_workers_lua_vms_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,pid<span class="o">=</span><span class="s2">"21177"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 46234336
kong_memory_workers_lua_vms_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,pid<span class="o">=</span><span class="s2">"21178"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 46180420
kong_memory_workers_lua_vms_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,pid<span class="o">=</span><span class="s2">"21179"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 46161105
kong_memory_workers_lua_vms_bytes<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,pid<span class="o">=</span><span class="s2">"21180"</span>,kong_subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 46366877
<span class="c"># HELP kong_nginx_connections_total Number of connections by subsystem</span>
<span class="c"># TYPE kong_nginx_connections_total gauge</span>
kong_nginx_connections_total<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,subsystem<span class="o">=</span><span class="s2">"http"</span>,state<span class="o">=</span><span class="s2">"accepted"</span><span class="o">}</span> 296
kong_nginx_connections_total<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,subsystem<span class="o">=</span><span class="s2">"http"</span>,state<span class="o">=</span><span class="s2">"active"</span><span class="o">}</span> 9
kong_nginx_connections_total<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,subsystem<span class="o">=</span><span class="s2">"http"</span>,state<span class="o">=</span><span class="s2">"handled"</span><span class="o">}</span> 296
kong_nginx_connections_total<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,subsystem<span class="o">=</span><span class="s2">"http"</span>,state<span class="o">=</span><span class="s2">"reading"</span><span class="o">}</span> 0
kong_nginx_connections_total<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,subsystem<span class="o">=</span><span class="s2">"http"</span>,state<span class="o">=</span><span class="s2">"total"</span><span class="o">}</span> 296
kong_nginx_connections_total<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,subsystem<span class="o">=</span><span class="s2">"http"</span>,state<span class="o">=</span><span class="s2">"waiting"</span><span class="o">}</span> 0
kong_nginx_connections_total<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,subsystem<span class="o">=</span><span class="s2">"http"</span>,state<span class="o">=</span><span class="s2">"writing"</span><span class="o">}</span> 9
<span class="c"># HELP kong_nginx_metric_errors_total Number of nginx-lua-prometheus errors</span>
<span class="c"># TYPE kong_nginx_metric_errors_total counter</span>
kong_nginx_metric_errors_total 0
<span class="c"># HELP kong_nginx_requests_total Total number of requests</span>
<span class="c"># TYPE kong_nginx_requests_total gauge</span>
kong_nginx_requests_total<span class="o">{</span><span class="nv">node_id</span><span class="o">=</span><span class="s2">"849373c5-45c1-4c1d-b595-fdeaea6daed8"</span>,subsystem<span class="o">=</span><span class="s2">"http"</span><span class="o">}</span> 296
<span class="c"># HELP kong_nginx_timers Number of Nginx timers</span>
<span class="c"># TYPE kong_nginx_timers gauge</span>
kong_nginx_timers<span class="o">{</span><span class="nv">state</span><span class="o">=</span><span class="s2">"pending"</span><span class="o">}</span> 1
kong_nginx_timers<span class="o">{</span><span class="nv">state</span><span class="o">=</span><span class="s2">"running"</span><span class="o">}</span> 39
<span class="c"># HELP kong_request_latency_ms Total latency incurred during requests for each service/route in Kong</span>
<span class="c"># TYPE kong_request_latency_ms histogram</span>
kong_request_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"25"</span><span class="o">}</span> 1
kong_request_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"50"</span><span class="o">}</span> 1
kong_request_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"80"</span><span class="o">}</span> 1
kong_request_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"100"</span><span class="o">}</span> 1
kong_request_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"250"</span><span class="o">}</span> 1
kong_request_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"400"</span><span class="o">}</span> 1
kong_request_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"700"</span><span class="o">}</span> 1
kong_request_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"1000"</span><span class="o">}</span> 1
kong_request_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"2000"</span><span class="o">}</span> 1
kong_request_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"5000"</span><span class="o">}</span> 1
kong_request_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"10000"</span><span class="o">}</span> 1
kong_request_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"30000"</span><span class="o">}</span> 1
kong_request_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"60000"</span><span class="o">}</span> 1
kong_request_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"+Inf"</span><span class="o">}</span> 1
kong_request_latency_ms_count<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span><span class="o">}</span> 1
kong_request_latency_ms_sum<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span><span class="o">}</span> 6
<span class="c"># HELP kong_upstream_latency_ms Latency added by upstream response for each service/route in Kong</span>
<span class="c"># TYPE kong_upstream_latency_ms histogram</span>
kong_upstream_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"25"</span><span class="o">}</span> 1
kong_upstream_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"50"</span><span class="o">}</span> 1
kong_upstream_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"80"</span><span class="o">}</span> 1
kong_upstream_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"100"</span><span class="o">}</span> 1
kong_upstream_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"250"</span><span class="o">}</span> 1
kong_upstream_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"400"</span><span class="o">}</span> 1
kong_upstream_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"700"</span><span class="o">}</span> 1
kong_upstream_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"1000"</span><span class="o">}</span> 1
kong_upstream_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"2000"</span><span class="o">}</span> 1
kong_upstream_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"5000"</span><span class="o">}</span> 1
kong_upstream_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"10000"</span><span class="o">}</span> 1
kong_upstream_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"30000"</span><span class="o">}</span> 1
kong_upstream_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"60000"</span><span class="o">}</span> 1
kong_upstream_latency_ms_bucket<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span>,le<span class="o">=</span><span class="s2">"+Inf"</span><span class="o">}</span> 1
kong_upstream_latency_ms_count<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span><span class="o">}</span> 1
kong_upstream_latency_ms_sum<span class="o">{</span><span class="nv">service</span><span class="o">=</span><span class="s2">"google"</span>,route<span class="o">=</span><span class="s2">"google.route-1"</span><span class="o">}</span> 2



</code></pre></div></div>

<blockquote class="note">
  <p><strong>Note:</strong> Upstream targets’ health information is exported once per subsystem. If both
stream and HTTP listeners are enabled, targets’ health will appear twice. Health metrics
have a <code class="language-plaintext highlighter-rouge">subsystem</code> label to indicate which subsystem the metric refers to.</p>
</blockquote>

<h2 id="accessing-the-metrics">Accessing the metrics</h2>

<p>In most configurations, the Kong Admin API will be behind a firewall or would
need to be set up to require authentication. Here are a couple of options to
allow access to the <code class="language-plaintext highlighter-rouge">/metrics</code> endpoint to Prometheus:</p>

<ol>
  <li>
    <p>If the <a href="/gateway/latest/reference/configuration/#status_listen">Status API</a>
is enabled, then its <code class="language-plaintext highlighter-rouge">/metrics</code> endpoint can be used.
This is the preferred method.</p>
  </li>
  <li>
    <p>The <code class="language-plaintext highlighter-rouge">/metrics</code> endpoint is also available on the Admin API, which can be used
if the Status API is not enabled. Note that this endpoint is unavailable
when <a href="/gateway/api/admin-ee/latest/#/rbac/get-rbac-users/">RBAC</a> is enabled on the
Admin API (Prometheus does not support Key-Auth to pass the token).</p>
  </li>
</ol>

<hr>










    
          
  <div class="book-nav-container">
    <hr>
    
    
      <div class="book-nav next">
        <span class="direction">Next</span>
        <a href="/hub/kong-inc/prometheus/3.7.x/configuration/">Prometheus Configuration</a>
      </div>
    
  </div>


        </div>
      </div>
    </div>
  </div>
  <div id="scroll-to-top-button">
    <i class="fas fa-chevron-up"></i>
  </div>
  
    <div class="feedback-widget-container">
  <input id="feedback-widget-checkbox" type="checkbox">
  <label for="feedback-widget-checkbox">
    <img src="/assets/images/icons/feedback-widget.svg" alt="Feedback widget">
  </label>
  <div class="feedback-container">
    <div class="feedback-thankyou">
      Thank you for your feedback.
    </div>
    <div class="feedback-comment">
      <textarea id="feedback-comment-text" rows="3" placeholder="Please let us know what we can improve on this page..."></textarea>
      <div class="feedback-comment-buttons">
        <button id="feedback-comment-button-back">Back</button>
        <button id="feedback-comment-button-submit" class="button-primary">Submit</button>
      </div>
    </div>
    <div class="feedback-options">
      <div class="feedback-options-title">Was this page useful?</div>
      <div class="feedback-options-buttons">
        <i data-feedback-result="yes" class="feedback-options-button far fa-thumbs-up"></i>
        <i data-feedback-result="no" class="feedback-options-button far fa-thumbs-down"></i>
      </div>
    </div>
  </div>
</div>

  
</div>

<div id="image-modal" data-image-expand-disabled="">
  <div class="image-modal-backdrop"></div>
  <div class="image-container">
    <img src="" alt="">
    <i class="fa fa-times"></i>
  </div>
</div>


<!-- <script>
/* eslint-disable */
  window.intercomSettings = {
    app_id: "gwoi3d8y"
  };
</script>

<script>
/* eslint-disable */
(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/gwoi3d8y';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()
</script>
 -->


    <footer class="marketing-footer--light-gray">
  <section>
    <ul class="newsletter">
      <li class="logo-wrapper">
        <div class="logo">
          <img src="/assets/images/logos/konglogo-light-theme-primary.svg" alt="Kong">
        </div>
        <div class="footer-title">Powering the API world</div>
        <p>
          Increase developer productivity, security, and performance at scale with the unified platform for API management, service mesh, and ingress controller.
        </p>
        <div class="footer-form-container">
          <form id="subscribe-form" method="POST" action="/assets/javascripts/subscribe.js">
            <input required id="subscribe-input" type="email" name="email" placeholder="Email" aria-required="true" aria-invalid="false">
            <input id="footer-form-button" type="submit" form="subscribe-form" value="Subscribe">
          </form>

          <div id="form-response"></div>
        </div>
      </li>

      <li class="footer-columns">
        <ul class="footer-columns-product-list">
          <li>
            <nav>
              <div class="footer-category">Products</div>
              <ul>
                <li>
                  <a href="https://konghq.com/products/kong-konnect" target="_blank" rel="noopener nofollow noreferrer ">Kong Konnect</a>
                </li>
                <li>
                  <a href="https://konghq.com/products/kong-enterprise" target="_blank" rel="noopener nofollow noreferrer ">Kong Gateway Enterprise</a>
                </li>
                <li>
                  <a href="https://konghq.com/products/kong-gateway" target="_blank" rel="noopener nofollow noreferrer ">Kong Gateway</a>
                </li>
                <li>
                  <a href="https://konghq.com/products/kong-mesh" target="_blank" rel="noopener nofollow noreferrer ">Kong Mesh</a>
                </li>
                <li>
                  <a href="https://konghq.com/products/kong-ingress-controller" target="_blank" rel="noopener nofollow noreferrer ">Kong Ingress Controller</a>
                </li>
                <li>
                  <a href="https://insomnia.rest/" target="_blank" rel="noopener nofollow noreferrer noopener nofollow noreferrer">Kong Insomnia</a>
                </li>
                <li>
                  <a href="https://konghq.com/product-updates" target="_blank" rel="noopener nofollow noreferrer ">Product Updates</a>
                </li>
                <li>
                  <a href="https://konghq.com/contact-sales" target="_blank" rel="noopener nofollow noreferrer ">Get Started</a>
                </li>
              </ul>
            </nav>
          </li>
          <li>
            <nav>
              <div class="footer-category">Documentation</div>
              <ul>
                <li>
                  <a href="/konnect/">Kong Konnect Docs</a>
                </li>
                <li>
                  <a href="/gateway/latest/">Kong Gateway Docs</a>
                </li>
                <li>
                  <a href="/gateway/latest/kong-enterprise/">Kong Gateway Enterprise Docs</a>
                </li>
                <li>
                  <a href="/mesh/latest/">Kong Mesh Docs</a>
                </li>
                <li>
                  <a href="https://docs.insomnia.rest/" target="_blank" rel="noopener nofollow noreferrer noopener nofollow noreferrer">Kong Insomnia Docs</a>
                </li>
                <li>
                  <a href="/hub/">Kong Konnect Plugin Hub</a>
                </li>
              </ul>
            </nav>
          </li>
          <li>
            <nav>
              <div class="footer-category">Open Source</div>
              <ul>
                <li>
                  <a href="https://konghq.com/install/#kong-community" target="_blank" rel="noopener nofollow noreferrer ">Kong Gateway</a>
                </li>
                <li>
                  <a href="https://kuma.io/" target="_blank" rel="noopener nofollow noreferrer noopener nofollow noreferrer">Kuma</a>
                </li>
                <li>
                  <a href="https://insomnia.rest/" target="_blank" rel="noopener nofollow noreferrer noopener nofollow noreferrer">Insomnia</a>
                </li>
                <li>
                  <a href="https://konghq.com/community" target="_blank" rel="noopener nofollow noreferrer ">Kong Community</a>
                </li>
              </ul>
            </nav>
          </li>
          <li>
            <nav>
              <div class="footer-category">Company</div>
              <ul>
                <li>
                  <a href="https://konghq.com/company/about-us" target="_blank" rel="noopener nofollow noreferrer ">About Kong</a>
                </li>
                <li>
                  <a href="https://konghq.com/customers" target="_blank" rel="noopener nofollow noreferrer ">Customers</a>
                </li>
                <li>
                  <a href="https://konghq.com/company/careers" target="_blank" rel="noopener nofollow noreferrer ">Careers</a>
                </li>
                <li>
                  <a href="https://konghq.com/press-room" target="_blank" rel="noopener nofollow noreferrer ">Press</a>
                </li>
                <li>
                  <a href="https://konghq.com/events" target="_blank" rel="noopener nofollow noreferrer ">Events</a>
                </li>
                <li>
                  <a href="https://konghq.com/company/contact-us" target="_blank" rel="noopener nofollow noreferrer ">Contact</a>
                </li>
              </ul>
            </nav>
          </li>
        </ul>
      </li>

    </ul>
  </section>

  <section class="legal">
    <div class="container d-flex">
      <div class="social">
        <div class="social-link">
          <a href="https://www.facebook.com/konghq/" title="Facebook" target="_blank" rel="noopener nofollow noreferrer "><i aria-label="Facebook" class="fa fa-facebook-official" aria-hidden="true"></i></a>
        </div>
        <div class="social-link">
          <a href="https://twitter.com/thekonginc" title="Twitter" target="_blank" rel="noopener nofollow noreferrer "><i aria-label="Twitter" class="fa fa-twitter" aria-hidden="true"></i></a>
        </div>
        <div class="social-link">
          <a href="https://www.meetup.com/topics/kong/all/" title="Meetup" target="_blank" rel="noopener nofollow noreferrer "><i aria-label="Meetup" class="fa fa-meetup" aria-hidden="true"></i></a>
        </div>
        <div class="social-link">
          <a href="https://linkedin.com/company/278819" title="LinkedIn" target="_blank" rel="noopener nofollow noreferrer "><i aria-label="GitHub" class="fa fa-linkedin" aria-hidden="true"></i></a>
        </div>
        <div class="social-link">
          <a href="https://github.com/kong/kong" target="_blank" class="btn-gh" title="GitHub" rel="noopener nofollow noreferrer ">
            <i class="fa fa-github" aria-hidden="true" aria-label="GitHub"></i>
          </a>
        </div>
      </div>
      <ul>
        <li>
          <span class="mashape-footer-content">
            <a href="https://konghq.com/legal/terms-of-use" target="_blank" rel="noopener nofollow noreferrer ">Terms</a><b>•</b>
            <a href="https://konghq.com/legal/privacy-policy" target="_blank" rel="noopener nofollow noreferrer ">Privacy</a><b>•</b>
            <a href="https://konghq.com/compliance" target="_blank" rel="noopener nofollow noreferrer ">Trust and Compliance</a>
          </span>
        </li>
      </ul>
      <div>
        <span>© Kong Inc. 2024  </span>
      </div>
    </div>
  </section>
</footer>
 <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<i class=\"fa fa-link\"></i>";
    anchor.title = `${id} Permalink`;
    return anchor;
  };

  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var className =
        ".show-anchor-links h1, .show-anchor-links h2, .show-anchor-links h3, " +
        ".show-anchor-links h4, .show-anchor-links h5, .show-anchor-links h6";
      var headers = document.querySelectorAll(className);

      for (var i = 0; i < headers.length; i++) {
        var header = headers[i];
        if (typeof header.id !== "undefined" && header.id !== "") {
          header.prepend(anchorForId(header.id));
        }
      }
    }
  };
</script>


    
      <script>
        (function stp(){
          if (typeof analytics == "undefined"){
            return setTimeout(stp, 30);
          }
          analytics.page();
        })();
      </script>
    

    <div id="fb-root"></div>
    <script id="github-bjs" src="https://buttons.github.io/buttons.js" async defer></script>

    <script type="text/javascript">
      var _vwo_code = (function() {
        var account_id = 125292,
          settings_tolerance = 2000,
          library_tolerance = 2500,
          use_existing_jquery = true,
          // DO NOT EDIT BELOW THIS LINE
          f = false,
          d = document;
        return {
          use_existing_jquery: function() {
            return use_existing_jquery;
          },
          library_tolerance: function() {
            return library_tolerance;
          },
          finish: function() {
            if (!f) {
              f = true;
              var a = d.getElementById('_vis_opt_path_hides');
              if (a) a.parentNode.removeChild(a);
            }
          },
          finished: function() {
            return f;
          },
          load: function(a) {
            var b = d.createElement('script');
            b.src = a;
            b.type = 'text/javascript';
            b.innerText;
            b.onerror = function() {
              _vwo_code.finish();
            };
            d.getElementsByTagName('head')[0].appendChild(b);
          },
          init: function() {
            settings_timer = setTimeout(
              '_vwo_code.finish()',
              settings_tolerance
            );
            this.load(
              '//dev.visualwebsiteoptimizer.com/j.php?a=' +
                account_id +
                '&u=' +
                encodeURIComponent(d.URL) +
                '&r=' +
                Math.random()
            );
            var a = d.createElement('style'),
              b = '',
              h = d.getElementsByTagName('head')[0];
            a.setAttribute('id', '_vis_opt_path_hides');
            a.setAttribute('type', 'text/css');
            if (a.styleSheet) a.styleSheet.cssText = b;
            else a.appendChild(d.createTextNode(b));
            h.appendChild(a);
            return settings_timer;
          }
        };
      })();
      _vwo_settings_timer = _vwo_code.init();
    </script>

    <script src="https://cdn.jsdelivr.net/npm/@docsearch/js@3"></script>

    
      <script type="text/javascript">
        docsearch({
          appId: '05Y6TLHNFZ',
          apiKey: '80483bfe28d9fd036a11a6f6a06454f8',
          indexName: 'konghq',
          container: '#getkong-algolia-search-input',
          disableUserPersonalization: true,
          placeholder: 'Search the docs...',
          // Override selected event to allow for local environment navigation
          transformItems(items) {
            return items.map((item) => {
              var modifiedUrl = window.location.protocol + '//' + window.location.host + item.url.split('docs.konghq.com')[1];
              return { ...item, url: modifiedUrl };
            });
          },
          translations: {
            button: {
              buttonText: 'Search the docs..',
              buttonAriaLabel: 'Search the docs...'
            }
          },
          resultsFooterComponent({ state }) {
            var facetParameters = {};
            
              facetParameters = {"version[0]":"3.7.x","product[0]":"Plugin Hub"};
            

            var queryParams = new URLSearchParams(facetParameters);
            queryParams.set('query', state.query);

            return {
              // The HTML `tag`
              type: 'a',
              ref: undefined,
              constructor: undefined,
              key: state.query,
              // Its props
              props: {
                href: `/search/?${queryParams.toString()}`,
                target: '_blank',
                // Raw text rendered in the HTML element
                children: 'See more >'
              },
              __v: null,
            };
          },
          
           searchParameters: {
              optionalFilters: ['product:Kong Konnect<score=1>', 'product:Kong Gateway<score=2>', 'product:Plugin Hub<score=3>'],
              facetFilters: [ 'version:3.7.x']
            }
            
          });
      </script>
    
  </body>

  

</html>
